var d=false;var M1='1.31';var rj='https://www.one-tab.com';var Aj=false;var Nj=false;var oK="onmousemove";var T="onmousedown";var LX="onmouseover";var rX="onmouseup";var zX="onmouseout";var CK="onclick";var J1="ondblclick";var sX="onmouseleave";var yX="mousemove";var U1="mousedown";var LK="mouseover";var nX="mouseup";var eX="mouseout";var xj="click";var Dj="dblclick";var cX=false;var iX=100006;function IK(){return document.body};var z1='aaa';var uK='NEW_TRANSACTION';MVS=false;GVS=true;var Y={};function ij(Tn,Zn){Y[Tn]=Zn;if(GVS)NX(Tn,Zn)};function A1(Rn){return Rn.indexOf(cK)==0};function $(fn){return fn.indexOf(L)==0};function XX(Kn,xn){G('availableVersion',function(nB){if(!nB)Kn(false);else {var DB=parseInt(M1.substring(0,M1.indexOf(".")));var lB=parseInt(M1.substring(M1.indexOf(".")+1));var eB=parseInt(nB.substring(0,nB.indexOf(".")));var BB=parseInt(nB.substring(nB.indexOf(".")+1));var VB=false;if(DB<eB)VB=true;if(DB==eB){if(lB<BB)VB=true}Kn(VB)}},xn)};ij('upgradeAvailable',function(pn,Fn){XX(Fn,uK)});function nK(In,mn){FK().sW('extensionKey',function($B,YB){if(!$B){$B=fX();FK().hj('extensionKey',$B,function(){In($B,YB)},YB)}else {In($B,YB)}},mn)};ij('getExtensionKey',function(jn,Cn){nK(Cn,uK)});var Vj=function(yn,an){Ej(function(QB,rB){if(!QB['tabGroups']){QB['tabGroups']=[];UX(QB,function(Bl){yn(Bl)},rB)}else {yn(rB)}},an)};var Z1=function(Ln){Ij(undefined,Ln)};ij('displayOneTabAction',function(on,Un){Z1(Un)});var gX=function(zn,un,Sn){Q(function(HB){$K(HB,function(nl){uj();nl(un)},zn,Sn)})};var RX=function(An,Pn,wn,vn){var En=An['linkUrl'];var gn=An['frameId'];var Nn='';if(An['linkTitle']){Nn=An['linkTitle'];a1(En,Nn,function(){uj()},wn,vn)}else {var cn=function(){window['chrome']['tabs']['sendMessage'](Pn['id'],{'type':'getLinkTitle','url':En},{'frameId':gn},function(el){var ll=el['title'];a1(En,ll,function(){uj()},wn,vn)})};window['chrome']['tabs']['executeScript'](Pn['id'],{'file':'ext-onetab-concatenated-sources-contentscript.js','frameId':gn,'runAt':'document_start'},function(){cn()})}};var wj=function(Xn,bn){PX(function(ZB){jX(ZB,true,function(Dl){Ij(true,Dl)},Xn,bn)})};var Hj=function(qn,On,sn){PX(function(TB,KB){var fB=[];if(KB){for(var RB in TB)if(parseInt(TB[RB]['index'])!=parseInt(KB['index']))fB.push(TB[RB]);if(fB.length>0){jX(fB,true,function(Vl){uj();if(On)On(sn);Vl()},qn,sn)}else {if(On)On(sn)}}else {if(!MVS)alert('no active tab (B)');else if(cX)console.log('no active tab (B)');On(sn)}})};var D1=function(dn,hn){PX(function(xB,IB){var pB=[];if(IB){for(var FB in xB)if(parseInt(xB[FB]['index'])<parseInt(IB['index']))pB.push(xB[FB]);if(pB.length>0){jX(pB,true,function($l){uj();$l()},dn,hn)}}})};var Tj=function(kn,Mn){PX(function(mB,yB){var jB=[];if(yB){for(var CB in mB)if(parseInt(mB[CB]['index'])>parseInt(yB['index']))jB.push(mB[CB]);if(jB.length>0){jX(jB,true,function(Yl){uj();Yl()},kn,Mn)}}})};var Qj=function(Gn,Wn,_n){K1(function(aB){jX(aB,true,function(Ql){Ij(true,function(){if(Wn)Wn()});Ql()},Gn,_n)})};ij('sendAllTabsInAllWindowsToOneTabAction',function(BV,Jn){Qj(BV.vW,Jn,uK)});function uj(nV){X1(function(UB){var oB=undefined;for(var zB=0;zB<UB.length;zB++){var LB=UB[zB];var uB=LB['url'];if(uB.indexOf(cK)==0){oB=LB;break}}if(oB){fK(oB,function(){if(nV)nV()})}else {if(nV)nV()}})};function sK(eV,lV){Ej(function(wB,NB){var SB=wB['tabGroups'];if(!SB)SB=[];var PB=0;for(var gB=0;gB<SB.length;gB++){var cB=SB[gB];PB+=cB['tabsMeta'].length}if(PB==0){X1(function(rl){for(var Hl in rl){if(A1(rl[Hl]['url'])){U(rl[Hl],function(){O1()})}}if(eV)eV()})}else {if(eV)eV()}},lV)};ij('closeOneTabIfEmpty',function(VV,DV){return sK(DV,uK)});function Ij(YV,$V){X1(function(iB){var EB=undefined;for(var AB=0;AB<iB.length;AB++){var vB=iB[AB];var XB=vB['url'];if(XB.indexOf(cK)==0){if(EB){U(EB)}else {EB=vB}}}if(EB){if(YV){B(EB,function(){fK(EB,function(){if($V)$V()})})}else {B(EB,function(){if($V)$V()})}}else {Rj(cK,function(){if($V)$V()})}})};function w1(ZV,QV){var rV=mX(ZV);var HV=true;X1(function(qB){var sB=undefined;for(var OB=0;OB<qB.length;OB++){var bB=qB[OB];var dB=bB['url'];if(dB==rV){if(sB){U(sB)}else {sB=bB}}}if(sB){if(HV){fK(sB,function(){})}B(sB,function(){if(QV)QV()})}else {Rj(rV,function(){if(QV)QV()})}})};ij('showOrRefreshAndFocusScriptPage',function(RV,TV){return w1(RV.url,TV)});var R=function(KV,xV,fV,FV){B1(function(hB,MB){var kB=_1('restoreWindow',hB);if(xV=='currentWindow')kB='currentWindow';if(xV=='newWindow')kB='newWindow';PX(function(Kl){var Tl=0;for(var fl in Kl){var Zl=Kl[fl];if(Zl['pinned']||Zl['isPinned'])continue;if(A1(Zl['url']))continue;Tl++}if(kB=='currentWindow'||((kB=='newWindow')&&(xV!='newWindow')&&(Tl==0))){for(var fl=0;fl<KV.length;fl++){var Rl=KV[fl];gK(Rl['url'],!!Rl['pinned'],false,function(){O1()})}}else {RK(KV,function(){O1()})}if(fV)fV(MB)});setTimeout(function(){sK(undefined,uK)},200)},FV)};ij('restoreTabsMeta',function(IV,pV){R(IV.kW,IV.EW,pV,uK)});function IX(CV,mV,jV){Ej(function(nP,VP){var GB=nP['tabGroups'];var eP=CV.split('\n');var JB=new Date().getTime();var WB=function(){var xl={};xl['createDate']=JB--;xl['tabsMeta']=[];xl['id']=j1();return xl};var lP=WB();for(var BP in eP){var _B=eP[BP];if(!_B){if(lP['tabsMeta'].length>0){GB.push(lP);lP=WB()}}else {var $P;var DP;if(_B.indexOf(' | ')!=-1){$P=_B.substring(0,_B.indexOf(' | '));DP=_B.substring(_B.indexOf(' | ')+' | '.length)}else {$P=_B;DP=KK(_B)}if($P.indexOf('://')==-1)$P='http://'+$P;var YP={};YP['id']=gj();YP['url']=$P;YP['title']=e1(DP);lP['tabsMeta'].push(YP)}}if(lP['tabsMeta'].length>0){GB.push(lP)}UX(nP,function(Fl){Ij(true,function(){if(mV)mV()})},VP)},jV)};ij('importTabsFromText',function(aV,yV){IX(aV.text,yV,uK)});ij('getAllMessages',function(uV,oV){var UV=["addOneTabNow","95PctMemoryReduction","noTabsInOneTabYet","importUrls","exportImportUrls","pleaseWaitTripleDot","about","optionTabGroupRestoreNewWindow","optionPinnedTabsDontSend","beforeLostInMessBrowserSlow","sendAllTabsAllWindowsToPlaceholder","convertTabsIntoAList","tooManyTabsSpeedUpFirefox","sendOnlyThisTabToPlaceholder","emptyOneTabInfoMsg","OneTabAlsoAvailableForFirefox","feedback","optionRestoreRemovalDefault","features","unlockBeforeDeleting","sendRightTabsToOneTab","tab","sendAllTabsToPlaceholder","options","sendThisWebLinkToOneTab","namedTabGroups","export","excludeDomainFromOneTab","optionStartupLaunchDisplay","lockTabGroup","optionTabGroupRestoreCurrentWindowAlways","noSignupRegistrationRequired","optionStartupLaunchNone","optionDuplicatesRejectDesc","unstarTabGroup","shareAllAsWebPage","nameThisTabGroup","afterInstantReliefRestoreLater","languageTitle","memoryAfter99","sendThisWebLinkToPlaceholder","optionRestoreRemovalDefaultDesc","sendLeftTabsToOneTab","optionRestoreRemovalKeepDesc","nowAvailableInLanguage","moreTripleDot","sendOnlyThisTabToOneTab","restoreAll","optionPinnedTabsDontSendDesc","optionPinnedTabsAllow","exportUrls","optionDuplicatesAllow","bringAllTabsIntoOneTab","import","total0Tabs","2tabs","optionPinnedTabsTitle","manifestDescription","displayOneTab","memoryBefore1981","optionDuplicatesTitle","sendAllTabsToOneTab","optionTabGroupRestoreNewWindowAlways","newExclamation","userLanguage","sendCurrentTabToOneTab","optionDuplicatesReject","save95PctReduceTabClutterGoogleChrome","areYouSureYouWantToDeleteThisTab","pasteInUrlsInstructions","1tab","exportThenImportNote","optionRestoreRemovalTitle","excludeWebSiteFromOneTab","optionStartupLaunchNoneDesc","sendAllTabsAllWindowsToOneTab","optionRestoreRemovalKeep","total2Tabs","deleteAll","createdPreceedingDate","sendAllTabsExceptThisTabToPlaceholder","optionPinnedTabsNote","starTabGroup","total1Tab","unlockTabGroup","help","optionTabGroupRestoreTitle","sendRightTabsToPlaceholder","areYouSureYouWantToDeleteTheseTabs","shareAsWebPage","optionStartupLaunchTitle","sendLeftTabsToPlaceholder","reduceMemoryUsageBy95Pct","sendAllTabsExceptThisToOneTab"];var LV={};for(var zV in UV)LV[UV[zV]]=yK(UV[zV]);setTimeout(function(){oV(LV)},1);return true});var Q=function(SV){window['chrome']['tabs']['query']({'active':true,'currentWindow':true},function(QP){if(QP&&QP.length==1)SV(QP[0])})};var cK=window['chrome']['runtime']['getURL']('onetab.html');var L=cK.substr(0,cK.length-'onetab.html'.length);function NX(cV,PV){window['chrome']['runtime']['onMessage']['addListener'](function(rP,HP,RP){if(rP.type==cV){var ZP=l1.parse(rP.eW);var TP={};PV(ZP,function(pl){if(!pl)pl={};TP.eW=l1.Hn(pl);RP(TP)});return true}})};function F1(NV,wV,gV){var vV={};vV.rW=NV;vV.eW={};if(wV)vV.eW=l1.Hn(wV);K1(function(fP){for(var KP in fP){if(A1(fP[KP]['url'])){window['chrome']['tabs']['sendMessage'](fP[KP]['id'],vV,function(Il){if(gV)gV(Il)})}}})};function PX(iV){window['chrome']['windows']['getLastFocused']({'populate':true},function(xP){window['chrome']['tabs']['query']({'windowId':xP['id']},function(ml){var jl;for(var Cl in ml){if(ml[Cl]['active'])jl=ml[Cl]}iV(ml,jl)})})};function K1(AV,EV){window['chrome']['windows']['getLastFocused'](undefined,function(FP){window['chrome']['windows']['getAll']({'populate':true},function(Ll){for(var yl in Ll){var al=Ll[yl];if(EV&&(al['id']==FP['id']))continue;AV(al['tabs'])}})})};function X1(XV){window['chrome']['tabs']['query']({},function(pP){XV(pP)})};function fj(qV,bV){window['chrome']['windows']['getLastFocused'](undefined,function(IP){window['chrome']['tabs']['query']({},function(zl){var Ul={};for(var ul in zl){var ol=zl[ul];var cl=ol['windowId'];if(bV&&(cl==IP['id']))continue;if(!Ul[cl])Ul[cl]=[];Ul[cl].push(ol)}var Sl=[];for(var ul in Ul){var gl=[];for(var Pl in Ul[ul])gl.push(Ul[ul][Pl]);Sl.push(gl)}qV(Sl)})})};function fK(OV,sV){window['chrome']['tabs']['reload'](OV['id'],{},function(){sV()})};function U(dV,hV){window['chrome']['tabs']['remove'](dV['id'],function(){if(hV)hV()})};function TK(MV,GV){var _V=[];for(var WV in MV)_V.push(MV[WV]);while(_V.length>0){var kV=_V.pop();U(kV,function(){TK(_V,function(){GV()})})}};function B(JV,BO){window['chrome']['tabs']['update'](JV['id'],{'active':true},function(){window['chrome']['windows']['update'](JV['windowId'],{'focused':true},function(){if(BO)BO()})})};function Rj(eO,nO){window['chrome']['tabs']['create']({'url':eO},function(){if(nO)nO()})};function gK($O,lO,DO,VO){window['chrome']['windows']['getLastFocused']({'populate':true},function(mP){window['chrome']['tabs']['create']({'windowId':mP['id'],'pinned':!!lO,'active':!!DO,'url':$O},function(){if(VO)VO()})})};function RK(QO,YO){window['chrome']['windows']['create']({'focused':true,'url':QO[0]['url']},function(CP){window['chrome']['tabs']['query']({'windowId':CP['id']},function(wl){window['chrome']['tabs']['update'](wl[0]['id'],{'pinned':!!QO[0]['pinned']},function(){if(QO.length==1){if(YO)YO()}else {for(var HO=1;HO<QO.length;HO++){var rO=QO[HO];var ZO=function(By){gK(rO['url'],!!rO['pinned'],false,function(){if(By==(QO.length-1))if(YO)YO()})}(HO)}}})})})};function Pj(fO,TO,KO){if(fO)TO['parentId']=fO._j;var RO={};RO._j=window['chrome']['contextMenus']['create'](TO);if(KO)setTimeout(KO,1);return RO};function jK(xO,pO,mO){if(xO)pO['parentId']=xO._j;var FO=pO.title;var IO={};IO._j=window['chrome']['contextMenus']['create'](pO);IO.FW=function(jP){window['chrome']['contextMenus']['update'](IO._j,{'enabled':jP},function(){})};IO.Wj=function(yP){window['chrome']['contextMenus']['update'](IO._j,{'type':'checkbox','checked':yP},function(){})};IO.VW=function(aP){window['chrome']['contextMenus']['update'](IO._j,{'title':aP},function(){})};if(mO)setTimeout(mO,1);return IO};function X(jO,CO){if(jO){window['chrome']['contextMenus']['removeAll'](function(){CO()})}else CO()};function lX(yO){var aO={'type':'separator','contexts':['all']};if(yO)aO['parentId']=yO._j;window['chrome']['contextMenus']['create'](aO)};function EK(){};EK.prototype.hj=function(oO,UO,LO){window['localStorage'][oO]=UO;LO()};EK.prototype.sW=function(uO,zO){zO(window['localStorage'][uO])};var BK=new EK();function FK(){return BK};function pK(SO){window['chrome']['browserAction']['onClicked']['addListener'](function(LP){SO()})};function ZK(){window['chrome']['commands']['onCommand']['addListener'](function(UP){if(UP=='display-onetab'){Ij()}if(UP=='send-current-tab-to-onetab'){gX()}if(UP=='send-all-tabs-in-current-window-to-onetab'){wj()}if(UP=='send-all-tabs-in-all-windows-to-onetab'){Qj(undefined,undefined)}if(UP=='send-all-tabs-except-this-to-onetab'){Hj(undefined,undefined)}})};function pX(PO){window['chrome']['tabs']['onCreated']['addListener'](function(oP){window['chrome']['tabs']['get'](oP['id'],function(Nl){PO()})});window['chrome']['tabs']['onUpdated']['addListener'](function(zP,SP,uP){PO()});window['chrome']['tabs']['onMoved']['addListener'](function(PP,cP){PO()});window['chrome']['tabs']['onRemoved']['addListener'](function(gP,wP){PO()});window['chrome']['tabs']['onReplaced']['addListener'](function(vP,NP){PO()});window['chrome']['tabs']['onDetached']['addListener'](function(iP,EP){PO()});window['chrome']['tabs']['onAttached']['addListener'](function(AP,XP){PO()});var gO={};var wO=undefined;var cO=undefined;window['chrome']['tabs']['onActivated']['addListener'](function(bP){window['chrome']['tabs']['get'](bP['tabId'],function(il){if(!il)return; var vl=wO?wO:undefined;gO[il['windowId']]=il;if(typeof cO==='undefined')cO=il['windowId'];if(cO==il['windowId'])wO=il;if(vl!=wO['id'])PO()})});window['chrome']['windows']['onFocusChanged']['addListener'](function(OP){var qP=wO?wO['id']:undefined;cO=OP;if(gO.hasOwnProperty(cO)){wO=gO[cO]}if(wO&&(qP!=wO['id']))PO()})};function bX(NO){window['chrome']['tabs']['query']({},function(sP){NO()})};function mX(vO){return window['chrome']['runtime']['getURL'](vO)};function yK(iO){return window['chrome']['i18n']['getMessage'](iO)};var F={};var KX=function(){F.Jj=undefined;F.wW=undefined;F.KW=undefined;F.HW=[];F.RW=[];F.$W=[];F.$n=[];F.Bn=[];F.Gj=[];F.pW=[];F.AW=undefined};var b1=function(EO,AO){for(var XO in EO){var qO=EO[XO];for(var bO in qO){qO[bO].FW(AO)}}};function O1(){setTimeout(function(){z(uK)},100)};var N='';function z(OO){B1(function(dP,hP){fj(function(El){PX(function(hO,lv){var JO=false;if(!lv||!lv['url']){if(cX)console.log('no active tab (A)');return }var WO=lv['url'];JO=A1(WO);F.wW.FW(!JO);N=lv['url'];F.AW.FW(!JO);if(lv['url']&&(lv['url'].toLowerCase().indexOf('http')==0)){F.AW.VW(yK('excludeDomainFromOneTab').replace('DOMAIN.COM',KK(lv['url'])))}else {F.AW.VW(yK('excludeWebSiteFromOneTab'))}F.AW.Wj(Z(WO,dP));b1([F.HW,F.RW,F.$W,F.$n,F.Bn,F.Gj],true);var Bv=false;var sO=false;var dO=false;var GO=false;var nv=false;for(var kO in hO){if(lv){if(parseInt(hO[kO]['index'])<parseInt(lv['index'])){if(hO[kO]['url']){if(!A1(hO[kO]['url']))Bv=true}}if(parseInt(hO[kO]['index'])>parseInt(lv['index'])){if(hO[kO]['url']){if(!A1(hO[kO]['url']))sO=true}}if(!A1(hO[kO]['url'])){GO=true;if(hO[kO]['id']!=lv['id'])dO=true}}}for(var kO in El){var Dv=El[kO];for(var MO in Dv){var _O=Dv[MO];if(!A1(_O['url']))nv=true}}if(!GO)b1([F.HW],false);if(JO||!GO)b1([F.RW],false);if(!Bv)b1([F.$W],false);if(!sO)b1([F.$n],false);if(!nv)b1([F.Bn],false);if(!dO)b1([F.Gj],false)})},true)},OO)};function PK(Vv,$v){X(F.Jj,function(){KX();cj($v);O1();if(Vv)Vv()})};ij('recreateContextMenus',function(Qv,Yv){PK(Yv,uK)});function cj(xv){F.Jj=Pj(undefined,{'type':'normal','contexts':['all'],'title':'OneTab'});F.wW=jK(F.Jj,{'type':'normal','title':yK('displayOneTab'),'contexts':['all'],'onclick':function(MP,kP){Z1()}});var Kv=jK(F.Jj,{'type':'normal','title':yK('sendAllTabsToOneTab'),'contexts':['all'],'onclick':function(WP,GP){wj(undefined,uK)}});F.HW.push(Kv);var Fv=jK(F.Jj,{'type':'normal','title':yK('sendThisWebLinkToOneTab'),'contexts':['link'],'onclick':function(JP,_P){RX(JP,_P,undefined,uK)}});F.pW.push(Fv);lX(F.Jj);var Rv=jK(F.Jj,{'type':'normal','title':yK('sendOnlyThisTabToOneTab'),'contexts':['all'],'onclick':function(nG,BG){gX(undefined,undefined,uK)}});F.RW.push(Rv);var Tv=jK(F.Jj,{'type':'normal','title':yK('sendAllTabsExceptThisToOneTab'),'contexts':['all'],'onclick':function(lG,eG){Hj(undefined,undefined,uK)}});F.Gj.push(Tv);var Hv=jK(F.Jj,{'type':'normal','title':yK('sendLeftTabsToOneTab'),'contexts':['all'],'onclick':function(VG,DG){D1(undefined,uK)}});F.$W.push(Hv);var fv=jK(F.Jj,{'type':'normal','title':yK('sendRightTabsToOneTab'),'contexts':['all'],'onclick':function(YG,$G){Tj(undefined,uK)}});F.$n.push(fv);var rv=jK(F.Jj,{'type':'normal','title':yK('sendAllTabsAllWindowsToOneTab'),'contexts':['all'],'onclick':function(rG,QG){Qj(undefined,undefined,uK)}});F.Bn.push(rv);lX(F.Jj);F.AW=jK(F.Jj,{'type':'checkbox','checked':false,'contexts':['all'],'title':yK('excludeWebSiteFromOneTab'),'onclick':function(ZG,HG){B1(function(Al,ql){var bl=KK(N);var Xl=Lj(bl,Al);if(Xl){O(bl,function(){O1()},ql)}else {vj(bl,function(){O1()},ql)}},uK)}});var Zv=false;Ej(function(FG,pG){var TG=FG['tabGroups'];if(!TG)TG=[];for(var xG=0;xG<TG.length;xG++){var KG=TG[xG];if(KG['label']&&I(KG['label'])!=''){Zv=true;break}}if(Zv){lX(F.Jj);F.KW=Pj(F.Jj,{'type':'normal','contexts':['all'],'title':yK('namedTabGroups')},function(){for(var sl=0;sl<TG.length;sl++){var Ol=TG[sl];if(Ol['label']&&I(Ol['label'])!=''){var dl=function(Iv){var pv=Pj(F.KW,{'type':'normal','contexts':['all'],'title':Iv['label']},function(){F.HW.push(jK(pv,{'type':'normal','title':yK('sendAllTabsToPlaceholder').replace('PLACEHOLDER',Iv['label']),'contexts':['all'],'onclick':function(nk,Bk){wj(Iv['id'],uK)}}));F.pW.push(jK(pv,{'type':'normal','title':yK('sendThisWebLinkToPlaceholder').replace('PLACEHOLDER',Iv['label']),'contexts':['link'],'onclick':function(lk,ek){RX(lk,ek,Iv['id'],uK)}}));F.RW.push(jK(pv,{'type':'normal','title':yK('sendOnlyThisTabToPlaceholder').replace('PLACEHOLDER',Iv['label']),'contexts':['all'],'onclick':function(Vk,Dk){gX(Iv['id'],undefined,uK)}}));F.Gj.push(jK(pv,{'type':'normal','title':yK('sendAllTabsExceptThisTabToPlaceholder').replace('PLACEHOLDER',Iv['label']),'contexts':['all'],'onclick':function(Yk,$k){Hj(Iv['id'],undefined,uK)}}));F.$W.push(jK(pv,{'type':'normal','title':yK('sendLeftTabsToPlaceholder').replace('PLACEHOLDER',Iv['label']),'contexts':['all'],'onclick':function(rk,Qk){D1(Iv['id'],uK)}}));F.$n.push(jK(pv,{'type':'normal','title':yK('sendRightTabsToPlaceholder').replace('PLACEHOLDER',Iv['label']),'contexts':['all'],'onclick':function(Zk,Hk){Tj(Iv['id'],uK)}}));F.Bn.push(jK(pv,{'type':'normal','title':yK('sendAllTabsAllWindowsToPlaceholder').replace('PLACEHOLDER',Iv['label']),'contexts':['all'],'onclick':function(Rk,Tk){Qj(Iv['id'],undefined,uK)}}))})}(Ol)}}})}lX(F.Jj);var RG=jK(F.Jj,{'type':'normal','title':yK('help'),'contexts':['all'],'onclick':function(kl,hl){Rj(rj+'/help')}});if(cX){var fG=jK(F.Jj,{'type':'normal','title':'debug','contexts':['all'],'onclick':function(Gl,Ml){Ej(function(mv,Cv){console.log(l1.Hn(mv));nK(function(ny,ey){console.log(l1.Hn(ny));B1(function(fk,Kk){console.log(fk);FK().sW('installDate',function(BY,nY){console.log('installDate',BY);FK().sW('lastSeenVersion',function(B$,n$){console.log('lastSeenVersion',B$)},nY)},Kk)},ey)},Cv)},uK)}})}},xv)};var l1={Hn:function(Lv){var jv,Uv,ov,yv='',av;switch(typeof Lv){case 'object':;if(Lv){if(Lv instanceof Array){for(Uv=0;Uv<Lv.length;++Uv){av=this.Hn(Lv[Uv]);if(yv){yv+=','}yv+=av}return '['+yv+']'}else if(typeof Lv.toString!='undefined'){for(Uv in Lv){av=Lv[Uv];if(typeof av!='undefined'&&typeof av!='function'){av=this.Hn(av);if(yv){yv+=','}yv+=this.Hn(Uv)+':'+av}}return '{'+yv+'}'}}return 'null';case 'number':;return isFinite(Lv)?String(Lv):'null';case 'string':;ov=Lv.length;yv='\"';for(Uv=0;Uv<ov;Uv+=1){jv=Lv.charAt(Uv);if(jv>=' '){if(jv=='\\'||jv=='\"'){yv+='\\'}yv+=jv}else {switch(jv){case '\b':;yv+='\\b';break;case '\f':;yv+='\\f';break;case '\n':;yv+='\\n';break;case '\r':;yv+='\\r';break;case '\t':;yv+='\\t';break;default:; jv=jv.charCodeAt();yv+='\\u00'+Math.floor(jv/16).toString(16)+(jv%16).toString(16)}}}return yv+'\"';case 'boolean':;return String(Lv);default:; return 'null'}},parse:function(iv){var cv=0;var wv=' ';function Ev(IG){throw {name:'JSONError',message:IG,IW:cv-1,text:iv}};function zv(){wv=iv.charAt(cv);cv+=1;return wv};function gv(){while(wv!==''&&wv<=' '){zv()}};function uv(){var yG,mG='',CG,jG;if(wv=='\"'){d:while(zv()){if(wv=='\"'){zv();return mG}else if(wv=='\\'){switch(zv()){case 'b':;mG+='\b';break;case 'f':;mG+='\f';break;case 'n':;mG+='\n';break;case 'r':;mG+='\r';break;case 't':;mG+='\t';break;case 'u':;jG=0;for(yG=0;yG<4;yG+=1){CG=parseInt(zv(),16);if(!isFinite(CG)){break d}jG=jG*16+CG}mG+=String.fromCharCode(jG);break;default:; mG+=wv}}else {mG+=wv}}}Ev("Bad string")};function Sv(){var aG=[];if(wv=='['){zv();gv();if(wv==']'){zv();return aG}while(wv){aG.push(Pv());gv();if(wv==']'){zv();return aG}else if(wv!=','){break}zv();gv()}}Ev("Bad array")};function Nv(){var LG,UG={};if(wv=='{'){zv();gv();if(wv=='}'){zv();return UG}while(wv){LG=uv();gv();if(wv!=':'){break}zv();UG[LG]=Pv();gv();if(wv=='}'){zv();return UG}else if(wv!=','){break}zv();gv()}}Ev("Bad object")};function vv(){var zG='',oG;if(wv=='-'){zG='-';zv()}while(wv>='0'&&wv<='9'){zG+=wv;zv()}if(wv=='.'){zG+='.';while(zv()&&wv>='0'&&wv<='9'){zG+=wv}}if(wv=='e'||wv=='E'){zG+='e';zv();if(wv=='-'||wv=='+'){zG+=wv;zv()}while(wv>='0'&&wv<='9'){zG+=wv;zv()}}oG=+zG;if(!isFinite(oG)){Ev("Bad number")}else {return oG}};function Av(){switch(wv){case 't':;if(zv()=='r'&&zv()=='u'&&zv()=='e'){zv();return true}break;case 'f':;if(zv()=='a'&&zv()=='l'&&zv()=='s'&&zv()=='e'){zv();return false}break;case 'n':;if(zv()=='u'&&zv()=='l'&&zv()=='l'){zv();return null}break}Ev("Syntax error")};function Pv(){gv();switch(wv){case '{':;return Nv();case '[':;return Sv();case '\"':;return uv();case '-':;return vv();default:; return wv>='0'&&wv<='9'?vv():Av()}};return Pv()}};function KK(Xv){if(Xv.indexOf('://')==-1)Xv='http://'+Xv;Xv=Xv.substring(Xv.indexOf('://')+'://'.length);if(Xv.indexOf('/')!=-1)Xv=Xv.substring(0,Xv.indexOf('/'));return Xv.toLowerCase()};function rK(bv,Ov){for(var qv in bv)if(bv[qv]==Ov)return true;return false};function WK(sv){if(typeof sv=='string')sv=document.getElementById(sv);if(!sv)return; while(sv.childNodes.length>0)sv.removeChild(sv.childNodes[0])};function oj(hv){var dv=document.createElement('div');dv.style.fontSize='1px';dv.style.height=hv+'px';dv.style.width=1+'px';return dv};function dK(kv,Mv){for(var Gv=0;Gv<Mv.length;Gv++){if(Mv[Gv]==kv){Mv.splice(Gv,1);Gv--}}};function aj(eT){var BT=eT?eT:window.event;var nT=0;var Wv=0;var _v=0;var Jv=0;if(BT!=null){if(Aj){_v=BT.shiftKey;Wv=BT.altKey;nT=BT.ctrlKey}else {_v=BT.shiftKey;nT=BT.ctrlKey;Wv=BT.altKey;Jv=BT.metaKey}}return (nT||Jv||_v)};function Y1(QT){var $T=QT?QT:window.event;var YT=0;var lT=0;var DT=0;var VT=0;if($T!=null){if(Aj){DT=$T.shiftKey;lT=$T.altKey;YT=$T.ctrlKey}else {DT=$T.shiftKey;YT=$T.ctrlKey;lT=$T.altKey;VT=$T.metaKey}}return (YT||VT)};function g(fT){var TT=fT?fT:window.event;var RT=0;var rT=0;var HT=0;var ZT=0;if(TT!=null){if(Aj){HT=TT.shiftKey;rT=TT.altKey;RT=TT.ctrlKey}else {HT=TT.shiftKey;RT=TT.ctrlKey;rT=TT.altKey;ZT=TT.metaKey}}return (HT)};function eK(KT){KT['noCacheRandom']=EX()};function EX(){return new Date().getTime()+Math.round(Math.random()*10000)+''};function q1(IT,pT,FT){eK(pT);var xT=l1.Hn(pT);G1(IT,xT,function(uG){if(FT)FT(l1.parse((uG)))})};function G1(yT,jT,CT){var mT=P1();mT.open(jT==null?"GET":"POST",yT,true);mT.setRequestHeader("Content-Type","text/json");mT.onreadystatechange=function(){var SG=false;SG=(mT.readyState==4);if(SG){var PG=mT.responseText;CT(PG)}};mT.send(jT)};function P1(){var aT=new XMLHttpRequest();return aT};function fX(){return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(gG){var cG=Math.random()*16|0,wG=gG=='x'?cG:(cG&0x3|0x8);return wG.toString(16)})};var $j='0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_'.split('');function j1(UT,LT){var uT=$j,oT=[],zT=0;LT=LT||uT.length;UT=UT||22;for(zT=0;zT<UT;zT++)oT[zT]=uT[0|Math.random()*LT];return oT.join('')};function gj(){return j1()};function I(ST){if(!ST==null||ST==undefined)return '';return ST.replace(/^\s+/,'').replace(/\s+$/,'')};function DX(PT){var wT=document.createElement('span');var cT=PT.indexOf('OneTab');var gT=cT+'OneTab'.length;if(cT==0){wT.appendChild(P());wT.appendChild(document.createTextNode(PT.substring(gT)))}else {wT.appendChild(document.createTextNode(PT.substring(0,cT)));wT.appendChild(P());if(gT!=PT.length)wT.appendChild(document.createTextNode(PT.substring(gT)))}return wT};function P(){var NT=document.createElement('span');var vT=document.createElement('span');vT.style.fontStyle='italic';vT.appendChild(document.createTextNode('One'));NT.appendChild(vT);NT.appendChild(document.createTextNode('Tab'));return NT};function h(ET){var iT=ET.split('OneTab');var XT=document.createElement('span');for(var AT in iT){if(iT[AT]=='')XT.appendChild(P());else XT.appendChild(document.createTextNode(iT[AT]))}return XT};function lj(bT){var sT=new Date(bT.valueOf()),qT=(bT.getUTCDay()+6)%7,OT;sT.setUTCDate(sT.getUTCDate()-qT+3);OT=sT.valueOf();sT.setUTCMonth(0,1);if(sT.getUTCDay()!==4){sT.setUTCMonth(0,1+((4-sT.getUTCDay())+7)%7)}return Math.ceil((OT-sT)/(7*24*3600*1000))+1};function zj(dT,hT){while(dT.length<hT)dT='0'+dT;return dT};function S1(kT){return (kT.getUTCFullYear()+'').substr(2)+zj(lj(kT)+'',2)};function Yj(MT){if(MT==0)return yK('total0Tabs');if(MT==1)return yK('total1Tab');return yK('total2Tabs').replace('2',MT+'')};function AX(GT){var WT=(GT==1?yK('1tab'):(yK('2tabs').replace('2',GT+'')));return WT};function tj(_T,nQ){var JT='';for(var BQ=0;BQ<nQ;BQ++)JT+=_T;return JT};function VK(eQ){eQ.sort(function(NG,vG){if(NG['starred']||vG['starred']){if(!vG['starred'])return -1;else if(!NG['starred'])return 1;else {if(NG['starredDate']>vG['starredDate'])return 1;if(NG['starredDate']<vG['starredDate'])return -1;return 0}}else {if(NG['createDate']>vG['createDate'])return -1;if(NG['createDate']<vG['createDate'])return 1;return 0}})};function e1(lQ){if(!lQ)lQ='';return lQ.replace(/[\x00-\x1F\x7F-\x9F]/g,"")};function _(DQ){W();Vj(function(EG){var iG=function(Wl){pK(function(){wj(undefined,uK)});bX(function(){FK().sW('lastSeenVersion',function(ly,Dy){B1(function(xk,Fk){Ej(function($Y,YY){var eY=$Y['tabGroups'];if(!eY)eY=[];var lY=0;for(var VY=0;VY<eY.length;VY++){var DY=eY[VY];lY+=DY['tabsMeta'].length}if(M1!=ly){FK().hj('lastSeenVersion',M1,function(e$){},YY)}else {if(lY>0&&_1('startupLaunch',xk)=='displayOneTab'){Ij()}}},Fk)},Dy)},uK)});PK(undefined,Wl);ZK();pX(function(){O1()})};FK().sW('installDate',function(_l,Jl){if(!_l){FK().hj('installDate',new Date().getTime(),function(VQ){iG(VQ)},Jl)}else {iG(Jl)}},EG)},DQ)};function W(){ij('createNewTab',function(XG,AG){Rj(XG.url,AG)});ij('createNewTabInLastFocusedWindowWithOpts',function(qG,bG){gK(qG.url,!!qG.PW,!!qG.YW,bG)});ij('createNewTabsInNewFocusedWindow',function(sG,OG){RK(sG.kW,OG)})};function B1($Q,YQ){FK().sW('settings',function(dG,hG){if(!dG)$Q({},hG);else $Q(l1.parse(dG),hG)},YQ)};ij('getSettings',function(rQ,QQ){B1(QQ,uK)});function Bj(HQ,ZQ,TQ){FK().hj('settings',l1.Hn(HQ),ZQ,TQ)};ij('storeSettings',function(fQ,RQ){Bj(fQ.qj,RQ,uK)});var jj={'restoreWindow':'newWindow','pinnedTabs':'ignore','startupLaunch':'displayOneTab','restoreRemoval':'default','duplicates':'allow'};function G(xQ,KQ,FQ){B1(function(kG,MG){KQ(_1(xQ,kG,MG))},FQ)};ij('getSetting',function(IQ,pQ){G(IQ.ZW,function(GG){pQ({value:GG})},uK)});function _1(CQ,mQ){if(mQ[CQ])return mQ[CQ];else return jj[CQ]};function Ej(jQ,yQ){FK().sW('state',function(WG,_G){if(!WG){jQ({},_G)}else {jQ(l1.parse(WG),_G)}},yQ)};ij('getState',function(LQ,aQ){Ej(aQ,uK)});function UX(oQ,UQ,zQ){FK().sW('state',function(e6,l6){var B6=e6;var JG=oQ['tabGroups'];for(var n6=0;n6<JG.length;n6++){if(JG[n6]['tabsMeta'].length==0){JG.splice(n6,1);n6--}}FK().hj('state',l1.Hn(oQ),function(BN){FK().sW('state',function(SQ,PQ){try{l1.parse(SQ)}catch(uQ){FK.hj('state',B6,function(Vy){if(!MVS)alert('Out of local storage memory - could not store extension state')},PQ)}finally{F1('storedStateChanged',{UW:oQ});if(UQ)UQ(PQ)}},BN)},l6)},zQ)};ij('storeState',function(gQ,cQ){UX(gQ.UW,cQ,uK)});function vK(wQ,vQ,NQ,iQ){Ej(function(D6,V6){if(!D6[wQ])D6[wQ]=[];D6[wQ].push(vQ);UX(D6,function(nN){if(NQ)NQ(nN)},V6)},iQ)};function a1(bQ,XQ,EQ,AQ,qQ){var OQ={'id':gj(),'url':bQ,'title':e1(XQ)};c1(OQ,AQ,EQ,qQ)};function $K(dQ,sQ,hQ,kQ){if(A1(dQ['url'])){sQ(function(){});return }var MQ={'id':gj(),'url':dQ['url'],'title':e1(dQ['title'])};if((dQ['pinned']||dQ['isPinned']))MQ['pinned']=true;c1(MQ,hQ,function(){sQ(function(){U(dQ,function(){O1()})})},kQ)};function c1(JQ,GQ,WQ,_Q){Ej(function(Z6,R6){var Y6=Z6['tabGroups'];VK(Y6);var Q6=undefined;if(typeof GQ==='undefined'){for(var H6=0;H6<Y6.length;H6++){var r6=Y6[H6];if(r6['starred']||r6['locked'])continue;Q6=r6;Q6['tabsMeta'].splice(0,0,JQ);break}}else {for(var H6=0;H6<Y6.length;H6++){var r6=Y6[H6];if(r6['id']==GQ){Q6=r6;Q6['tabsMeta'].splice(0,0,JQ);break}}}if(!Q6){var T6=gj();Y6.push({'id':T6,'tabsMeta':[JQ],'createDate':new Date().getTime()})}UX(Z6,WQ,R6)},_Q)};function jX(nE,eE,BE,lE,DE){B1(function(f6,K6){Ej(function(FN,IN){var ZN=FN['tabGroups'];VK(ZN);var DN=[];for(var VN in nE){if(!eE)DN.push(nE[VN]);else {if(!Z(nE[VN]['url'],f6))DN.push(nE[VN])}}var pN=[];var fN=[];for(var VN=0;VN<DN.length;VN++){var RN=DN[VN];var HN=RN['url'];var TN=false;if(HN.indexOf('://tabmemfree.appspot.com')!=-1){TN=true;break}}if(TN){if(!MVS)alert('The OneTab extension is not compatible with TabMemFree. Please ensure that none of your tabs are parked with TabMemFree, then uninstall the TabMemFree extension and restart your web browser before using OneTab.');BE(function(){});return }d:for(var VN=0;VN<DN.length;VN++){var RN=DN[VN];var HN=RN['url'];if((RN['pinned']||RN['isPinned'])&&_1('pinnedTabs',f6)=='ignore'){continue}if(A1(HN)){continue}if($(HN)&&!A1(HN)){fN.push(RN);continue}if((HN.indexOf('chrome://chrome-signin')==0)||HN=='chrome://newtab/'||HN=='about:blank'||HN==''||HN=='about:home'||HN=='about:newtab'){fN.push(RN);continue}if(HN.indexOf('chrome-devtools://')==0){continue}if(_1('duplicates',f6)=='reject'){for(var YN in ZN){for(var QN in ZN[YN]['tabsMeta']){if(ZN[YN]['tabsMeta'][QN]['url']==HN){fN.push(RN);continue d}}}for(var YN in pN){if(pN[YN]['url']==HN){fN.push(RN);continue d}}}fN.push(RN);var KN={'id':gj(),'url':HN,'title':e1(RN['title'])};if((RN['pinned']||RN['isPinned']))KN['pinned']=true;pN.push(KN)}var eN=false;if(typeof lE==='undefined'){lE=gj();eN=true}var $N=function(){BE(function(){setTimeout(function(){TK(fN,function(){O1()})},1)})};if(eN){vK('tabGroups',{'id':lE,'tabsMeta':pN,'createDate':new Date().getTime()},function(){$N()},IN)}else {for(var YN=0;YN<ZN.length;YN++){var xN=ZN[YN];if(xN['id']==lE){var lN=xN;var rN=[];rN.push(0);rN.push(0);for(var QN in pN)rN.push(pN[QN]);Array.prototype.splice.apply(lN['tabsMeta'],rN);break}}UX(FN,function(B8){$N()},IN)}},K6)},DE)};function Z($E,VE){return Lj(KK($E),VE)};function Lj(QE,YE){if(YE['excludedDomains']){for(var rE in YE['excludedDomains'])if(YE['excludedDomains'][rE]==QE)return true}return false};function vj(HE,ZE,TE){B1(function(x6,F6){if(!Lj(HE,x6)){if(!x6['excludedDomains'])x6['excludedDomains']=[];x6['excludedDomains'].push(HE);Bj(x6,ZE,F6)}else {ZE(F6)}},TE)};function O(RE,fE,KE){B1(function(p6,m6){if(!p6['excludedDomains'])return; for(var I6=0;I6<p6['excludedDomains'].length;I6++){if(p6['excludedDomains'][I6]==RE){p6['excludedDomains'].splice(I6,1);Bj(p6,function(mN){if(fE)fE()},m6);return }else {if(fE)fE()}}},KE)};var r1=function(){window['_gaq']=window['_gaq']||[];window['_gaq'].push(['_setAccount','UA-38573374-2']);window['_gaq'].push(['_trackPageview']);var FE=document.createElement('script');FE['type']='text/javascript';FE['async']=true;FE['src']='https://ssl.google-analytics.com/ga.js';var xE=document.getElementsByTagName('script')[0];xE.parentNode.insertBefore(FE,xE)};r1();_()