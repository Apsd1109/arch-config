S4c.prototype.e0=W(1419,function(a){zx(this.ib.Hw(this.D),"docs-icon-comment-blank-highlighted",a)});W4c.prototype.e0=W(1418,function(a){var b=aI(this.D);this.C.Ye(function(c){var d=a&&c.Fp().kb()==b;c.e0(d)})});VO.prototype.wUa=W(1412,function(a,b){for(var c=this.V[a],d=vd(arguments,1),e=0;e<c.length;++e){var f=c[e];(f.isEnabled(this)||eOc[a])&&f[dOc[a]].apply(f,d)}});
l1b.prototype.xNa=W(1275,function(a,b,c,d){for(var e=a-1,f=this.D.length;0<=e;){var h=this.D[e--];if(!(h.getSheetType()!=b||bG(h)&&d||jVe(h)))return h}if(!c)return null;for(e=f-1;e>=a;)if(c=this.D[e--],!(c.getSheetType()!=b||bG(c)&&d||jVe(c)))return c;return null});fma.prototype.uha=W(7,function(){throw Uca("setValue not supported").C;});eda.prototype.H=W(2,function(){throw Uca("remove").C;});Hda.prototype.H=W(1,function(){this.J.splice(this.F,1);this.F--});
ema.prototype.H=W(0,function(){lda(0<=this.F);lma(this.J,this.L[this.F]);mma(this.J);--this.F});function Qbh(a,b){a.XU=b.XU;return a}function Rbh(a,b,c,d){var e=0;Wa(a,b)&&(a=a.slice(e,e+d),e=0);var f=e;for(e+=d;f<e;){var h=Math.min(f+1E4,e);d=h-f;f=a.slice(f,h);f.splice(0,0,c,0);Array.prototype.splice.apply(b,f);f=h;c+=d}}function Sbh(a,b,c){for(a=a.ij();a.C();){var d=a.D();if(Db(b,d))return c&&a.H(),!0}return!1}function Tbh(a,b,c){return a.Wg(b)?a.mza(b,c):null}
function Ubh(a,b){var c=b.Er();b=b.Fr();var d=a.get(c);return!Db(b,d)||null==d&&!a.Wg(c)?!1:!0}function Vbh(a){return a?a.Fr():null}function Wbh(a){if(a.F.C())return!0;if(!Wa(a.F,a.R))return!1;a.F=a.L.C.ij();return a.F.C()}function Xbh(a,b){return(a=a.C.get(b))?a:[]}function Ybh(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(Db(a,d.Er()))return d}return null}function Zbh(a,b){var c=a.C.get(b);if(void 0===c)a.D++;else{var d=a.C;d["delete"].call(d,b);a.F--}return c}
function $bh(a,b,c){var d=a.C.get(b);a.C.set(b,void 0===c?null:c);void 0===d?a.F++:a.D++;return d}function ach(a,b){for(b=b.ij();b.C();){var c=b.D().Fr();if(Db(a,c))return!0}return!1}function bch(){this.J=this.F=0}t(bch,Ua);bch.prototype.C=function(){return this.F<this.L.size()};bch.prototype.D=function(){this.C();return this.L.Ura(this.J=this.F++)};bch.prototype.H=function(){this.L.kka(this.J);this.F=this.J;this.J=-1};function cch(){bch.call(this)}t(cch,bch);function dch(){this.J=!1}t(dch,Ua);
dch.prototype.C=g("J");dch.prototype.D=function(){this.C();this.O=this.F;var a=this.F.D();this.J=Wbh(this);return a};dch.prototype.H=function(){this.O.H();this.O=null;this.J=Wbh(this)};function ech(){}t(ech,Ua);ech.prototype.C=function(){return this.F.C()};ech.prototype.D=function(){return this.F.D().Fr()};ech.prototype.H=function(){this.F.H()};function fch(){}t(fch,Ua);fch.prototype.C=function(){return this.F.C()};fch.prototype.D=function(){return this.F.D().Er()};fch.prototype.H=function(){this.F.H()};
function gch(){this.F=this.J=0}t(gch,Ua);gch.prototype.C=function(){return this.J<this.L.C.length};gch.prototype.D=function(){this.C();this.F=this.J++;return this.L.C[this.F]};gch.prototype.H=function(){this.L.kka(this.J=this.F);this.F=-1};function hch(a){var b;null==a?b=0:b=Gb(a)|0;return b}function ich(a,b){for(var c=hch(b),d=Xbh(a,c),e=0;e<d.length;e++){var f=d[e];if(Db(b,f.Er()))return 1==d.length?(d.length=0,b=a.C,b["delete"].call(b,c)):d.splice(e,1),a.D--,f.Fr()}return null}
function jch(){this.F=0}t(jch,Ua);jch.prototype.C=function(){if(this.F<this.J.length)return!0;var a=this.R.next();return a.done?!1:(this.J=a.value[1],this.F=0,!0)};jch.prototype.D=function(){return this.L=this.J[this.F++]};jch.prototype.H=function(){ich(this.O,this.L.Er());0!=this.F&&this.F--};function kch(){this.D=0}t(kch,Ua);kch.prototype.ij=function(){var a=new jch;a.O=this;a.R=a.O.C.entries();a.F=0;a.J=[];a.L=null;return a};
function lch(a){var b=0;for(a=a.ij();a.C();){var c=a.D();b+=ica(c);b|=0}return b}function mch(){}t(mch,Ua);mch.prototype.equals=function(a){return null!=a&&a.K0?Db(this.Er(),a.Er())&&Db(this.Fr(),a.Fr()):!1};mch.prototype.gk=function(){return ica(this.Er())^ica(this.Fr())};mch.prototype.toString=function(){return Xa(this.Er())+"="+Xa(this.Fr())};mch.prototype.K0=!0;function nch(){this.F=0}t(nch,mch);nch.prototype.Er=function(){return this.C.value[0]};
nch.prototype.Fr=function(){return this.D.D!=this.F?this.D.C.get(this.C.value[0]):this.C.value[1]};nch.prototype.uha=function(a){return $bh(this.D,this.C.value[0],a)};function och(){}t(och,Ua);och.prototype.C=function(){return!this.J.done};och.prototype.D=function(){this.O=this.J;this.J=this.L.next();var a=new nch,b=this.O,c=this.F.D;a.D=this.F;a.C=b;a.F=c;return a};och.prototype.H=function(){Zbh(this.F,this.O.value[0])};function pch(){this.D=this.F=0}t(pch,Ua);
pch.prototype.ij=function(){var a=new och;a.F=this;a.L=a.F.C.entries();a.J=a.L.next();return a};function qch(a){var b=new kch;b.C=new Map;b.F=a;a.C=b;b=new pch;b.C=new Map;b.H=a;a.D=b}function rch(a,b){return Wa(b,a)?"(this Map)":Xa(b)}function sch(){}t(sch,Ua);sch.prototype.toString=function(){return this.C?$b(this.D)?this.C.toString():Xa(this.C.toString())+Xa(this.D):this.J};function tch(a,b){var c=new sch;c.H=", ".toString();c.F=a.toString();c.D=b.toString();c.J=Xa(c.F)+Xa(c.D);return c}
function uch(a,b){a.C?Lb(a.C,a.H):a.C=qca(a.F);a=a.C;a.vs=Xa(a.vs)+Xa(b)}function vch(){}t(vch,Ua);m=vch.prototype;m.Er=g("D");m.Fr=g("C");m.uha=function(a){var b=this.C;this.C=a;return b};m.equals=function(a){return null!=a&&a.K0?Db(this.D,a.Er())&&Db(this.C,a.Fr()):!1};m.gk=function(){return ica(this.D)^ica(this.C)};m.toString=function(){return Xa(this.D)+"="+Xa(this.C)};m.K0=!0;function wch(){}t(wch,vch);function xch(a,b){var c=new wch;c.D=a;c.C=b;return c}
function ych(a,b,c){var d=hch(b),e=Xbh(a,d);if(0==e.length)a.C.set(d,e);else if(d=Ybh(b,e))return d.uha(c);e[e.length]=xch(b,c);a.D++;return null}function zch(a,b,c){for(a=a.HI().ij();a.C();){var d=a.D();if(Db(b,d.Er()))return c&&(d=xch(d.Er(),d.Fr()),a.H()),d}return null}function Ach(){}t(Ach,Ua);m=Ach.prototype;m.add=function(){throw Uca("Add not supported on this collection").C;};m.addAll=function(a){var b=!1;for(a=a.ij();a.C();){var c=a.D();b=!!(+b|+this.add(c))}return b};
m.clear=function(){for(var a=this.ij();a.C();)a.D(),a.H()};m.contains=function(a){return Sbh(this,a,!1)};m.K5b=function(a){for(a=a.ij();a.C();){var b=a.D();if(!this.contains(b))return!1}return!0};m.isEmpty=function(){return 0==this.size()};m.remove=function(a){return Sbh(this,a,!0)};m.Jc=function(a){for(var b=!1,c=this.ij();c.C();){var d=c.D();a.contains(d)&&(c.H(),b=!0)}return b};m.Pf=function(){return this.CVa(Array(this.size()))};
m.CVa=function(a){var b=this.size();a.length<b&&(a=Qbh(Array(b),a));for(var c=a,d=this.ij(),e=0;e<b;++e){var f=d.D();c[e]=f}a.length>b&&(a[b]=null);return a};m.toString=function(){for(var a=tch("[","]"),b=this.ij();b.C();){var c=b.D();uch(a,Wa(c,this)?"(this Collection)":Xa(c))}return a.toString()};function Bch(){}t(Bch,Ach);Bch.prototype.clear=function(){this.C.clear()};Bch.prototype.contains=function(a){return this.C.zv(a)};Bch.prototype.ij=function(){var a=this.C.HI().ij(),b=new ech;b.F=a;return b};
Bch.prototype.size=function(){return this.C.size()};function Cch(){}t(Cch,Ach);Cch.prototype.equals=function(a){return Wa(a,this)?!0:null!=a&&a.OEa?a.size()!=this.size()?!1:this.K5b(a):!1};Cch.prototype.gk=function(){return lch(this)};Cch.prototype.Jc=function(a){var b=this.size();if(b<a.size())for(var c=this.ij();c.C();){var d=c.D();a.contains(d)&&c.H()}else for(a=a.ij();a.C();)c=a.D(),this.remove(c);return b!=this.size()};Cch.prototype.OEa=!0;function Dch(){}t(Dch,Cch);m=Dch.prototype;m.clear=function(){this.C.clear()};
m.contains=function(a){return null!=a&&a.K0?Ubh(this.C,a):!1};m.ij=function(){var a=new dch;a.L=this.C;a.R=a.L.D.ij();a.F=a.R;a.J=Wbh(a);return a};m.remove=function(a){return this.contains(a)?(this.C.remove(a.Er()),!0):!1};m.size=function(){return this.C.size()};function Ech(){}t(Ech,Cch);m=Ech.prototype;m.clear=function(){this.C.clear()};m.contains=function(a){return this.C.Wg(a)};m.ij=function(){var a=this.C.HI().ij(),b=new fch;b.F=a;return b};
m.remove=function(a){return this.C.Wg(a)?(this.C.remove(a),!0):!1};m.size=function(){return this.C.size()};function Fch(){}t(Fch,Ua);m=Fch.prototype;m.clear=function(){this.HI().clear()};m.Wg=function(a){return!!zch(this,a,!1)};m.zv=function(a){for(var b=this.HI().ij();b.C();){var c=b.D().Fr();if(Db(a,c))return!0}return!1};m.equals=function(a){if(Wa(a,this))return!0;if(null==a||!a.q6a||this.size()!=a.size())return!1;for(a=a.HI().ij();a.C();){var b=a.D();if(!Ubh(this,b))return!1}return!0};
m.get=function(a){return Vbh(zch(this,a,!1))};m.gk=function(){return lch(this.HI())};m.isEmpty=function(){return 0==this.size()};m.OQb=function(){var a=new Ech;a.C=this;return a};m.mza=function(){throw Uca("Put not supported on this map").C;};m.remove=function(a){return Vbh(zch(this,a,!0))};m.size=function(){return this.HI().size()};m.toString=function(){for(var a=tch("{","}"),b=this.HI().ij();b.C();){var c=b.D();c=Xa(rch(this,c.Er()))+"="+Xa(rch(this,c.Fr()));uch(a,c)}return a.toString()};
m.values=function(){var a=new Bch;a.C=this;return a};m.replace=function(a,b){return Tbh(this,a,b)};m.q6a=!0;function Gch(){}t(Gch,Fch);m=Gch.prototype;m.clear=function(){qch(this)};m.Wg=function(a){var b;bc(a)?b=null==a?!!Ybh(null,Xbh(this.C,hch(null))):void 0!==this.D.C.get(a):b=!!Ybh(a,Xbh(this.C,hch(a)));return b};m.zv=function(a){return ach(a,this.D)||ach(a,this.C)};m.HI=function(){var a=new Dch;a.C=this;return a};
m.get=function(a){var b;bc(a)?b=null==a?Vbh(Ybh(null,Xbh(this.C,hch(null)))):this.D.C.get(a):b=Vbh(Ybh(a,Xbh(this.C,hch(a))));return b};m.mza=function(a,b){var c;bc(a)?c=null==a?ych(this.C,null,b):$bh(this.D,a,b):c=ych(this.C,a,b);return c};m.remove=function(a){var b;bc(a)?b=null==a?ich(this.C,null):Zbh(this.D,a):b=ich(this.C,a);return b};m.size=function(){return this.C.D+this.D.F};m.replace=function(a,b){return Tbh(this,a,b)};function Hch(){}t(Hch,Gch);
Hch.prototype.replace=function(a,b){return Tbh(this,a,b)};function Ich(){}t(Ich,Ach);m=Ich.prototype;m.add=function(a){this.uGa(this.size(),a);return!0};m.uGa=function(){throw Uca("Add not supported on this list").C;};m.clear=function(){this.BVa(0,this.size())};m.equals=function(a){if(Wa(a,this))return!0;if(null==a||!a.NEa||this.size()!=a.size())return!1;a=a.ij();for(var b=this.ij();b.C();){var c=b.D(),d=a.D();if(!Db(c,d))return!1}return!0};
m.gk=function(){for(var a=1,b=this.ij();b.C();){var c=b.D();a=31*a+ica(c);a|=0}return a};m.indexOf=function(a){for(var b=0,c=this.size();b<c;++b)if(Db(a,this.Ura(b)))return b;return-1};m.ij=function(){var a=new bch;a.L=this;a.F=0;a.J=-1;return a};m.lastIndexOf=function(a){for(var b=this.size()-1;-1<b;--b)if(Db(a,this.Ura(b)))return b;return-1};m.kka=function(){throw Uca("Remove not supported on this list").C;};
m.BVa=function(a,b){var c=new cch;c.L=this;c.F=0;c.J=-1;this.size();for(c.F=a;a<b;++a)c.D(),c.H()};m.NEa=!0;function Jch(){}t(Jch,Ich);m=Jch.prototype;m.add=function(a){this.C[this.C.length]=a;return!0};m.uGa=function(a,b){this.C.splice(a,0,b)};m.addAll=function(a){a=a.Pf();if(0==a.length)return!1;Rbh(a,this.C,this.C.length,a.length);return!0};m.clear=function(){this.C=[]};m.contains=function(a){return-1!=this.indexOf(a)};m.Ura=function(a){return this.C[a]};
m.indexOf=function(a){a:{for(var b=0;b<this.C.length;++b)if(Db(a,this.C[b])){a=b;break a}a=-1}return a};m.ij=function(){var a=new gch;a.L=this;a.J=0;a.F=-1;return a};m.isEmpty=function(){return 0==this.C.length};m.lastIndexOf=function(a){a:{for(var b=this.size()-1;0<=b;--b)if(Db(a,this.C[b])){a=b;break a}a=-1}return a};m.kka=function(a){this.C.splice(a,1)};m.remove=function(a){a=this.indexOf(a);if(-1==a)return!1;this.kka(a);return!0};m.size=function(){return this.C.length};
m.Pf=function(){var a=this.C;return Qbh(a.slice(0,this.C.length),a)};m.CVa=function(a){var b=this.C.length;a.length<b&&(a=Qbh(Array(b),a));for(var c=0;c<b;++c)a[c]=this.C[c];a.length>b&&(a[b]=null);return a};m.BVa=function(a,b){this.C.splice(a,b-a)};m.NEa=!0;function Kch(a){var b=new Mta;return ak(b,6,a)}function Lch(){var a=Kw.getInstance(),b=(1E9*Math.random()>>>0).toString(36);a.C=b}function Mch(a){var b=new om;a.C.forEach(function(c){c.isEmpty()||b.addAll(c.Ed())});return b.Ed()}
function Nch(a,b,c,d){var e=null;a.C.every(function(f,h,k){if(b&&(h>c||h==c&&k>=d))return!1;f.isEmpty()||(e=new Wm(k,h));return!0});return e}function Och(a,b,c){var d=null;a.C.some(function(e,f,h){return(f>b||f==b&&h>c)&&!e.isEmpty()?(d=new Wm(h,f),!0):!1});return d}function Pch(a,b,c){var d=0,e=-1;b&&(d=b.y,e=b.x);return c?Nch(a,!!b,d,e):Och(a,d,e)}function Qch(a,b){a.C.V=b;a.xa&&a.D&&(P(a.D,0<b),Cp(a.D.childNodes[1],b))}function Rch(a,b,c){a.C.highlightDoco(UQ(a.D,b),null==c?void 0:c)}
function Sch(a,b){var c={},d;for(d in b){var e=UQ(a.D,d);if(e&&a.C.hasDoco(e)){var f=b[d];c[e]=new Docos.Point(f.x,f.y)}}return c}function Tch(a,b,c){a.F?(c=new Docos.NewDraftArgs(c||void 0,void 0),a.C.interceptingNewDoco(b,c,u(ba(),a))):(c=c?new Docos.Point(c.x,c.y):void 0,a.C.newDoco(b,c,void 0))}function v4(a){return a.C.hasUnpostedDocos()}function Uch(){}t(Uch,Cch);m=Uch.prototype;m.add=function(a){return null==this.C.mza(a,this)};m.clear=function(){this.C.clear()};m.contains=function(a){return this.C.Wg(a)};
m.isEmpty=function(){return this.C.isEmpty()};m.ij=function(){return this.C.OQb().ij()};m.remove=function(a){return null!=this.C.remove(a)};m.size=function(){return this.C.size()};m.OEa=!0;function Vch(a,b){return!(!a.C[b]&&!a.J[b])}function Wch(a,b){if(a){if(!a.R){var c;a.D&&(c=a.D.photo);a.R=c?new Euf(c,a.H):Fuf}a=a.R;for(c=0;c<a.C.length;c++){var d=a.C[c]||Duf,e;(e=!!d.getUrl())&&!(e=!b)&&(d.C||(d.C="metadata"in d.D?new euf(d.D.metadata,d.F):kuf),e=b(d.C));if(e)return d.getUrl()}}return null}
function Xch(a){null===a.F&&(a.F=Wch(a.C,function(b){return!!b&&!fuf(b)}),null===a.F&&(a.F=Wuf(a,Wch)));return a.F}function Ych(a,b,c,d){fB.call(this,a,[a.offsetLeft,a.offsetTop],b,c,d)}v(Ych,fB);Ych.prototype.qx=function(){this.cB=[this.C?N$a(this.element):this.element.offsetLeft,this.element.offsetTop];Ych.Ya.qx.call(this)};function Zch(a,b){A.call(this);this.Ng=a;this.C=b}v(Zch,A);m=Zch.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);
m.Ef=function(a,b,c){this.Ng.D.Ef(this.C+":"+a,u(this.YJa,this,b),c)};m.qJ=function(a){this.D=u(this.YJa,this,a)};m.send=function(a,b){if(this.isDisposed())throw Error("#send called for disposed VirtualChannel.");this.Ng.D.send(this.C+":"+a,b)};m.YJa=function(a,b){this.isDisposed()||a.apply({},Array.prototype.slice.call(arguments,1))};m.Ka=function(){this.Ng=this.Ng.C[this.C]=null};function $ch(a){A.call(this);this.D=a;this.C={};this.D.qJ(u(this.F,this))}v($ch,A);
function adh(a,b){if(-1!=b.indexOf(":"))throw Error('Virtual channel name "'+b+'" should not contain colons');if(b in a.C)throw Error('Virtual channel "'+b+'" was already created for this multichannel.');var c=new Zch(a,b);return a.C[b]=c}$ch.prototype.F=function(a,b){if(a=a.match(/^([^:]*):(.*)/)){var c=a[1];a=a[2];c in this.C&&(c=this.C[c])&&c.D&&c.D(a,b)}};$ch.prototype.Ka=function(){Sd(this.C,function(a){Tf(a)});Tf(this.D);delete this.C;delete this.D};
var bdh={$b:!0,ac:!0,bc:!0,cc:!0,gc:!0,hc:!0},cdh={v6a:"all",$Ac:"important",NONE:"none"};function ddh(){return S('<div class="'+T("docs-docos-activitybox")+'"><div class="'+T("docs-docos-activitybox-inner")+'"></div></div>')}function edh(a,b,c){Q.call(this,c);this.L=b;this.O=a;this.C=this.F=this.D=this.H=null;this.J=!1}t(edh,Q);m=edh.prototype;
m.Ca=function(){Q.prototype.Ca.call(this);var a=this.oa(),b=fy(ddh,{},{},a);this.pb(b);this.D=a.getElement("docs-docos-caret");this.H=a.eb("docs-docos-activitybox-inner",b);this.L&&(vx(b,"docos-enable-new-header"),vx(this.D,"docos-enable-new-header"));this.O?vx(b,"docos-streampanesize"):vx(b,"docos-streampanesize-legacy")};
m.Ia=function(){wz(this.getElement(),"docos");this.F=new oA(this.getElement());this.F.xj("close-box",27);this.C=new Gx(this.getElement(),"toggle_display");Hx(this.C,!0);Rme(this.C,!1);this.C.QKa=!1;this.getHandler().listen(this.F,"shortcut",this.pUb).listen(this.C,"show",this.b$b).listen(this.C,"hide",this.a$b).listen(this.C,"beforeshow",this.$9b).listen(this.C,"beforehide",this.Z9b)};m.wb=g("H");m.b$b=function(){P(this.D,!0);this.dispatchEvent("show")};m.a$b=function(){P(this.D,!1)};m.$9b=function(){return this.dispatchEvent("beforeshow")};
m.Z9b=function(){return this.J?!1:this.dispatchEvent("hide")};m.setVisible=function(a){this.C&&this.C.setVisible(a)};m.isVisible=function(){return!!this.C&&this.C.isVisible()};m.pUb=function(a){switch(a.identifier){case "close-box":this.setVisible(!1)}};m.Ka=function(){Tf(this.F);delete this.F;delete this.D;delete this.H;Tf(this.C);delete this.C;Q.prototype.Ka.call(this)};
function fdh(a,b,c){bS.call(this,void 0,b,!0,!0);this.L=a;this.H=c;this.setTitle("Comment limit");Kx(this,"You've reached the document limit for comments. Please make a copy of the document without resolved comments to continue commenting on the new copy.");this.C.setContent("Make a copy");RZe(this,"Reload");this.us=!0}t(fdh,bS);fdh.prototype.Ca=function(){bS.prototype.Ca.call(this);vx(this.getElement(),"post-limit-error-dialog")};
fdh.prototype.aA=function(){var a=Xy(Ty(new Sy,12));(Ft(),Uu).qb(!0,a);this.H.C(30066);bS.prototype.aA.call(this)};fdh.prototype.lY=function(){KE(this.L,!0);this.H.C(30065)};
function gdh(a,b,c,d,e,f,h,k,l){f=void 0===f?!1:f;h=void 0===h?new Zo:h;k=void 0===k?(Ft(),u4a):k;Uo.call(this);this.F=null;this.ma=!1;this.gb=h;this.C=a;this.Qa=e;this.Ra=new fdh(b,this.gb,this.Qa);this.Va=c;this.Sa=d;this.Ma=f;this.D=new edh(this.C.isNewDocosStreamPaneUiEnabled&&this.C.isNewDocosStreamPaneUiEnabled(),this.C.isDocsStreamHeaderEnabled&&this.C.isDocsStreamHeaderEnabled(),this.gb);this.Oa=new Vo(this);this.V=new Lz(this);this.Ba=new Nz(void 0,void 0,!0,AB.getInstance());this.J=k;this.xa=
!1;this.Ea=z(y(),"docs-edll");this.O=(this.H=gy())&&z(y(),"docs-ehspc");this.Ja=l||null;this.L=null;this.R=!1;this.C.onReady(u(this.o$b,this))}t(gdh,Uo);m=gdh.prototype;m.render=ba();
m.o$b=function(){var a=this;if(!this.H||this.O)var b=hdh(this);this.V.yb((Ft(),Hv),ft,this.yfc);b=this.H?ap("docs-chrome"):b.parentNode.parentNode;this.D.render(b);P(this.D.getElement(),!1);Hv.Pa(!0);this.C.setOption(Docos.OptionName.PANE_DIV,this.D.wb());this.C.setOption(Docos.OptionName.PANE_KB_DIV,this.D.getElement());this.C.setOption(Docos.OptionName.ENABLE_LAZY_LOADING,this.Ea);this.Va&&this.C.setOption(Docos.OptionName.STATIC_INPUT_PANE_MESSAGE,"Viewers of this file can see comments and suggestions.");
idh(this)?jdh(this):this.C.isLinkedDocoDeleted()&&kdh();this.C.setListener(Docos.OptionName.DIALOG_OPENED,u(this.MWa,this));this.C.setListener(Docos.OptionName.DIALOG_CLOSED,u(this.MWa,this));this.C.isBadgingEnabled&&this.C.isBadgingEnabled()&&(this.R=!0,ldh(this,this.C.hasUnseenDocos()),this.C.setListener(Docos.EventType.UNSEEN_DOCOS_UPDATED,function(){a.R&&ldh(a,a.C.hasUnseenDocos())}));Docos.EventType.TOGGLE_SHOW_STREAM_PANE&&this.C.setListener(Docos.EventType.TOGGLE_SHOW_STREAM_PANE,u(this.nac,
this));this.C.setOption(Docos.OptionName.SORT_PANE,!0);this.V.yb(this.J,ct,this.y_a);this.y_a(new pYa("enabled",this.J.isEnabled(),!1));this.Ma||this.C.setListener(Docos.EventType.NETWORK_ERROR,u(this.vUb,this));this.C.setListener(Docos.EventType.POST_LIMIT_EXCEEDED_ERROR,u(this.d$b,this));this.Oa.listen(this.D,["show","hide"],this.H7b)};
function hdh(a){var b=a.gb.getElement("docs-docos-commentsbutton");a.F=CT(null);Iy(a.F,16,!1);a.F.Wa(b);a.C.isBadgingEnabled&&a.C.isBadgingEnabled()&&(a.L=a.gb.Ca("SPAN","docs-docos-commentsbutton-badge"),ldh(a,!1),a.gb.appendChild(b,a.L));Pz(a.Ba,a.F,(Ft(),Hv),Rz);a.C.setOption(Docos.OptionName.STREAM_BUTTON,b);return b}m.MWa=function(a){a=a.getArgs().shouldOverrideHide()&&a.getType()==Docos.OptionName.DIALOG_OPENED;this.D.J=a};
m.nac=function(a){if(!this.H||this.O)a=a.getArgs(),this.tCa(a.getDisplay(),!1),this.Ja&&this.Ja(Aw(this.D.wb()))};m.y_a=function(a){this.C.setOption(Docos.OptionName.ENABLE_COMMENT_BUTTON,a.newValue)};function idh(a){if(a.H||!a.Ea)return!0;var b=a.C.getLinkedDoco();return!!b&&(!a.C.hasDoco(b)||a.C.isDocoResolved(b)||!a.C.getDocoPosition(b))}m.yfc=function(){this.C.isBadgingEnabled&&this.C.isBadgingEnabled()&&(ldh(this,!1),this.R=!1);jdh(this);var a=this.D;a.C&&!zab(a.C)&&a.C.setVisible(!0);this.C.grabFocus()};
m.vUb=function(){if(!this.ma&&Fq(this.Sa,0)){if(this.C.hasPendingContent()){var a=fA("Failed to post comment due to a network error.","warning",!0);dA.getInstance().postMessage(a)}this.C.setOption(Docos.OptionName.FATAL_READONLY,!0);this.C.setOption(Docos.OptionName.SHOW_ERRORS,!0);this.J.Pa(!1,"docos-fatal-reason");this.ma=!0}};
m.d$b=function(){var a=this.Ra;a.setVisible(!0);a.H.C(30064);this.C.setOption(Docos.OptionName.FATAL_READONLY,!0);this.C.setOption(Docos.OptionName.SHOW_ERRORS,!0);this.J.Pa(!1,"docos-fatal-reason")};function kdh(){var a=fA("This comment has been deleted.","info",!0);dA.getInstance().postMessage(a)}m.H7b=function(a){a="show"==a.type;this.C.isPaneSurfaceRendered()&&this.C.setOption(Docos.OptionName.SORT_PANE,!a||this.O);this.F&&this.F.Ib(a);a||this.dispatchEvent("activity-box-closed")};
m.tCa=function(a,b){b=void 0===b?!0:b;a&&jdh(this);this.D.setVisible(a);a&&b&&this.C.grabFocus()};function ldh(a,b){a.L&&P(a.L,b)}function jdh(a){a.xa||(a.xa=!0,a.C.renderPaneSurface())}m.Ka=function(){Tf(this.F);Tf(this.Oa);Tf(this.D);Tf(this.Ba);Tf(this.V);Uo.prototype.Ka.call(this)};function w4(a,b,c){Ho.call(this,a);this.D=b;this.C=b.length?b[0]:null;this.cell=c||null}t(w4,Ho);function mdh(){Uo.call(this);this.F=new om;this.D=this.H=this.J=null;this.L=this.C=!1}t(mdh,Uo);
function ndh(a,b,c){x4(a);a.D=b;a.H=c;a.dispatchEvent(new w4("Be",[b],c))}mdh.prototype.R=function(a,b){x4(this);this.D=a;this.H=b;this.dispatchEvent(new w4("ze",[a],b))};function odh(a){a.C||a.D||x4(a);a.dispatchEvent("Je")}mdh.prototype.O=function(){x4(this);this.dispatchEvent("Ee")};mdh.prototype.reset=function(){x4(this);this.dispatchEvent("He")};function x4(a){a.J=null;a.F.clear();a.H=null;a.D=null;a.C=!1;a.L=!1}
mdh.prototype.Ka=function(){delete this.J;delete this.F;delete this.H;delete this.D;Uo.prototype.Ka.call(this)};function pdh(){this.V=this.R=this.J=this.L=this.C=this.H=this.O=this.F=this.D=0}function qdh(a){var b=new Lta,c=a.F+a.O,d=a.C+a.L,e=a.H+d,f=a.J+a.R;L(b,1,a.D+c+e+f+a.V);L(b,2,a.D);L(b,14,a.V);L(b,9,a.F);L(b,6,a.O);L(b,3,c);L(b,10,a.H);L(b,12,a.C);L(b,13,a.L);L(b,7,d);L(b,4,e);L(b,11,a.J);L(b,8,a.R);L(b,5,f);return new MEd(b)}function rdh(a,b){return(a=XH(a,b))?a.Ec():null}
function sdh(a,b){return b?(b=VEd(b))&&WEd(XEd(b))?rdh(a,b.kb()):null:null}var tdh=/([\S\s]*?)(\b(?:mailto:)?([\w.!#$%&'*+-/=?^_`{|}~]+@[A-Za-z0-9.-]+\.(?:com|org|net|edu|gov|aero|biz|cat|coop|info|int|jobs|mobi|museum|name|pro|travel|arpa|asia|xxx|[a-z][a-z])\b)|\b(?:(https?|ftp):\/\/|www\.)[\w#-;!=?@\[\\\]_`{|}~]+|$)/gi,udh=/^(.*?)([':;,\.?}\]\)!]+)$/;
function vdh(a){if(-1==a.indexOf("@")&&-1==a.indexOf("://")&&-1==a.indexOf("www.")&&-1==a.indexOf("Www.")&&-1==a.indexOf("WWW."))return Oe(a);var b={},c;for(c in void 0)b[c]=(void 0)[c]?(void 0)[c]:null;"rel"in b||(b.rel="nofollow");"target"in b||(b.target="_blank");var d=[];a.replace(tdh,function(e,f,h,k,l){d.push(f);if(!h)return"";e="";k?(e="mailto:",h=k,l=""):(k=function(n,q,r){return Nd(n[2],r)&&Yga(n[1],q)>Yga(n[1],r)},l||(e="http://"),l=h.match(udh),!l||k(l,"(",")")||k(l,"{","}")?l="":(h=l[1],
l=l[2]));b.href=e+h;d.push(Qe("a",b,h));d.push(l);return""});return Re(d)}function wdh(a,b,c){nJ.call(this,35);this.dd=a;this.C=b;this.F=c}t(wdh,nJ);wdh.prototype.Id=function(){var a=new EF,b=po(this.F,this.C);D(a,1,this.dd);D(a,2,b);return a};wdh.prototype.Cg=ea(!1);function y4(){}y4.prototype.getType=ea("ApiEventArgs");y4.prototype.getType=y4.prototype.getType;function xdh(a){this.C=a}v(xdh,y4);ta("docos.api.FindSelectionArgs",xdh,void 0);function ydh(a){return"FindSelectionArgs"===a.getType()}xdh.isFindSelectionArgs=ydh;xdh.prototype.getType=ea("FindSelectionArgs");xdh.prototype.getVerticalOffset=g("C");xdh.prototype.getVerticalOffset=xdh.prototype.getVerticalOffset;function zdh(a){this.F=a}zdh.prototype.C=function(){if(!eI(this.F.C))return[];var a=hI(this.F.C),b=OI(a);if(Pjc(GK(this.F.Ma,a),b).length){var c=nI(a,b);a=a.Jb();var d=b.x;b=b.y;c=[iM(this.F)?G2b(c,a,d,b):ritz_api.RitzModelApi.getA11yDisplayValue(c.C,a,d,b,!1)]}else c=["Not on a comment"];return c};zdh.prototype.D=ea(0);function Adh(a,b){this.F=a;this.J=b;this.H=YDd()}Adh.prototype.C=function(){if(!eI(this.F.C))return[];var a=hI(this.F.C),b=OI(a);a=Pjc(GK(this.F.Ma,a),b);if(!a.length)return["Not on a comment"];a=this.H.sb(a[0]);b=this.J;b.C.verbalizeDoco(UQ(b.D,a));return[]};Adh.prototype.D=ea(0);function Bdh(a,b,c,d,e,f,h,k,l,n,q,r,w){A.call(this);this.D=a;this.V=b;this.xa=c;this.Sa=d;this.H=e;this.Xa=f;this.Qa=h;this.Va=k;this.C=l;this.L=n;this.J=b.Ma;this.F=b.C;this.O=YDd();this.ma={};this.Ea=new om;this.Ba=new zIa(0);a=[this.Ba];ud(q.F,a);hjb(q,a);q.C=fjb(q.F);gjb(q);this.Ja=r;this.Ma=new Crf(w,this.Ja.F);this.qa(this.Ma);this.R=new Vo(this);this.qa(this.R);this.Ra=!1;Cdh(this)}t(Bdh,A);
function Cdh(a){var b=bd(IUb,function(d){return!bdh[d]});a.R.listen(a.Sa,"activity-box-closed",a.RCb).listen(a.H,"mouseover",z4(a,a.uNb)).listen(a.H,"click",z4(a,a.M0b)).listen(a.H,"selectionChange",z4(a,a.vNb)).listen(a.H,"inputBoxActivate",z4(a,a.rNb)).listen(a.H,"hide_docos",z4(a,a.tNb)).listen(a.F,"oa",z4(a,a.L0b)).listen(a.Qa,"Id",a.IJb).listen(a.Qa,"Jd",a.GJb).listen(a.Qa,"Kd",a.FJb).listen(a.H,"insert_doco",a.J0b).listen(new hP(a.Va),NQc(),a.yNb).listen(a.V,"docos_change",a.GNb).listen(a.L,
"Yi",a.Fqb).listen(a.F,"na",a.DSa).listen(a.H,"overlay-redraw",a.fFb);var c=nG(a.F);a.R.listen(c,b,a.sNb);a.R.listen(c,["fc"],z4(a,a.K0b));VQ(a.D,Docos.EventType.HOVER,z4(a,a.Zvb));VQ(a.D,Docos.EventType.SELECTED,z4(a,a.I0b));VQ(a.D,Docos.EventType.CREATED,a.qQa,a);VQ(a.D,Docos.EventType.UNRESOLVED,a.qQa,a);VQ(a.D,Docos.EventType.DELETED,a.rQa,a);VQ(a.D,Docos.EventType.RESOLVED,a.rQa,a);VQ(a.D,Docos.EventType.POSTED,a.Cwb,a);VQ(a.D,Docos.EventType.PENDING,a.KFb,a);VQ(a.D,Docos.EventType.HIGHLIGHT_INITIAL_DOCO,
a.Rzb,a);jD.yb(ct,u(a.NAb,a));(Ft(),Hv).yb(ct,u(a.kqb,a));Iv.subscribe("action",u(a.zDb,a));Jv.subscribe("action",u(a.GDb,a));Kv.subscribe("action",u(a.HDb,a));b=["screen-reader-enabled","sheet-type-grid","not-revisions"];a.Ja.C(rv,new Zv(b));a.Ma.bind(rv.getId(),new Adh(a.V,a.D));a.Ja.C(sv,new Zv(b));a.Ma.bind(sv.getId(),new zdh(a.V));a.DSa()}m=Bdh.prototype;m.DSa=function(){var a=eI(this.F);(Ft(),Iv).Pa(a);Jv.Pa(a);Kv.Pa(a)};m.fFb=function(){Ddh(this.L)};
m.NAb=function(){this.D.setOption(Docos.OptionName.READONLY,!this.V.$P())};function z4(a,b){return function(c){a.Ra||b.call(a,c)}}m.J0b=function(){var a=hI(this.F),b=OI(a);if(b&&!v4(this.D)&&!Edh(this,a,b)){var c=ritz_api.RitzModelApi.getNewWorkbookRangeId();a=new wdh(c,a.Jb(),un(b));b=u(this.OAb,this,c,b);a.D=b;this.Xa.C(a)}};m.OAb=function(a,b,c){c&&(a=Fdh(this,this.O.sb(new VDd(a))))&&(this.C.dispatchEvent(new w4("De",[a],b)),this.xa.Cb(2))};
function Edh(a,b,c){b=Pjc(GK(a.J,b),c);return b.length?(Rch(a.D,a.O.sb(b[0]),!0),!0):!1}m.qQa=function(a){var b=this;$c(a.D,function(c){Gdh(b,!0,c);b.Ea.add(c)})};m.rQa=function(a){var b=this;$c(a.D,function(c){Gdh(b,!1,c);b.Ea.remove(c)})};
function Gdh(a,b,c,d,e){c=Fdh(a,c);d=d||sdh(a.F,c);e=e||hS(c);if(c&&d&&e){var f=GK(a.J,d);if(b){var h=f.C.dg(e.y,e.x)||new om;h.add(c);f.J++;aVb(f.C,e.y,e.x,h)}else(h=f.C.dg(e.y,e.x))&&h.remove(c)&&f.J--;aVb(f.D,e.y,e.x,!0);f.H.Gb()||f.H.start();a.F.getActiveGrid()&&(d=d==hI(a.F),b?(a=a.C,(b=d?e:null)&&Xm(b,a.J)&&a.F.add(c),a.dispatchEvent(new w4("ve",[c],b))):(a=a.C,(b=d?e:null)&&Xm(b,a.J)&&a.F.remove(c),a.D==c&&(a.D=null),a.dispatchEvent(new w4("Ge",[c],b))))}else a.C.dispatchEvent("Ie")}
function Fdh(a,b){if(!b)return null;if(!a.ma[b]){var c=a.O.D(b);c&&(a.ma[b]=c)}return a.ma[b]}m.L0b=function(){this.C.reset()};m.Zvb=function(a){a=Hdh(this,a);var b=hS(a);this.C.dispatchEvent(new w4("Ae",[a],b))};m.Cwb=ba();m.KFb=function(){bWe(this.Ba,this.D.C.hasPendingContent())};m.Rzb=function(a){this.Sa&&(a.J||this.C&&!this.C.D)&&this.Sa.tCa(!0)};m.RCb=function(){this.xa.Cb(3)};
m.I0b=function(a){if(!(a.C&&ydh(a.C)||v4(this.D))){var b=Hdh(this,a),c=hS(b);b&&c?(this.Ra=!0,ndh(this.C,b,c)):b||a.J?this.C.reset():b||this.xa.Cb(3)}};m.Fqb=function(){this.Ra=!1};m.tNb=function(){this.C.dispatchEvent("Ce")};m.vNb=function(){if(!this.L.isEmpty()&&!v4(this.D)){this.xa.Cb(3);var a=this.C,b=OI(hI(this.F));Xm(a.H,b)||!a.D&&!a.C&&Xm(a.J,b)||(x4(a),a.dispatchEvent(new w4("ye",[],b)))}};
m.M0b=function(){var a=hI(this.F);if(!v4(this.D)&&a){var b=GK(this.J,a),c=(a=OI(a))?Pjc(b,a):[];c.length&&(b=this.C,c=c[0],Xm(b.H,a)?(x4(b),b.dispatchEvent(new w4("we",[],a))):b.dispatchEvent(new w4("we",[c],a)))}};m.rNb=function(){v4(this.D)||this.C.reset()};m.K0b=function(){odh(this.C)};m.sNb=function(){odh(this.C)};
m.GNb=function(a){a=a.O||[];wd(a);for(var b=0;b<a.length;b++){var c=this.O.sb(new VDd(a[b]));if(c){var d=Fdh(this,c);(d=CYe(this.J,d))?(Gdh(this,!1,c,d.model,d.tpa),Gdh(this,!0,c),this.C.dispatchEvent("Ie")):this.Ea.contains(c)&&Gdh(this,!0,c)}}};m.uNb=function(a){var b=hI(this.F);if(b){if((a=a.Ek)&&btc(a)){var c=OH(b,a.y,a.x);a=c?Kn(c):a}else a=null;b=GK(this.J,b);b=a?Pjc(b,a):[];c=this.C;c.F.clear();c.F.addAll(b);c.J=a;c.dispatchEvent(new w4("xe",b,a))}};
m.IJb=function(){if(!v4(this.D)){var a=this.C;if(a.C&&a.L)a.L=!1;else{var b=!a.C;x4(a);a.C=b;a.dispatchEvent("Fe")}}};m.GJb=function(){if(!v4(this.D)){var a=this.C;a.C||(x4(a),a.L=!0,a.C=!0,a.dispatchEvent("Fe"))}};m.FJb=function(){if(!v4(this.D)){var a=this.C;a.C&&a.L&&(x4(a),a.dispatchEvent("Fe"))}};m.yNb=function(a){a.stopPropagation()};function Hdh(a,b){b=b.D;return Fdh(a,b.length?b[0]:null)}
m.H0b=function(a){var b=Fdh(this,a);a=sdh(this.F,b);if(!b||!a)return"";b=hS(b);a=uI(nI(a,b));500<a.length&&(a=a.substring(0,499),a+="\u2026");return a};m.kqb=function(){var a=this.D;if(a=Gvd(a.D,a.C.getLinkedDoco())||"")if(a=Fdh(this,a)){var b=hS(a);ndh(this.C,a,b)}else(Ft(),Hv).qb()};m.zDb=function(){var a=hI(this.F);Edh(this,a,OI(a))};m.GDb=function(){Idh(this,!1)};m.HDb=function(){Idh(this,!0)};
function Idh(a,b){var c=Jdh(a,b),d=$H(a.F),e=hI(a.F),f=OI(e),h=GK(a.J,e);f=Pch(h,f,b);for(var k=d;!f&&null!==k&&(k=c(k),e=k.Ec(),h=GK(a.J,e),f=Pch(h,null,b),k=k.yg(),k!=d););f&&null!==k&&(b=Pjc(h,f)[0],cI(a.F,k,u(a.N0b,a,e,b,f)))}function Jdh(a,b){var c=b?u(a.F.xNa,a.F):u(a.F.Qsa,a.F);return function(d){return c(d,0,!0,!0)}}m.N0b=function(a,b,c){ndh(this.C,b,c);RI(a,c)};
m.Ka=function(){delete this.H;delete this.Va;delete this.O;delete this.ma;delete this.D;delete this.J;delete this.R;delete this.Xa;delete this.F;delete this.V;Tf(this.Ba);delete this.Ba;Tf(this.L);delete this.L;Tf(this.C);delete this.C;A.prototype.Ka.call(this)};var Kdh={bDc:"docos-insert-discussion",Gnc:"docos-cancel-insert-discussion",yKc:"docos-new-doco",zKc:"docos-new-reply",nrc:"docos-delete-doco",prc:"docos-delete-reply",Uuc:"docos-edit-doco",Wuc:"docos-edit-reply",Vuc:"docos-edit-draft",Kmc:"docos-before-highlight-doco",AAc:"docos-highlight-doco",OSc:"docos-speak-doco",WPc:"docos-resolve-doco",Bmc:"docos-back-to-document",okc:"docos-accept-suggestion",LPc:"docos-reject-suggestion",ppc:"docos-convert-doco",orc:"docos-reject-doco-with-feedback",WRITE_FEEDBACK:"docos-write-feedback",
DISABLE_SMART_TODO_FEATURE:"docos-disable-smart-todo-feature",TWc:"docos-update-sort",sXc:"docos-vote-doco",tXc:"docos-vote-reply",$Jc:"mouse-hover-doco-view"};function Ldh(a,b,c,d,e,f,h,k){this.C=a;this.D=void 0===b?null:b;this.L=void 0===c?!1:c;this.J=void 0===d?!0:d;this.O=void 0===e?null:e;this.H=void 0===f?!0:f;this.F="number"===typeof h?h:null;this.KT=void 0===k?!1:k}function A4(){return new Ldh("")}function B4(a){return new Mdh(a)}function Mdh(a){this.L=a;this.J=void 0;this.H=!1;this.D=this.F=!0;this.C=void 0;this.KT=!1}function C4(a,b){a.J=b;return a}function Ndh(a){a.H=!0;return a}function Odh(a){a.F=!1;return a}
function Pdh(a,b){a.D=b;return a}function Qdh(a){a.KT=!0;return a}function D4(a){return new Ldh(a.L,a.J,a.H,a.F,void 0,a.D,a.C,a.KT)};function E4(a,b,c,d,e,f){this.type=a;this.anchors=b;this.docos=c;this.D=b;this.F=c;this.nonAnchored=d;this.userInitiated=e;this.args=f;this.type=this.type;this.anchors=this.anchors;this.docos=this.docos;this.nonAnchored=this.nonAnchored;this.userInitiated=this.userInitiated;this.args=this.args}ta("docos.Event",E4,void 0);ta("docos.api.Event",E4,void 0);E4.prototype.getType=g("type");E4.prototype.getType=E4.prototype.getType;E4.prototype.getAnchors=g("anchors");E4.prototype.getAnchors=E4.prototype.getAnchors;
E4.prototype.getDocos=g("docos");E4.prototype.getDocos=E4.prototype.getDocos;E4.prototype.isNonAnchored=g("nonAnchored");E4.prototype.isNonAnchored=E4.prototype.isNonAnchored;E4.prototype.isUserInitiated=g("userInitiated");E4.prototype.isUserInitiated=E4.prototype.isUserInitiated;E4.prototype.getArgs=g("args");E4.prototype.getArgs=E4.prototype.getArgs;E4.prototype.canPreventDefault=ea(!1);E4.prototype.canPreventDefault=E4.prototype.canPreventDefault;
E4.prototype.preventDefault=function(){throw Error("Default behavior for this event cannot be prevented.");};E4.prototype.preventDefault=E4.prototype.preventDefault;E4.prototype.getAnchorIds=g("D");E4.prototype.getAnchorIds=E4.prototype.getAnchorIds;E4.prototype.getDocoHandles=g("F");E4.prototype.getDocoHandles=E4.prototype.getDocoHandles;function Rdh(a){return new F4(a)}E4.builder=Rdh;function F4(a){this.type=a;this.C=[];this.D=[];this.H=this.F=!1;this.args=null}ta("docos.api.Event.Builder",F4,void 0);
F4.prototype.addAnchorId=function(a){this.C.push(a);return this};F4.prototype.addAnchorId=F4.prototype.addAnchorId;F4.prototype.setAnchorIds=function(a){this.C=a;return this};F4.prototype.setAnchorIds=F4.prototype.setAnchorIds;F4.prototype.addDocoHandle=function(a){this.D.push(a);return this};F4.prototype.addDocoHandle=F4.prototype.addDocoHandle;F4.prototype.setDocoHandles=function(a){this.D=a;return this};F4.prototype.setDocoHandles=F4.prototype.setDocoHandles;
F4.prototype.setNonAnchored=function(a){this.F=a;return this};F4.prototype.setNonAnchored=F4.prototype.setNonAnchored;F4.prototype.setUserInitiated=function(a){this.H=a;return this};F4.prototype.setUserInitiated=F4.prototype.setUserInitiated;F4.prototype.setApiEventArgs=function(a){this.args=a;return this};F4.prototype.setApiEventArgs=F4.prototype.setApiEventArgs;F4.prototype.isEmpty=function(){return ld(this.C)&&ld(this.D)&&!this.args};F4.prototype.isEmpty=F4.prototype.isEmpty;
F4.prototype.build=function(){return new E4(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new y4)};F4.prototype.build=F4.prototype.build;function Sdh(a,b){E4.call(this,a,[],[],!1,!1,new y4);this.interval=this.interval=b}v(Sdh,E4);ta("docos.api.TimedEvent",Sdh,void 0);function Tdh(){this.C={};this.D={}}function Udh(a,b,c,d,e){var f=a.C,h=a.D;f[b]&&f[b].stop();f[b]=c;h[b]=d;c.play();Oo(c,"end",function(){delete f[b];delete h[b];e()})}function Vdh(a,b){(a=a.C[b])&&a.stop()}Tdh.prototype.getDuration=function(a){return this.D[a]};function Wdh(a){var b=a.Ri,c=a.dC,d=a.Ee;a=a.uS;return S('<div class="'+T("docos-icon")+" "+T("goog-inline-block")+(d?" "+T(d):"")+" "+T(c)+'"><div class="'+T("docos-icon-img")+" "+T("docos-icon-img-container")+" "+T(b)+(a?" "+T("docos-icon-img-hdpi"):"")+'" aria-hidden="true"></div></div>')};function Xdh(a){var b=a.size,c=a.Ee,d=a.Seb,e=a.Ypa;a=a.S2;return S('<img class="'+T("docos-avatar")+(c?" "+T(c):"")+'" width="'+T(b)+'" height="'+T(b)+'" alt=""'+(d?' src="'+T(dx(d))+'"':"")+(e?' data-hovercard-id="'+T(e)+'"':"")+(a?' data-name="'+T(a)+'"':"")+"/>")};function Ydh(a,b){var c=a.mHa,d=a.vj,e=a.Bo;a='<div class="'+T("docos-assigneeview")+'"><table><tr><td class="'+T("docos-assigneeview-avatar-container")+'">'+R(Xdh({size:32,Ee:"docos-assigneeview-avatar"}))+'</td><td class="'+T("docos-assigneeview-assigneeinfo")+'"><div class="'+T("docos-assigneeview-label")+'">';a+="Assigned to";c='</div><div class="'+T("docos-assigneeview-assignee-text")+'">'+R(c)+'</div></td><td class="'+T("hide-on-readonly")+'">';e=e={vj:d,Bo:e};d=e.vj;e=e.Bo;var f='aria-label="'+
bx("Mark as done and hide discussion.");b=""+R(Tz({cd:"docos-mark-done-button",title:"Mark as done and then hide discussion",attributes:ax(f+'"'),style:e?4:0,content:$w(""+R(Wdh({Ri:"docos-icon-accept-checkmark-black",dC:"docos-icon-accept-checkmark-size",Ee:"docos-icon-checkmark jfk-button-img"}))),cK:d},b));b=S(b);return S(a+(c+b+"</td></tr></table></div>"))};function Zdh(a,b){return a?$dh(G4(a),b):!1}function aeh(a,b){return a?Zdh(a,b)?"docos-assignee-you":"docos-assignee-other":"docos-assignee-none"}function beh(a,b){a=G4(a);return ceh(a,b)}function deh(a,b,c){a=ceh(a,b,!0);return c?(new JA("Reassign to {user}")).format({user:a}):(new JA("Assign to {user}")).format({user:a})}function ceh(a,b,c){return $dh(a,b)?c?"you":"You":H4(a)}function $dh(a,b){return null!=a.getEmail()&&null!=b.Vg().getEmail()&&a.getEmail()==b.Vg().getEmail()};function I4(a,b){Q.call(this,b);this.Yc=eeh(a);this.C=J4(a)}v(I4,Q);I4.prototype.Fd=!1;I4.prototype.Ia=function(){I4.Ya.Ia.call(this);this.Fd&&(this.Vd(),feh(this))};function geh(a){a.Fd||(a.Fd=!0,a.getHandler().listen(a.C,"r",a.Vd),a.Vd(),feh(a))}I4.prototype.Vd=function(){if(this.tb()){var a=this.getElement(),b=this.C.D;zx(a,"docos-readonly",!("suggest"==b.C||"full"==b.C));zx(this.getElement(),"docos-offline",this.C.J)}};
function K4(a,b,c,d){a.Yc&&(d=a.Yc.F.C(d));a.getHandler().listen(b,c,d,void 0);return a}function feh(a){a.tb()&&K4(a,a.getElement(),"blur change click contextmenu copy cut dblclick dragend dragenter dragleave dragover dragstart focusout input mousedown mouseup pointerdown pointerup touchstart touchend paste propertychange select selectstart submit".split(" "),a.bh)}I4.prototype.bh=function(a){a.stopPropagation()};function heh(a,b,c,d){this.C=a;this.D=b;this.H=c;this.F=(void 0===d?null:d)||null};function ieh(a,b,c,d){I4.call(this,a,b);this.H=a;this.Hc(c);this.V=d;this.O=this.L=this.J=this.D=this.F=null;this.R=new Uz(null);this.qa(this.R)}t(ieh,I4);m=ieh.prototype;
m.Ca=function(){var a=this.oa(),b=L4(jeh(this)),c=fy(Ydh,{mHa:beh(b,this.C),vj:this.C.vj(),Bo:"legacy"!=this.C.F});this.pb(c);this.L=a.eb("docos-icon-checkmark",c);this.O=a.eb("docos-icon-img-container",c);this.J=a.eb("docos-mark-done-button",c);this.R.Wa(this.J);K4(this,this.R,"action",this.PSb);this.F=a.eb("docos-assigneeview-assignee-text",c);this.D=pV(a,"IMG","docos-assigneeview-avatar",c);a=G4(b);keh(M4(this.H),this.D,a.D,H4(a));leh(this,b)};
m.Ia=function(){I4.prototype.Ia.call(this);var a=L4(jeh(this));a=G4(a);meh(this,a,this.F);meh(this,a,this.D)};
function leh(a,b){var c="docos-mark-done-button-black",d="docos-icon-checkmark-black",e="docos-icon-accept-checkmark-black";!Zdh(b,a.C)||"black"==vz()&&Hf||"material_light_background"==a.C.F||(c="docos-mark-done-button-white",d="docos-icon-checkmark-white",e="docos-icon-accept-checkmark-white");b=aeh(b,a.C);yx(a.getElement(),["docos-assignee-you","docos-assignee-other"]);yx(a.L,["docos-icon-checkmark-white","docos-icon-checkmark-black"]);yx(a.O,["docos-icon-accept-checkmark-white","docos-icon-accept-checkmark-black"]);
yx(a.J,["docos-mark-done-button-white","docos-mark-done-button-black"]);vx(a.L,d);vx(a.O,e);vx(a.J,c);vx(a.getElement(),b)}function jeh(a){return N4(a.H).fd(a.getId())}m.update=function(){var a=L4(jeh(this)),b=beh(a,this.C)||"";Cp(this.F,b);O4(M4(this.H),this.D);b=G4(a);keh(M4(this.H),this.D,b.D,H4(b));leh(this,a);meh(this,b,this.F);meh(this,b,this.D)};
function meh(a,b,c){if(c){var d="Unknown"===b.getName();a.C.V&&!d?(c.setAttribute("data-hovercard-id",b.getId()?b.getId():""),b.getName()&&!b.C&&c.setAttribute("data-name",b.getName())):(b=b.getName())&&a.C.C.C(c,b)}}m.PSb=function(a){a&&a.stopPropagation();(a=jeh(this))&&!a.isResolved()&&(a=P4(this.H),this.dispatchEvent("br"),a.Bf("docos-resolve-doco").qb(new heh(this.getId(),!0,neh(this.V))),this.dispatchEvent("ar"))};m.xd=function(){I4.prototype.xd.call(this)};
m.Ka=function(){I4.prototype.Ka.call(this);delete this.F;delete this.D;delete this.L};function Q4(a){J(this,a,0,-1,null,null)}v(Q4,I);m=Q4.prototype;m.ea=function(){var a=new E;oeh(this,a);return Y(a)};function oeh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c)}m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};m.setValue=function(a){return L(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function peh(a){J(this,a,0,1,null,null)}v(peh,I);var qeh={};peh.prototype.ea=function(){var a=new E;reh(this,a);return Y(a)};function reh(a,b){Lj(a,b,qeh,peh.prototype.getExtension)};function seh(a){J(this,a,0,-1,null,null)}v(seh,I);m=seh.prototype;m.ea=function(){var a=new E;teh(this,a);return Y(a)};function teh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c);c=N(a,peh,3);null!=c&&b.Aa(3,c,reh);c=K(a,4);null!=c&&b.Ha(4,c)}m.getType=function(){return K(this,1)};m.setType=function(a){return L(this,1,a)};m.clearType=function(){return L(this,1,void 0)};m.hasType=function(){return null!=K(this,1)};m.getValue=function(){return K(this,2)};
m.setValue=function(a){return L(this,2,a)};m.hasValue=function(){return null!=K(this,2)};function ueh(a){J(this,a,0,-1,null,null)}v(ueh,I);ueh.prototype.ea=function(){var a=new E;veh(this,a);return Y(a)};function veh(a,b){a=N(a,fY,1);null!=a&&b.Aa(1,a,gmf)};function weh(a){J(this,a,0,-1,null,null)}v(weh,I);weh.prototype.ea=function(){var a=new E;xeh(this,a);return Y(a)};function xeh(a,b){var c=N(a,fY,1);null!=c&&b.Aa(1,c,gmf);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&Cj(b,3,c);c=K(a,4);null!=c&&Cj(b,4,c)}weh.prototype.D=function(a){L(this,2,a)};function yeh(a){J(this,a,0,-1,zeh,null)}v(yeh,I);var zeh=[5];yeh.prototype.ea=function(){var a=new E;Aeh(this,a);return Y(a)};function Aeh(a,b){var c=K(a,1);null!=c&&Cj(b,1,c);c=K(a,2);null!=c&&Cj(b,2,c);c=K(a,3);null!=c&&Cj(b,3,c);c=K(a,4);null!=c&&H(b,4,c);c=Zj(a,weh,5);0<c.length&&Hj(b,5,c,xeh)};function Beh(a){J(this,a,0,-1,null,null)}v(Beh,I);Beh.prototype.ea=function(){var a=new E;Ceh(this,a);return Y(a)};function Ceh(a,b){var c=K(a,1);null!=c&&H(b,1,c);c=K(a,2);null!=c&&H(b,2,c);c=K(a,3);null!=c&&H(b,3,c);c=K(a,4);null!=c&&H(b,4,c)};function Deh(a){J(this,a,0,-1,null,null)}v(Deh,I);m=Deh.prototype;m.ea=function(){var a=new E;Eeh(this,a);return Y(a)};function Eeh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&Bj(b,2,c);c=K(a,3);null!=c&&Bj(b,3,c)}m.getUrl=function(){return K(this,1)};m.getWidth=function(){return K(this,2)};m.setWidth=function(a){return L(this,2,a)};m.getHeight=function(){return K(this,3)};m.setHeight=function(a){return L(this,3,a)};function Feh(a){J(this,a,0,-1,null,null)}v(Feh,I);m=Feh.prototype;m.ea=function(){var a=new E;Geh(this,a);return Y(a)};function Geh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c);c=N(a,Deh,3);null!=c&&b.Aa(3,c,Eeh);c=K(a,4);null!=c&&G(b,4,c);c=K(a,5);null!=c&&b.Ha(5,c);c=K(a,9);null!=c&&b.Ha(9,c);c=K(a,6);null!=c&&b.Ha(6,c);c=N(a,Beh,7);null!=c&&b.Aa(7,c,Ceh);c=K(a,8);null!=c&&b.Ha(8,c);c=K(a,11);null!=c&&b.Ha(11,c);c=K(a,10);null!=c&&b.Ha(10,c);c=K(a,12);null!=c&&b.Ha(12,c)}
m.getName=function(){return K(this,1)};m.Xc=function(a){return L(this,1,a)};m.getUrl=function(){return K(this,2)};m.getId=function(){return K(this,9)};m.Hc=function(a){return L(this,9,a)};function Heh(a){J(this,a,0,-1,Ieh,null)}v(Heh,I);var Ieh=[8];m=Heh.prototype;m.ea=function(){var a=new E;Jeh(this,a);return Y(a)};
function Jeh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c);c=a.getContent();null!=c&&b.Aa(3,c,oeh);c=N(a,Q4,4);null!=c&&b.Aa(4,c,oeh);c=N(a,fY,5);null!=c&&b.Aa(5,c,gmf);c=N(a,Feh,14);null!=c&&b.Aa(14,c,Geh);c=K(a,6);null!=c&&Cj(b,6,c);c=K(a,7);null!=c&&Cj(b,7,c);c=R4(a);0<c.length&&Hj(b,8,c,Jeh);c=S4(a);null!=c&&b.Aa(9,c,teh);c=N(a,yT,21);null!=c&&b.Aa(21,c,rqe);c=K(a,10);null!=c&&H(b,10,c);c=K(a,11);null!=c&&b.Ha(11,c);c=K(a,12);null!=c&&G(b,12,c);c=K(a,13);null!=c&&Cj(b,13,c);
c=K(a,15);null!=c&&G(b,15,c);c=K(a,16);null!=c&&b.Ha(16,c);c=K(a,17);null!=c&&H(b,17,c);c=N(a,ueh,18);null!=c&&b.Aa(18,c,veh);c=N(a,yeh,19);null!=c&&b.Aa(19,c,Aeh);c=K(a,20);null!=c&&H(b,20,c);c=K(a,22);null!=c&&G(b,22,c);c=K(a,23);null!=c&&G(b,23,c)}m.getId=function(){return K(this,1)};m.Hc=function(a){return L(this,1,a)};m.getContent=function(){return N(this,Q4,3)};m.setContent=function(a){return ak(this,3,a)};m.vt=function(){return null!=K(this,3)};function R4(a){return Zj(a,Heh,8)}
function S4(a){return N(a,seh,9)}m.getOrigin=function(){return K(this,17)};function Keh(a,b){void 0!==b.getId()&&a.Hc(b.getId());var c=T4(b);if(void 0!==c){var d=T4(a);c?d?Leh(d,c):ak(a,2,c):ak(a,2,void 0)}void 0!==K(b,3)&&(c=K(b,3),L(a,3,c));void 0!==K(b,4)&&(c=K(b,4),L(a,4,c));d=b.fq();if(void 0!==d)if(c=a.fq(),d)if(c){void 0!==d.getId()&&c.Hc(d.getId());var e=d.getTitle();if(void 0!==e){var f=c.getTitle();e?f?Meh(f,e):c.setTitle(e):c.setTitle(void 0)}d=N(d,U4,3);void 0!==d&&(e=N(c,U4,3),d?e?Keh(e,d):ak(c,3,d):ak(c,3,void 0))}else a.$u(d);else a.$u(void 0);void 0!==Nj(b,
6)&&(c=Nj(b,6),L(a,6,c));void 0!==Nj(b,7)&&(c=Nj(b,7),L(a,7,c));void 0!==K(b,8)&&(c=K(b,8),L(a,8,c));void 0!==Nj(b,9)&&(b=Nj(b,9),L(a,9,b))}
function Leh(a,b){void 0!==b.getId()&&a.Hc(b.getId());if(void 0!==K(b,2)){var c=K(b,2);L(a,2,c)}c=b.getContent();if(void 0!==c){var d=a.getContent();c?d?Meh(d,c):a.setContent(c):a.setContent(void 0)}c=N(b,Q4,4);void 0!==c&&(d=N(a,Q4,4),c?d?Meh(d,c):ak(a,4,c):ak(a,4,void 0));c=N(b,fY,5);void 0!==c&&(c?ak(a,5,c):ak(a,5,void 0));d=N(b,Feh,14);if(void 0!==d)if(c=N(a,Feh,14),d)if(c){void 0!==d.getName()&&c.Xc(d.getName());if(void 0!==d.getUrl()){var e=d.getUrl();L(c,2,e)}e=N(d,Deh,3);if(void 0!==e){var f=
N(c,Deh,3);if(e)if(f){if(void 0!==e.getUrl()){var h=e.getUrl();L(f,1,h)}void 0!==e.getWidth()&&f.setWidth(e.getWidth());void 0!==e.getHeight()&&f.setHeight(e.getHeight())}else ak(c,3,e);else ak(c,3,void 0)}void 0!==Nj(d,4)&&(e=Nj(d,4),L(c,4,e));void 0!==K(d,5)&&(e=K(d,5),L(c,5,e));void 0!==K(d,6)&&(e=K(d,6),L(c,6,e));f=N(d,Beh,7);void 0!==f&&(e=N(c,Beh,7),f?e?(void 0!==K(f,1)&&(h=K(f,1),L(e,1,h)),void 0!==K(f,2)&&(h=K(f,2),L(e,2,h)),void 0!==K(f,3)&&(h=K(f,3),L(e,3,h)),void 0!==K(f,4)&&(f=K(f,4),
L(e,4,f))):ak(c,7,f):ak(c,7,void 0));void 0!==K(d,8)&&(e=K(d,8),L(c,8,e));void 0!==K(d,11)&&(e=K(d,11),L(c,11,e));void 0!==K(d,10)&&(e=K(d,10),L(c,10,e));void 0!==K(d,12)&&(d=K(d,12),L(c,12,d))}else ak(a,14,d);else ak(a,14,void 0);void 0!==K(b,6)&&(c=K(b,6),L(a,6,c));void 0!==K(b,7)&&(c=K(b,7),L(a,7,c));R4(b)&&(c=sd(R4(a),R4(b)),ck(a,8,c));d=S4(b);void 0!==d&&(c=S4(a),d?c?(void 0!==d.getType()&&c.setType(d.getType()),void 0!==d.getValue()&&c.setValue(d.getValue()),void 0!==N(d,peh,3)&&(e=N(d,peh,
3),ak(c,3,e)),void 0!==K(d,4)&&(d=K(d,4),L(c,4,d))):ak(a,9,d):ak(a,9,void 0));void 0!==K(b,10)&&(c=K(b,10),L(a,10,c));void 0!==K(b,11)&&(c=K(b,11),L(a,11,c));void 0!==Nj(b,12)&&(c=Nj(b,12),L(a,12,c));void 0!==K(b,13)&&(c=K(b,13),L(a,13,c));void 0!==Nj(b,15)&&(c=Nj(b,15),L(a,15,c));void 0!==K(b,16)&&(c=K(b,16),L(a,16,c));void 0!==b.getOrigin()&&(c=b.getOrigin(),L(a,17,c));void 0!==K(b,20)&&(c=K(b,20),L(a,20,c));c=N(b,ueh,18);void 0!==c&&(e=N(a,ueh,18),c?e?(d=N(c,fY,1),void 0!==d&&(c=N(e,fY,1),d?c?
(void 0!==d.getName()&&c.Xc(d.getName()),void 0!==K(d,2)&&(e=K(d,2),L(c,2,e)),void 0!==K(d,3)&&(e=K(d,3),L(c,3,e)),void 0!==d.getId()&&c.Hc(d.getId()),void 0!==Nj(d,5)&&(e=Nj(d,5),L(c,5,e)),void 0!==Nj(d,7)&&(e=Nj(d,7),L(c,7,e)),void 0!==d.getEmail()&&(d=d.getEmail(),L(c,8,d))):ak(e,1,d):ak(e,1,void 0))):ak(a,18,c):ak(a,18,void 0));d=N(b,yeh,19);void 0!==d&&(c=N(a,yeh,19),d?c?(void 0!==K(d,1)&&(e=K(d,1),L(c,1,e)),void 0!==K(d,3)&&(e=K(d,3),L(c,3,e)),void 0!==K(d,2)&&(e=K(d,2),L(c,2,e)),void 0!==K(d,
4)&&(e=K(d,4),L(c,4,e)),void 0!==Zj(d,weh,5)&&(d=Zj(d,weh,5),ck(c,5,d))):ak(a,19,d):ak(a,19,void 0));void 0!==N(b,yT,21)?(c=N(b,yT,21),ak(a,21,c)):void 0!==b.getContent()&&ak(a,21,void 0);void 0!==Nj(b,22)&&(c=Nj(b,22),L(a,22,c));void 0!==Nj(b,23)&&(b=Nj(b,23),L(a,23,b))}function Meh(a,b){void 0!==b.getType()&&a.setType(b.getType());void 0!==b.getValue()&&a.setValue(b.getValue())};function Neh(a,b,c,d,e,f,h){this.J=a;this.F=b&&!Ld(b)?Md(b.toLowerCase()):null;this.L=c;this.D=d;this.dd=e;this.H=f;this.C=h}Neh.prototype.getName=g("J");Neh.prototype.getEmail=g("F");Neh.prototype.getId=g("dd");function H4(a){a=Ld(sf(a.getName()))?a.getEmail():a.getName();return sf(a)}Neh.prototype.equals=function(a){return this.J==a.J&&this.F==a.F&&this.L==a.L&&this.dd==a.dd&&this.H==a.H&&this.C==a.C};
function Oeh(a){var b=Peh(Qeh(Reh(Seh((new V4).Xc(a.getName()),a.getEmail()),K(a,2)),K(a,3)).Hc(a.getId()||""),!!Nj(a,5));a=!!Nj(a,7);b.D=a;return Teh(b)}function Ueh(a){var b=(new fY).Hc(a.getId()||""),c=a.getName();null!==c&&b.Xc(c);c=a.L;null!==c&&L(b,2,c);c=a.D;null!==c&&L(b,3,c);c=a.getEmail();null!==c&&L(b,8,c);L(b,5,!!a.H);return b}function V4(){}V4.prototype.Xc=function(a){this.H=a;return this};function Seh(a,b){a.C=b&&!Ld(b)?Md(b.toLowerCase()):null;return a}
function Reh(a,b){a.L=b;return a}function Qeh(a,b){a.J=b;return a}V4.prototype.Hc=function(a){this.dd=a;return this};function Peh(a,b){a.F=b;return a}function Teh(a){return new Neh(a.H,a.C,a.L,a.J,a.dd,a.F,a.D)};function Veh(a){N(a,fY,1);this.C=a}function G4(a){a=N(a.C,fY,1);return Oeh(a)}Veh.prototype.ue=g("C");Veh.prototype.equals=function(a){return fk(this.C,a.C)};function Weh(a){var b=new ueh;a=Ueh(a);b=ak(b,1,a);return new Veh(b)};function Xeh(a){N(a,fY,1);K(a,2);this.C=a}Xeh.prototype.ue=g("C");function Yeh(a){this.C=a}function Zeh(a,b){var c=[];a=Zj(a.C,weh,5);if(null==a)return c;for(var d=0;d<a.length;d++){var e=a[d];null!=b&&b!==K(e,2)||c.push(new Xeh(e))}return c}function W4(a){return null!=K(a.C,4)?K(a.C,4):0}Yeh.prototype.ue=g("C");function $eh(){var a=afh;this.C=[];this.D={};this.F=a}$eh.prototype.text=function(a){this.C.push(a)};function bfh(a,b){if(a.D[b])a.C.push(b);else{var c=new cfh(b,a.C.length);a.C.push(c);a.D[b]=c}}function dfh(a,b){var c=a.D[b];if(c){delete a.D[b];c.C=a.F[b].open;var d=bd(Xd(a.D),function(e){return e.D>c.D});zd(d,function(e,f){return yd(e.D,f.D)});a.C.push(new efh(a.F[b].close,d,a.F))}else a.C.push(b)}$eh.prototype.getResult=function(){return this.C.join("")};
function cfh(a,b){this.F=a;this.D=b;this.C=null}cfh.prototype.getName=g("F");cfh.prototype.toString=function(){return null!==this.C?this.C:this.F};function efh(a,b,c){this.F=a;this.C=b;this.D=c}efh.prototype.toString=function(){for(var a=[],b=this.C.length-1;0<=b;--b){var c=this.C[b];null!==c.C&&a.push(this.D[c.getName()].close)}a.push(this.F);for(b=0;b<this.C.length;++b)c=this.C[b],null!==c.C&&a.push(this.D[c.getName()].open);return a.join("")};function ffh(a){a=Ne(vdh(a));for(var b=[],c=a.indexOf("<");0<=c;c=a.indexOf("<"))b.push(new gfh(a.substring(0,c))),a=a.substring(c),c=a.indexOf("<",1)+4,b.push(new hfh(a.substring(0,c))),a=a.substring(c);b.push(new gfh(a));return new ifh(b)}function jfh(a){var b=new $eh;a=" "+a+" ";for(var c=1;c<a.length-1;++c){var d=a.substr(c-1,3),e=a.charAt(c),f=kfh.test(d);d=lfh.test(d);f?d?b.D[e]?dfh(b,e):bfh(b,e):bfh(b,e):d?dfh(b,e):b.text(e)}return new gfh(b.getResult())}
function mfh(a){return new gfh(a.replace(nfh,"<br>"))}var nfh=/\r\n|\n|\r/g,afh={"*":{open:"<b>",close:"</b>"},_:{open:"<i>",close:"</i>"},"-":{open:"<s>",close:"</s>"}},kfh=/([\.,!\?\(\)\s_\-]\*|[\.,!\?\(\)\s*\-]_|[\.,!\?\(\)\s*_]-)\S/,lfh=/\S(\*[_\-\.,!\?\(\)\s]|_[*\-\.,!\?\(\)\s]|-[*_\.,!\?\(\)\s])/;function gfh(a){this.bf=a}gfh.prototype.C=function(a){return a(this.bf)};gfh.prototype.toString=g("bf");function hfh(a){this.bf=a}hfh.prototype.C=function(){return this};hfh.prototype.toString=g("bf");
function ifh(a){this.Zh=a}ifh.prototype.C=function(a){var b=ed(this.Zh,function(c){return c.C(a)});return new ifh(b)};ifh.prototype.toString=function(){return this.Zh.join("")};function ofh(a){a.getId()||K(a,11);this.C=a;0==K(this.C,13)&&(L(this.C,13,void 0),L(this.C,15,void 0));this.F=this.J=this.H=this.D=null}m=ofh.prototype;m.update=function(a){this.F=this.H=this.J=null;void 0!==K(a,13)&&0!=K(a,13)&&(a.setContent(void 0),ak(a,4,void 0),ak(a,9,void 0));if(void 0!==N(a,yT,21)||void 0!==a.getContent())this.D=null;Leh(this.C,a);0==K(this.C,13)&&(L(this.C,13,void 0),L(this.C,15,void 0))};m.equals=function(a){return fk(this.C,a.C)};
m.jx=function(){var a=N(this.C,fY,5)||new fY;return Oeh(a)};m.getId=function(){return this.C.getId()||K(this.C,11)||""};m.Ku=function(){this.H||(this.H=WV(K(this.C,6)));return this.H};m.hR=function(){if(void 0===K(this.C,7))return this.Ku();this.J||(this.J=WV(K(this.C,7)));return this.J};function pfh(a){if(void 0===K(a.C,13))var b=null;else a.F||(a.F=WV(K(a.C,13))),b=a.F;if(!b||a.hR()>b)b=a.hR();return b}
function qfh(a){if(void 0!==S4(a.C)&&("text/html"==S4(a.C).getType()||"text/plain"==S4(a.C).getType())){var b=S4(a.C).getValue();b="text/html"==S4(a.C).getType()?b:mf(b)}return b||""}m.L4=function(){if(void 0!==S4(this.C)){var a=N(S4(this.C),peh,3);if(a)return a.Pf()}return null};m.Oha=function(){return K(this.C,10)};m.getContent=function(){return this.C.getContent()?this.C.getContent().getValue():""};
m.Pha=function(){if(null!=N(this.C,yT,21)&&!this.D){var a=N(this.C,yT,21);a=K(a,2)||"";this.D=Ue(a,null)}return this.D};m.Yx=function(){return null!=N(this.C,Q4,4)?N(this.C,Q4,4).getValue()||"":""};m.ys=function(){return null!=this.C.getContent()?this.C.getContent().getType():null};m.rS=function(){return!!Nj(this.C,12)};m.Oq=function(){return!!K(this.C,13)};m.oC=function(){var a=N(this.C,ueh,18);return null!=a?new Veh(a):null};m.mA=function(){var a=N(this.C,yeh,19);return null!=a?new Yeh(a):null};
m.Uj=function(){return void 0!==K(this.C,16)&&void 0===K(this.C,10)};m.OI=function(){return void 0!==K(this.C,16)?K(this.C,16):null};function rfh(a){return void 0!==K(a.C,16)&&void 0!==K(a.C,10)?K(a.C,10):null}m.getOrigin=function(){var a=this.C.getOrigin();return 1==a?1:2==a?2:null};m.Mwa=function(){return!!Nj(this.C,22)};m.Hwa=function(){return 2==this.getOrigin()};function X4(a,b){this.C=new Heh;L(this.C,11,a);b&&b!=a&&this.C.Hc(b)}
function sfh(a,b){var c=R4(a.C);c.push(b.C);ck(a.C,8,c);return a}function tfh(a,b){L(a.C,16,b);return a}function Y4(a){L(a.C,12,!0);return a}function ufh(a,b){L(a.C,6,b);return a}function vfh(a){var b=Ra();L(a.C,13,b);return a}function wfh(a){L(a.C,13,0);return a}function xfh(a,b){ak(a.C,18,b.ue());L(a.C,10,4);return a}function yfh(a,b){b=Ueh(b);ak(a.C,5,b);return a}function zfh(a,b){ak(a.C,19,b.ue());return a}function Afh(a){L(a.C,20,1);return a}
function Z4(a,b,c){b=Md(b);var d=(new Q4).setType("text/plain").setValue(b);ak(a.C,4,d);b=(new Q4).setType("text/html").setValue(ffh(b).C(jfh).C(mfh).toString());a.C.setContent(b);L(a.C,7,c);return a};function Bfh(a,b,c,d){this.F=a;this.C=b;this.H=c;this.D=d}function Cfh(a,b){return a.F.getId()==b.jx().getId()}function Dfh(a,b){return Cfh(a,b)&&!!b.Yx()&&("suggest"==a.C||"full"==a.C)}function Efh(a,b){return b instanceof ofh&&void 0!==b.Oha()?!1:(a.H||Cfh(a,b))&&(!!b.Yx()||b.Uj())&&("suggest"==a.C||"full"==a.C)}function Ffh(a,b){return a.D&&!b.Uj()&&("suggest"==a.C||"full"==a.C)}Bfh.prototype.exa=g("D");function Gfh(a){return"suggest"==a.C||"full"==a.C};function Hfh(a){J(this,a,0,-1,null,null)}v(Hfh,I);Hfh.prototype.ea=function(){var a=new E;var b=K(this,1);null!=b&&a.Ha(1,b);return Y(a)};function Ifh(a,b){this.D=a;this.C=b||null}Ifh.prototype.fp=function(a,b,c){this.D(a,b,c)};Ifh.prototype.HCa=function(a){this.C&&this.C(a)};function Jfh(a,b,c,d,e){d=d?d.Pf():void 0;e=e?e.Pf():void 0;a(b,c,d,e)};function Kfh(a){Uo.call(this);this.g3(a)}v(Kfh,Uo);m=Kfh.prototype;
m.g3=function(a){var b=a.kd;this.dh=b;if(void 0===b.Vg())throw Error("Invalid or missing user.");var c=b.Vg();this.bKa=Teh(Peh(Qeh(Reh(Seh((new V4).Xc(c.getName()),c.getEmail()),K(c,2)),K(c,3)).Hc(c.getId()||""),!!Nj(c,5)));this.bga=!!Nj(b,40);this.Hba=!Nj(b,20);this.Iba=K(b,11);this.YLa=!!Nj(b,12);this.vqa=K(b,6);this.aKa=void 0!==a.l?!!a.l:!!Nj(b,25);this.p0a=K(b,21);this.xqa=K(b,23);this.cKa=K(b,24);this.tUa=K(b,31);void 0!==a.i?this.wqa=a.i:this.wqa=void 0;if(a=gY(b))this.h3=K(a,1);this.dispatchEvent("r")};
m.vqa=null;m.tUa=null;m.wqa=void 0;m.Iba=null;m.aKa=!1;m.bga=!1;m.p0a=null;m.xqa=null;m.cKa=null;m.Hba=!0;m.YLa=!1;m.bKa=null;m.h3=null;m.dh=null;m.Vg=g("bKa");function Lfh(a,b,c){function d(f){return c?td(f):f}var e=null;a&&Ea(a)&&(e=d(a),Ea(e[0])&&b==e[0][0]?(e=d(e[0]),e.shift()):b==e[0]&&e.shift());return e};function Mfh(a){this.C=a};function Nfh(){}Nfh.prototype.install=function(a){a=a&&Yo(a);Wcb(a)};Nfh.prototype.C=function(a,b){tz(a,b,void 0)};Nfh.prototype.hf=function(a){a=a&&Yo(a);adb(a)};Nfh.prototype.D=function(a,b){TV(a,b)};function Ofh(a,b){b=void 0===b?function(){return rse()}:b;var c=a.kd;"string"===typeof c&&(c=JSON.parse(c));Ea(c)&&(c=Lfh(c,"kd",!0),c.unshift("kd"),a.kd=new nmf(c));Kfh.call(this,a);this.Ij=b}t(Ofh,Kfh);m=Ofh.prototype;
m.g3=function(a){Kfh.prototype.g3.call(this,a);this.L=this.L||F7b("disco");var b;if(!(b=this.Ra)){b=F7b("usp_dm");var c=new USd;null!=b&&("true"==b?L(c,1,2):"false"==b&&L(c,1,1));b=c}this.Ra=b;this.nj=a["anchor-is-orphaned-fn"]||re;this.Ba=a.anchordiv||null;b=a.container||null;!b&&a.containerdiv&&(b=new Mfh(a.containerdiv));this.ir=b;this.Ob=a.storage||null;this.vd=!!a["storage-ro"];this.Ud=!!a["disable-focus"];this.rD=!!a.so;this.jg=a.docscroller||null;this.Qo=a["inactive-doco-indent"]||10;this.Xa=
a["instant-docos-div"]||null;this.ob=a["enable-new-delete-ui"]||!1;this.jb=a["delete-dialog-show"]||null;this.R=null;b=a["log-latency-event-fn"]||null;c=a["set-total-docos-counts-fn"];b&&(this.R=new Ifh(b,c));this.Am=a["memory-monitor-fn"]||null;this.ub=a.layout||null;this.wl=!!a.layoutrtl;this.H=a.listeners||{};this.O=a.panediv||null;this.xa=a.panekbdiv||null;this.z3()&&"sortpane"in a?b=a.sortpaneby||"priority":(b=a.sortpaneby||"creation","sortpane"in a&&(b=a.sortpane?"updated":"none"));this.fb=
b;this.Pc=a.quotefn||null;this.Fd=a["user-color-provider-fn"]||null;this.sD=a["user-color-provider-from-name-fn"]||null;this.Us=a.quoterenderfn||null;this.jj=!!a["hide-notification"];this.J=!!a.offline;this.Dc=!!a.nocss;this.Lc=null!=a["overflow-menu-show-link"]?!!a["overflow-menu-show-link"]:!0;this.Vd=!!a["anchor-shadow"];b=a.resolve;"boolean"!==typeof b&&(b=!0);c=a.accessLevel;var d=!!a.readonly||!!a["fatal-readonly"]||!!Nj(this.dh,8);this.D=new Bfh(this.Vg(),c?c:d?"readonly":"full",!!Nj(this.dh,
3),b);this.Va=!!a.iph;this.rq=a.maxheight||0;this.Yc=!!a.showerrors;this.jd=a["stream-button"]||null;this.Ne=!!a["disable-spfw"];this.Sa=a["anchor-mutate-fn"]||null;Pfh(this)||(this.Sa=null);this.Qg=!!a["enable-comment-button"];this.Ma=!!a["enable-gsuite-embedding"];this.Zg=null!=a["enable-instant-mentions"]?!!a["enable-instant-mentions"]:!0;this.un=a["acl-fix-fn"]||null;this.Xl=a["load-acl-fixer-fn"]||null;this.cf=a["intercept-docos-edit-fn"]||null;this.bj=a["is-an-illegal-write-fn"]||null;this.Pd=
!!a["defer-first-sync"];this.Fb=!!a["enable-lazy-loading"];this.Ja=!!a["enable-all-docos-in-anchored-stream"];this.pz=a["stream-pane-banner-message"]||null;this.Tt=a["stream-pane-banner-learn-more-url"]||null;this.Nn=!!a["enable-track-mouse-positions-in-doco-view"];this.V=!!a["enable-docos-people-hovercard"];this.Qa=(b=a["impression-recorder-fn"])?Qa(Jfh,b):null;this.Oh=a.hidepromofn;this.St=a.showpromofn;this.Nm=a["acl-check-fn"]||null;this.C=a["tooltip-manager"]||new Nfh;this.Mn=a["browser-app-clipboard"]||
null;this.cb=a["modal-dialog-z-index"]||null;this.Lf=a["doco-link-base-url"];this.ma=!!a["untrusted-iframe"];this.Ea=a["static-input-pane-message"]||null;this.Uba=a["drive-id"]||null;this.rb=!!a["enable-roving-tabindex"];this.bh=a["auto-complete-factories"]||[];this.uo=a["overflow-menu-items"]||[];this.F=a["ui-version"]||"legacy";this.Db=a["link-opener"]||null;this.Yj=a["last-viewed-timestamp"]||null;this.dispatchEvent("r")};
function Qfh(a){return null!=K(a.dh,44)&&null!=K(gY(a.dh),51)&&!!Nj(gY(a.dh),51)}m.RK=function(){if(this.jj)return!1;var a=Nj(this.dh,26);return null!=a?!!a:!0};m.Jga=function(){return!!Nj(this.dh,43)};m.Uwa=function(){var a=!1,b=gY(this.dh);b&&(a=Nj(b,2));return!!Nj(this.dh,43)&&!!a};function Rfh(a){return!!gY(a.dh)&&!!Nj(gY(a.dh),32)}m.wsa=g("Uba");function Pfh(a){return a.dh&&!!Nj(a.dh,18)}m.vj=function(){return!!Nj(this.dh,39)};
m.z3=function(){return null!=K(this.dh,44)&&!!Nj(gY(this.dh),53)&&!this.Vg().C};m.eH=function(){return null!=K(this.dh,44)&&!!Nj(gY(this.dh),54)&&!this.Vg().C};function $4(a){return null!=K(a.dh,44)&&null!=K(gY(a.dh),55)&&!!Nj(gY(a.dh),55)}function Sfh(a){return null!=K(a.dh,44)&&!!Nj(gY(a.dh),56)}function Tfh(a){return null!=K(a.dh,44)&&!!Nj(gY(a.dh),57)}function Ufh(a){return a.Ij()&&!!Nj(a.dh,10)&&!a.Ud}function Vfh(a){return Nj(a.dh,10)?a.bh:[]}
function Wfh(a){return!!gY(a.dh)&&!!Nj(gY(a.dh),50)};function Xfh(a,b,c,d,e,f){I4.call(this,a,c);this.D=J4(a);this.Qa=Rm(Wc(y(),"docs-seu")||this.D.Lf||window.location.href);this.Rc=new jz(c,new Yfh(d));this.F=new sz("",this.Rc,void 0,c);this.F.pO=!0;this.Ga(this.F);this.J=null;kd(e,"edit")&&(this.J=new ez("Edit"),this.J.Kc("docos-edit-menuitem"),this.Rc.Ga(this.J,!0));this.H=null;kd(e,"delete")&&(this.H=new ez("Delete"),this.H.Kc("docos-delete-menuitem"),this.Rc.Ga(this.H,!0));this.R=null;kd(e,"reanchor")&&Rfh(this.D)&&(this.R=new ez("Re-anchor comment"),
this.R.Kc("docos-reanchor-menuitem"),this.Rc.Ga(this.R,!0));this.xa=null;kd(e,"disable")&&(this.xa=new ez("Turn off suggested action items"),this.xa.Kc("docos-disable-menuitem"),this.Rc.Ga(this.xa,!0));this.Ja=null;kd(e,"help")&&(this.Ja=new ez("Learn more"),this.Ja.Kc("docos-help-menuitem"),this.Rc.Ga(this.Ja,!0));d=N4(a).fd(b);if(!d)throw Error("Creating an action menu for a non-existing doco.");this.L=d;this.Ma=f?a5(d,f):null;this.V=null;J4(a).D.exa()&&kd(e,"resolve")&&(this.V=new ez(""),this.Rc.Ga(this.V,
!0));this.O=this.Ba=this.ma=null;kd(e,"link")&&(this.Ba=new ez("Link to this comment..."),this.Ba.Kc("docos-link-menuitem"),this.Rc.Ga(this.Ba,!0),this.O=new urf(c,this.D.Mn||void 0,void 0,null===this.D.cb?void 0:this.D.cb),this.Ga(this.O),vx(Ox(this.O),"docos"),this.O.setTitle("Link to this comment..."),Zfh(this,b));this.Ea=J4(a).uo.map(function(h){return{Mab:h,VNa:new ez(h.getLabel())}});for(a=0;a<this.Ea.length;a++)this.Rc.Ga(this.Ea[a].VNa,!0)}t(Xfh,I4);m=Xfh.prototype;
m.Gc=function(a){I4.prototype.Gc.call(this,a);a=this.oa().eb("docos-docomenu-dropdown",this.getElement());null===a?(a=this.Yc,null!==a&&a.C(Error("Doco dropdown button not found in DOM."))):(this.F.Wa(a),this.F.Pa(!0),this.D.C.C(a,"More options..."),this.F.Ce("More options..."))};
m.Ia=function(){var a=this;I4.prototype.Ia.call(this);$fh(this);K4(K4(K4(this,this.Rc.getElement(),"click",this.qWa),this.F.getElement(),"click",this.qWa),this.D,"r",this.iub);K4(this,this.F.getElement(),"keyup",this.Ugc);agh(this,this.J,this.eic);agh(this,this.H,this.cic);agh(this,this.Ba,this.Sac);agh(this,this.R,this.iic);agh(this,this.V,this.jic);agh(this,this.xa,this.dic);agh(this,this.Ja,this.hic);for(var b={},c=0;c<this.Ea.length;b={r$:b.r$},c++)b.r$=this.Ea[c],agh(this,b.r$.VNa,function(d){return function(){d.r$.Mab.C((a.Ma||
a.L).Yx())}}(b))};m.Jh=function(a){this.oa().Ti(this.F.getElement(),a)};m.focus=function(){this.F.getElement().focus()};m.update=function(){$fh(this)};function Zfh(a,b){if(a.O){var c=a.Qa.clone();b=c.D.set("disco",b);a.O.bXa(Lm(c,b).toString())}}function agh(a,b,c){b&&K4(a,b,"action",c)}m.jic=function(a){Ffh(this.D.D,this.L)&&(this.dispatchEvent(new bgh("r")),cgh(this,a))};m.eic=function(a){dgh(this)&&(this.dispatchEvent(new bgh("e")),cgh(this,a))};
m.dic=function(a){this.dispatchEvent(new bgh("i"));cgh(this,a)};m.cic=function(a){egh(this)&&(this.F.zd(!1),this.dispatchEvent(new bgh("d")),cgh(this,a))};m.iic=function(a){this.dispatchEvent(new bgh("ra"));cgh(this,a)};m.hic=function(a){this.dispatchEvent(new bgh("h"));cgh(this,a)};m.Sac=function(a){cgh(this,a);this.O.setVisible(!0)};function cgh(a,b){b.stopPropagation();a.F.zd(!1)}m.Ugc=function(a){27==a.keyCode&&a.stopPropagation()};m.qWa=function(a){a.stopPropagation()};m.iub=function(){$fh(this)};
function dgh(a){return Dfh(a.D.D,a.Ma||a.L)&&!a.ma}function egh(a){return Efh(a.D.D,a.Ma||a.L)&&!a.D.ma}function $fh(a){if(a.V){var b=a.L.isResolved();if(null===a.ma||b!=a.ma){var c=fgh(a.L)?"Mark as done":"Resolve";a.V.setContent(b?"Re-open":c);a.ma=b}a.V.Pa(Ffh(a.D.D,a.L))}a.J&&(b=dgh(a),a.J.Pa(b),a.J.setVisible(b));a.H&&(b=egh(a),a.H.Pa(b),a.H.setVisible(b));a.R&&(b=!a.ma,a.R.Pa(b),a.R.setVisible(b))}function bgh(a){Ho.call(this,a)}t(bgh,Ho);
function Yfh(a){a=void 0===a?"docos-docomenu":a;hz.call(this);this.D=a}t(Yfh,hz);Yfh.prototype.Lb=function(){return(new dr("goog-menu"," ","docos"," ",this.D)).toString()};function ggh(){kC.call(this,!1)}t(ggh,kC);ggh.prototype.mO=function(a){kC.prototype.mO.call(this,a)};function hgh(){this.C=!1;this.D=new Of;this.qa(this.D)}v(hgh,A);function igh(a,b,c,d,e,f,h){this.H=a;this.D=b;this.J=c;this.F=d;this.Vy=e;this.$W=f;this.C=h}igh.prototype.fd=g("D");function jgh(){}function b5(a){var b=new jgh;b.F=a;return b}function c5(a,b){a.D=b;return a}function kgh(a,b){a.Vy=b;return a}function d5(a){return new igh(a.F,a.D,a.J||!1,a.C||null,a.Vy||null,a.$W||null,a.H||null)};function lgh(a,b,c,d,e,f,h){this.H=a;this.J=b;this.F=c;this.L=d;this.C=e;this.D=f;this.Zr=h}function e5(){}function f5(a,b){a.H=b;return a}function g5(a,b){a.F=b;return a}function h5(a,b){a.Zr=b;return a}function i5(a){return new lgh(a.H,a.L||!1,a.C||null,a.J||null,a.D||null,a.F||null,a.Zr||null)};function U4(a){J(this,a,0,-1,null,null)}v(U4,I);function mgh(a){J(this,a,0,-1,null,null)}v(mgh,I);m=U4.prototype;m.ea=function(){var a=new E;ngh(this,a);return Y(a)};function ngh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=T4(a);null!=c&&b.Aa(2,c,Jeh);c=K(a,3);null!=c&&Cj(b,3,c);c=K(a,4);null!=c&&Cj(b,4,c);c=a.fq();null!=c&&b.Aa(5,c,ogh);c=K(a,6);null!=c&&G(b,6,c);c=K(a,7);null!=c&&G(b,7,c);c=K(a,8);null!=c&&b.Ha(8,c);c=K(a,9);null!=c&&G(b,9,c)}m.getId=function(){return K(this,1)};
m.Hc=function(a){return L(this,1,a)};function T4(a){return N(a,Heh,2)}m.fq=function(){return N(this,mgh,5)};m.$u=function(a){return ak(this,5,a)};m=mgh.prototype;m.ea=function(){var a=new E;ogh(this,a);return Y(a)};function ogh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=a.getTitle();null!=c&&b.Aa(2,c,oeh);c=N(a,U4,3);null!=c&&b.Aa(3,c,ngh)}m.getId=function(){return K(this,1)};m.Hc=function(a){return L(this,1,a)};m.getTitle=function(){return N(this,Q4,2)};m.setTitle=function(a){return ak(this,2,a)};function pgh(a,b,c){var d=T4(a);this.F=a;this.O=b;this.It=c||null;this.R=null;this.J={};this.D={};this.C=new ofh(d);this.H=void 0;this.vS=!!N(d,ueh,18);b=this.getId();if(a=T4(a)){a=R4(a);for(c=0;c<a.length;c++)d=new ofh(a[c]),void 0===K(a[c],13)?(this.D[d.getId()]=d,rfh(d)&&(this.H=rfh(d)),this.O.bind(b,d.getId())):this.J[d.getId()]=d;this.H||(this.H=null)}this.V=this.L=null}m=pgh.prototype;m.jx=function(){return this.C.jx()};m.getId=function(){return this.C.getId()};
function j5(a){return K(a.C.C,11)||""}m.hR=function(){var a=K(this.F,4);if(void 0===a)return this.Ku();this.V||(this.V=WV(a));return this.V};m.getContent=function(){return this.C.getContent()};m.ys=function(){return this.C.ys()};m.Oha=function(){return this.C.Oha()};m.Yx=function(){return this.C.Yx()};function k5(a){return K(a.F,8)||""}m.Pha=function(){return this.C.Pha()};m.L4=function(){return this.C.L4()};m.nA=function(){return void 0!==K(this.F,8)};m.isResolved=function(){return!!Nj(this.F,6)};
function l5(a,b){var c=Xd(a.D);b&&c.push(a.C);Ad(c,function(d,e){return VV(d.Ku(),e.Ku())});return c}function a5(a,b){return a.D[b]||null}m.Ku=function(){if(this.L)return this.L;var a=K(this.F,3);a?this.L||(this.L=WV(a)):this.L=null;return this.L};m.getNewDocoType=g("It");m.hx=function(){return"draft"==this.It||"client-integrated-draft"==this.It||"instant-doco"==this.It};function qgh(a){return rgh(a)}function rgh(a){return a.hx()||"smart-todo"==a.It}m.hZ=function(){return"smart-todo"==this.It};
m.rS=function(){return!!Nj(this.F,9)};m.Oq=function(){return this.C.Oq()};m.mA=function(){return this.C.mA()};m.oC=function(){return this.C.oC()};function L4(a){var b=a.C.oC()?a.C.oC():null;a=l5(a);for(var c=0;c<a.length;c++){var d=a[c];d.oC()&&(d=d.oC(),b?(b=new Veh(gk(b.ue())),d=G4(d),d=Ueh(d),ak(b.C,1,d)):b=new Veh(gk(d.C)))}return b}function fgh(a){return a.C.oC()?a.C:null}m.Uj=function(){return this.C.Uj()};m.isTodo=function(){return null!=this.vS?this.vS:this.vS=!!fgh(this)};m.OI=function(){return this.C.OI()};
function sgh(a){if(void 0!==a.H)return a.H;if(!a.Uj())return a.H=null;for(var b in a.D){var c=rfh(a.D[b]);if(c)return a.H=c}return a.H=null}m.getOrigin=function(){return this.C.getOrigin()};m.Mwa=function(){return this.C.Mwa()};m.Hwa=function(){var a=this.getOrigin();if(2==a)return!0;if(1!=a)return!1;for(var b=l5(this),c=0;c<b.length;c++){a=b[c].getOrigin();if(2==a)return!0;if(1!=a)break}return!1};function tgh(a){this.C=a;this.It=null}
function m5(a){var b=new U4;a=a.C;ak(b,2,a);a.getId()||K(a,11);b.Hc(a.getId()||K(a,11));return new tgh(b)}function ugh(a,b){L(a.C,8,b);return a}function n5(a,b){L(a.C,9,b);return a}function vgh(a,b){a.It=b;return a}tgh.prototype.getNewDocoType=g("It");function wgh(a,b){L(a.C,3,b);return a}tgh.prototype.getId=function(){return T4(this.C).getId()};function xgh(a,b,c,d,e,f,h,k){Ho.call(this,a);this.Sr=b;this.C=c;this.L=d;this.Zr=e;this.D=f;this.O=h;this.F=k}t(xgh,Ho);xgh.prototype.getSource=g("Sr");function ygh(){this.Zr=this.D=this.F=this.Sr=this.Aw=null;this.H=this.C=0;this.J=!1}function zgh(a){var b=new ygh;b.Aw=a;return b}function Agh(a,b){a.Sr=b;return a}function Bgh(a,b){a.F=b;return a}function Cgh(a,b){a.H=b;return a}function Dgh(a,b){a.J=b;return a}function Egh(a){return new xgh(a.Aw,a.Sr,a.F,a.D,a.Zr,a.C,a.H,a.J)};function Fgh(a){A.call(this);this.C=a;this.F=J4(a);this.D=Ggh(this.C);this.H={}}v(Fgh,A);function Hgh(a,b,c,d,e,f){var h=uf(),k=new X4(h);d&&Z4(k,d,Ra());f&&Afh(k);e&&(d=Teh(Peh(Seh(new V4,e).Hc(""),!1)),d=Weh(d),xfh(k,d));c=vgh(wgh(n5(ugh(m5(k),b),!1),Date.now()),c);Igh(N4(a.C),c);N4(a.C).flush();o5(a.D,i5(h5(g5(f5(new e5,43008),h),b)));return p5(N4(a.C),h)}
function Jgh(a,b,c,d,e){d=Peh(Seh(new V4,d).Hc(""),!1);Ld(sf(e))||d.Xc(e);e=Teh(d);d=Weh(e);e=uf();var f=Ra();c=Afh(xfh(Z4(yfh(new X4(e),a.F.Vg()),c,f),d));c=vgh(n5(ugh(m5(c),b),!1),"smart-todo");Igh(N4(a.C),c);N4(a.C).flush();o5(a.D,i5(h5(g5(f5(new e5,43023),e),b)));return p5(N4(a.C),e)}
function Kgh(a,b,c,d,e){var f=uf(),h=Ra();c=Z4(yfh(ufh(Y4(new X4(f)),h),a.F.Vg()),c,h);e&&Afh(c);d&&(d=Teh(Peh(Seh(new V4,d).Hc(""),!1)),d=Weh(d),xfh(c,d));b=vgh(ugh(wgh(n5(m5(c),!0),h),b),"discussion");Igh(N4(a.C),b);N4(a.C).flush();b=N4(a.C).fd(f);q5(a.D,d5(c5(b5(43009),b)));return p5(N4(a.C),f)}m=Fgh.prototype;m.Mfb=function(a){Lgh(N4(this.C),a);N4(this.C).flush()};
m.Ifb=function(a,b,c,d,e){e=void 0===e?null:e;if(a=N4(this.C).fd(a)){if(d&&!a.oC())throw Error("Cannot reassign a doco with no existing assignment");if(a.Uj()&&d)throw Error("Cannot reassign a suggestion.");var f=uf(),h=Ra();b=yfh(ufh(Z4(Y4(new X4(f)),b,h),h),this.F.Vg());c&&tfh(b,c);d&&xfh(b,d);c=sfh(new X4(j5(a),a.getId()),b);c=n5(m5(c),!0);r5(N4(this.C),c);N4(this.C).flush();d=c5(b5(d?43020:43010),a);e&&(d.C=e);q5(this.D,d5(d))}};
m.Pfb=function(a,b){if(a=N4(this.C).fd(a)){var c=new X4(j5(a),a.getId()),d=null!=a.mA()?new Yeh(a.mA().ue().clone()):new Yeh(new yeh);L(d.C,4,b?1:0);Y4(zfh(c,d));c=n5(m5(c),!0);r5(N4(this.C),c);N4(this.C).flush();q5(this.D,d5(c5(b5(b?43040:43041),a)))}};
m.Qfb=function(a,b,c){if(a=N4(this.C).fd(a)){var d=new X4(j5(a),a.getId());if(c=a5(a,c)){var e=null!=c.mA()?new Yeh(c.mA().ue().clone()):new Yeh(new yeh),f=new X4(j5(a),c.getId());L(e.C,4,b?1:0);sfh(d,Y4(zfh(f,e)));d=n5(m5(d),!0);r5(N4(this.C),d);N4(this.C).flush();q5(this.D,d5(kgh(c5(b5(b?43042:43043),a),c)))}}};
m.dkb=function(a,b,c,d){d=void 0===d?null:d;if(a=N4(this.C).fd(a))if(b=a5(a,b)){var e=Ra();c=Z4(Y4(new X4(K(b.C,11)||"",b.getId())),c,e);c=sfh(new X4(j5(a),a.getId()),c);c=n5(m5(c),!0);r5(N4(this.C),c);N4(this.C).flush();a=kgh(c5(b5(43021),a),b);d&&(a.C=d);q5(this.D,d5(a))}};m.N8b=function(a,b){if(a=N4(this.C).fd(a)){var c=Ra();b=Z4(new X4(j5(a),a.getId()),b,c);b=n5(m5(b),!1);r5(N4(this.C),b);N4(this.C).flush()}};
m.Nfb=function(a,b,c,d){d=void 0===d?null:d;if(a=N4(this.C).fd(a)){if(a.Uj())throw Error("Cannot resolve a suggestion.");var e=uf(),f=Ra();e=yfh(ufh(Y4(new X4(e)),f),this.F.Vg());L(e.C,10,b?0:1);c&&Z4(e,c,f);c=sfh(new X4(j5(a),a.getId()),e);c=n5(m5(c),!0);L(c.C,6,b);r5(N4(this.C),c);N4(this.C).flush();b=c5(b5(b?43014:43015),a);null!=d&&(b.C=d);q5(this.D,d5(b))}};
m.Jfb=function(a,b,c){c=void 0===c?null:c;var d=N4(this.C),e=d.fd(a);e&&(this.H[p5(d,a)]=Yd(je(e.D)),a=vfh(Y4(new X4(j5(e),e.getId()))),a=n5(m5(a),!0),e.hZ()||(e=c5(b5(43017),e),null!=b&&(e.$W=b),c&&(e.C=c),q5(this.D,d5(e))),r5(d,a),d.flush())};
function Mgh(a,b){var c=N4(a.C);if(s5(c,b))throw Error("Cannot undo deletion of non-deleted Doco.");var d=c.Ja[b];if(!d)throw Error("Doco with handle "+b+" does not exist.");var e=wfh(Y4(new X4(j5(d),d.getId()))),f=a.H[b];delete a.H[b];a=je(d.J);b=je(d.D);for(var h=0;h<f.length;h++){var k=f[h];sfh(e,wfh(Y4(new X4(K((b[k]||a[k]).C,11)||"",k))))}e=n5(m5(e),!0);r5(c,e);c.flush();return p5(c,d.getId())}
m.Ofb=function(a,b){if(a=s5(N4(this.C),a)){var c=a.OI();if(!a.Uj()||!c)throw Error("Attempting to set model diff summary on a non-suggestion.");a=Y4(new X4(j5(a),a.getId()));c=(new seh).setType("application/vnd.google-apps.docs.mds");b=ak(c,3,b);ak(a.C,9,b);b=n5(m5(a),!0);r5(N4(this.C),b);N4(this.C).flush()}};
m.akb=function(a,b,c){c=void 0===c?null:c;if(a=N4(this.C).fd(a)){var d=Ra();b=Z4(Y4(new X4(j5(a),a.getId())),b,d);b=n5(m5(b),!0);r5(N4(this.C),b);N4(this.C).flush();a=c5(b5(43022),a);c&&(a.C=c);q5(this.D,d5(a))}};m.$eb=function(a,b,c){(a=N4(this.C).fd(a))&&(b=a5(a,b))&&Ngh(this,a,b,c)};function Ngh(a,b,c,d){d=void 0===d?null:d;var e=kgh(c5(b5(43016),b),c);d&&(e.C=d);q5(a.D,d5(e));r5(N4(a.C),Ogh(b,c));N4(a.C).flush()}
function Ogh(a,b){b=vfh(Y4(new X4(K(b.C,11)||"",b.getId())));a=sfh(new X4(j5(a),a.getId()),b);return n5(m5(a),!0)}m.Lfb=function(a){var b=s5(N4(this.C),a,!0);a=Pgh(N4(this.C),a);b&&a&&Ngh(this,b,a)};m.Kfb=function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c],e=s5(N4(this.C),d,!0);d=Pgh(N4(this.C),d);e&&d&&b.push(Ogh(e,d))}Qgh(N4(this.C),b,"c")};function Rgh(a,b){if(!b)return!1;if(!b.Uj()||!b.OI())throw Error("Attempting to accept/reject a non-suggestion.");return Sgh(N4(a.C),b)?!0:!1}
function Tgh(a,b,c,d){a=tfh(yfh(ufh(Y4(new X4(c)),Ra()),a.F.Vg()),b.OI());L(a.C,10,d?2:3);b=sfh(new X4(j5(b),b.getId()),a);return n5(m5(b),!0)};function Ugh(){Uo.call(this)}v(Ugh,Uo);function Vgh(a,b){Ho.call(this,a);this.ym=b||null}v(Vgh,Ho);function Wgh(a){J(this,a,0,-1,null,null)}v(Wgh,I);Wgh.prototype.ea=function(){var a=new E;var b=K(this,1);null!=b&&a.Ha(1,b);b=K(this,2);null!=b&&a.Ha(2,b);b=K(this,3);null!=b&&a.Ha(3,b);b=K(this,4);null!=b&&a.Ha(4,b);return Y(a)};Wgh.prototype.Vf=function(){return K(this,1)};function Xgh(){Mq.call(this,"",void 0,!0);this.F=new Hq(u(this.C,this));this.qa(this.F);this.H=null}t(Xgh,Mq);Xgh.prototype.O=function(a,b,c,d){if(this.H&&!Gd(a,"Error in protected function: ")){var e=new Wgh;a=L(e,1,a);b=L(a,2,b);c=L(b,3,String(c));d&&L(c,4,d);Ygh(this.H,"rjse",c,void 0,ya,!0,1)}};Xgh.prototype.Ka=function(){Mq.prototype.Ka.call(this);delete this.F};function Zgh(a){Uo.call(this);var b=this;this.F=null;this.H=new Co;this.qa(this.H);this.C=a;Do(this.H,this.C.IH(),function(){"hidden"===b.C.getState()&&(b.D=new WB);"visible"!=b.C.getState()||gpb(b.D)||(b.dispatchEvent("Zi"),$gh(b))});this.D=new WB;$gh(this)}t(Zgh,Uo);Zgh.prototype.format=function(a){var b=new WB(a);b=(new WB).getTime()-b.getTime();if(15552E6<b||-864E5>b)return ahh.format(a);b=tmf(a.getTime());return bhh.format(a)+(" "+b)};
function $gh(a){var b=new WB;b.add(new VB(0,0,1));b=b.getTime();dq(a.F);a.F=cq(function(){a.dispatchEvent("Zi");$gh(a)},b-Ra(),a)}za(Zgh);var bhh=new ZB(7),ahh=new ZB(2);function chh(a,b,c){this.By=a;this.src=b;this.C=c};function dhh(a){A.call(this);this.C=a;this.D={};this.J={};this.L=this.C.J;this.dd=0;this.H=[];this.Oa=new Vo(this);this.qa(this.Oa);this.Oa.listen(this.C,"r",this.O)}t(dhh,A);function ehh(a){return"legacy"===a.C.F?"//ssl.gstatic.com/docs/common/profile/unverified_user_96.svg":"//ssl.gstatic.com/docs/common/profile/material_unverified_user_96.svg"}function fhh(a,b,c,d){if(b){var e="dcs-img-"+a.dd++;b.id=e;b.alt=d;a.D[e]=b;a.J[e]=c||ghh(a);hhh(a,e)}}
function keh(a,b,c,d){b&&a.H.push(new chh(b,c,d))}function ihh(a){cq(function(){for(;this.H.length;){var b=this.H.pop();fhh(this,b.By,b.src,b.C)}},0,a)}function O4(a,b){b&&b.id&&(a.Oa.zc(b,jhh,a.F),delete a.D[b.id],delete a.J[b.id])}dhh.prototype.O=function(){var a=this.C.J;if(this.L!=a&&(this.L=a,!a))for(var b in this.D)hhh(this,b)};
dhh.prototype.F=function(a){if(a.currentTarget){var b=a.currentTarget;if("readystatechange"!=a.type||"complete"==b.readyState)"abort"==a.type||"error"==a.type?(b.classList.contains("docos-avatar-unverified")&&(b.classList.remove("docos-avatar-unverified"),this.C.C.C(b,"")),this.Oa.zc(b,jhh,this.F),b.src=ghh(this)):O4(this,b)}};function hhh(a,b){a.Oa.listen(a.D[b],jhh,a.F);a.D[b].src=a.J[b]}
function ghh(a){return Sfh(a.C)?"//ssl.gstatic.com/docs/common/blue_silhouette96-0.png":"//ssl.gstatic.com/s2/profiles/images/silhouette96.png"}var jhh=[Af?"readystatechange":"load","abort","error"];function khh(){OV.call(this);this.V=!1}v(khh,OV);function J4(a){return a.get("config")}function P4(a){var b=PV(a,"action_registry");if(!b){b=new ggh;for(var c=Xd(Kdh),d=0;d<c.length;d++){var e=c[d];e=O((new wt(e)).Hj("label",e).Hj("visible",!0).Hj("hint",e).Hj("enabled",!0));b.Os(e);b.qa(e)}a.Ef("action_registry",b)}return b}function N4(a){return a.get("stream")}function M4(a){return a.get("imageManager")}function lhh(a){return a.get("subscriptionManager")}
function Ggh(a){return a.get("impressionRecorder")}function eeh(a){return PV(a,"errorReporter")}function mhh(a){var b=PV(a,"batchEventTracker");b||(b=new hgh,a.Ef("batchEventTracker",b));return b};function nhh(a,b,c){this.L=a;this.D=b;this.O=c;this.C=!1;this.J=this.H=0;this.F=J4(a).Nn}function ohh(a,b){a.C!=b&&(a.C=b,b={bk:a.D,WPb:a.O,bQb:b},P4(a.L).Bf("mouse-hover-doco-view").qb(b))};function phh(a){a=a||{};var b=a.mK,c=a.w1,d=a.cQb;a="";b&&(d="docos-action-text "+(d?"docos-edit-pane-action-text":"docos-body-action-text"),a+=c?"<div class="+QV(c)+"><span class="+QV(d)+">"+R(b)+"</span></div>":"<span class="+QV(d)+">"+R(b)+"</span>");return S(a)};function qhh(a){a=a||{};var b=a.Ri,c=a.dC;a=a.uS;return S('<div class="'+T("goog-inline-block")+" "+T("goog-menu-button")+" "+T("docos-docomenu-dropdown")+'">'+(b?R(Wdh({Ri:""+b,dC:""+c,uS:a})):"")+"</div>")};function rhh(a,b){a=a||{};var c=S;if(a.Lk){a=a||{};var d=a.author,e=a.ah,f=a.qF,h=a.Coa,k=a.Ee,l=a.Om,n=a.jA,q=a.Uj,r=a.hx,w=a.o8,x=a.mK,F=a.YY,M=a.vj,X=a.Jga,U=a.Uwa,ca=a.isBadgingEnabled,ma=a.timestamp,va=a.Oeb,xa=a.Bo;d='<div class="'+T("docos-anchoredreplyview")+(k?" "+T(k):"")+(q?" "+T("docos-replyview-suggest"):" "+T("docos-replyview-comment"))+'"><div class="'+T("docos-anchoredreplyview-header")+'"><div class="'+T("docos-anchoredreplyview-avatar-holder")+'">'+R(Xdh({size:32,Seb:va,Ypa:f?""+
f:"",S2:Zw(d)&&!e?""+d:"",Ee:"docos-replyview-avatar docos-anchoredreplyview-avatar"}))+(n?'<div class="'+T("docos-user-presence")+'"></div>':"")+(ca?'<span class="'+T("docos-new-tag")+'" style="display:none"></span>':"")+'</div><div class="'+T("docos-anchoredreplyview-authortimestamp")+'"><div class="'+T("docos-anchoredreplyview-author")+" "+T("docos-author")+'"'+(f?' data-hovercard-id="'+T(f)+'"':"")+(Zw(d)&&!e?' data-name="'+T(d)+'"':"")+">"+(d?R(d):"")+'</div><div class="'+T("docos-anchoredreplyview-timestamp")+
" "+T("docos-replyview-timestamp")+'">'+(ma?R(ma):"")+'</div></div><div class="'+T("docos-anchoredreplyview-buttonholder")+" "+T("hide-on-readonly")+'">';Zw(q)&&Zw(n)?(x=x={Bo:xa},x=S(shh({cd:"docos-accept-suggestion jfk-button-collapse-right",Bo:x.Bo},b)),xa=xa={vj:M,Bo:xa},M=xa.vj,xa=xa.Bo,b=""+R(Tz({title:"Reject suggestion",style:xa?4:0,cd:"docos-reject-suggestion jfk-button-collapse-left",content:$w(""+(xa?S('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>'):
R(Wdh({Ri:"docos-icon-reject-suggestion-cross",dC:"docos-icon-reject-suggestion-cross-size",Ee:"jfk-button-img"})))),cK:M},b)),b=S(b),b=x+b):r?b="":(M=n?X?S(shh({cd:"docos-replyview-resolve-button-plus-one docos-replyview-resolve-button jfk-button-collapse-right"},b)):S(R(Tz({cd:"docos-replyview-resolve-button-original docos-replyview-resolve-button"},b))):"",!Zw(X)||!Zw(F)&&x?b="":U?(X=(X=a)||{},xa=X.jA,x=X.YY,X=X.vj,U=R(Wdh({Ri:"docos-icon-thumb-black",dC:"docos-icon-thumb-size",Ee:"jfk-button-img",
uS:!0}))+'<div class="'+T("like-button-text")+'">',U+="0</div>",b=""+R(Tz({cd:"docos-like-button "+(Zw(xa)&&!x?"jfk-button-collapse-left":""),title:"Like this",content:$w(U),cK:X},b)),b=S(b),b=R(b)):(X=(X=a)||{},xa=X.jA,x=X.YY,X=X.vj,U='<div class="'+T("vote-button-text")+'">',U+="+1</div>",b=""+R(Tz({cd:"docos-vote-button "+(Zw(xa)&&!x?"jfk-button-collapse-left":""),title:"+1 this comment",content:$w(U),cK:X},b)),b=S(b),b=R(b)),b=M+b+'<div class="'+T("docos-overflowmenu-outer")+'" style="visibility: hidden"></div>');
b=d+b+'</div></div><div class="'+T("docos-collapsible-replyview")+" "+(h?"":T("docos-collapsible-replyview-empty"))+'">'+(n||F?"":R(phh(Xw({w1:""},a))))+'<div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-replyview-body")+" "+T("docos-anchoredreplyview-body")+'">'+(h?R(h):"")+'</div><div class="'+T("docos-show-more")+'" role="button" tabindex="0">';b=b+'Show more</div><div class="'+(T("docos-show-less")+'" role="button" tabindex="0" style="display:none">');b+="Show less";var Ca;n?
Ca=R(phh(Xw({w1:"docos-root-reply-action-text-wrapper"},a))):F?Ca=R(phh(Xw({w1:"docos-action-text-bottom-wrapper"},a))):Ca="";b+="</div></div></div>"+(l?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+Ca+'<div class="'+T("docos-replyview-origin")+" "+T("docos-anchoredreplyview-origin")+'">'+(w?R(w):"")+"</div></div>";b=S(b)}else n=a||{},w=n.author,F=n.ah,h=n.qF,d=n.Coa,M=n.Ee,l=n.Poa,Ca=n.Om,xa=n.jA,a=n.o8,x=n.timestamp,X=n.isBadgingEnabled,U=n.Bo,n.hx?(l=(l=Xw({author:w,
qF:h,Ee:M,o8:a},n))||{},b=l.author,Ca=l.qF,a=l.Ee,l=l.o8,b=S('<div class="'+T("docos-streamrootreplyview")+(a?" "+T(a):"")+'"><div class="'+T("docos-streamdocoview-authorname")+" "+T("docos-author")+" "+T("goog-inline-block")+'"'+(Ca?' data-hovercard-id="'+T(Ca)+'"':"")+(b?' data-name="'+T(b)+'"':"")+">"+(b?R(b):"")+'</div><div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+'">'+(l?R(l):"")+"</div></div>")):xa?(Ca=(Ca=n)||{},M=Ca.author,xa=Ca.qF,a=Ca.Coa,x=Ca.Ee,l=Ca.Om,
n=Ca.kcc,w=Ca.exa,F=Ca.o8,h=Ca.mK,d=Ca.YY,X=Ca.timestamp,b='<div class="'+T("docos-streamrootreplyview")+(x?" "+T(x):"")+'"><div class="'+T("docos-streamdocoview-authorname")+" "+T("docos-author")+" "+T("goog-inline-block")+'"'+(xa?' data-hovercard-id="'+T(xa)+'"':"")+(M?' data-name="'+T(M)+'"':"")+">"+(M?R(M):"")+'</div><div class="'+T("goog-inline-block")+" "+T("docos-actionmenu-outer")+'">'+R(qhh(null,b))+'</div><div class="'+T("docos-streamdocoview-details")+" "+T("goog-inline-block")+'"><div class="'+
T("docos-streamdocoview-timestamp")+" "+T("docos-replyview-timestamp")+" "+T("goog-inline-block")+'">'+(X?R(X):"")+'</div><div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+" "+T("show-on-readonly")+'" aria-hidden="true">&bull;</div><div class="'+T("docos-streamdocoview-comments-off")+" "+T("goog-inline-block")+" "+T("show-on-readonly")+'">',b=b+'Comments off</div><div class="'+(T("docos-streamdocoview-reopen-control")+" "+T("goog-inline-block")+" "+T("hide-on-readonly")+'" style="display: none"><div class="'+
T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div><div class="'+T("docos-docoview-reopen")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="'),b+=bx("Mark as open and return discussion to the document view"),b+='">Re-open</div></div></div>',n&&(b+='<div class="'+T("docos-replyview-quote-caption")+'">',b=b+'Selected text:</div><div class="'+(T("docos-replyview-quote")+" "+T("docos-replyview-quote-collapsed")+'">'+R(n)+'<div class="'+T("docos-replyview-quote-collapse")+
" "+T("goog-inline-block")+'" style="display:none">'),b=b+'Collapse</div><div class="'+(T("docos-replyview-quote-expand")+'">'),b+="Show all</div></div>"),b+='<div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-streamdocoview-body")+" "+T("docos-replyview-body")+'">'+R(a)+"</div>"+(h?R(phh(Xw({w1:"docos-root-reply-action-text-wrapper"},Ca))):"")+'<div class="'+T("docos-streamdocoview-controls")+" "+T("hide-on-readonly")+'"><div class="'+T("docos-streamdocoview-comment-control")+" "+
T("goog-inline-block")+'"><div class="'+T("docos-docoview-comment")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=bx("Reply to this comment"),b+='">Reply</div></div>',w&&(b+='<div class="'+T("docos-streamdocoview-resolve-control")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>',d?(b+='<div class="'+T("docos-docoview-resolve")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',
b+=bx("Mark as done and then hide discussion"),b+='">Mark as done'):(b+='<div class="'+T("docos-docoview-resolve")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',b+=bx("Mark as resolved and hide discussion"),b+='">Resolve'),b+="</div></div>"),b+="</div></div>"+(l?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+'">'+(F?R(F):"")+"</div></div>",b=S(b)):(b='<div class="'+
T("docos-streamreplyview")+'">'+R(Xdh({size:U?32:24,Ypa:h?""+h:"",S2:Zw(w)&&!F?""+w:"",Ee:"docos-replyview-avatar docos-streamreplyview-avatar"}))+(Zw(X)&&!xa?'<span class="'+T("docos-new-tag")+'" style="display:none"></span>':"")+'<div class="'+T("docos-streamreplyview-content")+'"><div class="'+T("docos-streamreplyview-text")+" "+T("goog-inline-block")+'"><div class="'+T("docos-streamreplyview-author")+" "+T("docos-author")+" "+T("goog-inline-block")+'"'+(h?' data-hovercard-id="'+T(h)+'"':"")+(w?
' data-name="'+T(w)+'"':"")+">"+(w?R(w):"")+"</div>"+R(phh(n))+' <br><span class="'+T("docos-replyview-body")+" "+T("docos-streamreplyview-body")+" "+T("docos-replyview-static")+'">'+R(d)+'</span></div><div class="'+T("docos-replyview-static")+'"><div class="'+T("docos-streamreplyview-timestamp")+" "+T("docos-replyview-timestamp")+" "+T("goog-inline-block")+'">'+(x?R(x):"")+"</div>",Zw(l)||Zw(Ca)?(w=w={zcb:!0,Poa:l,Om:Ca},l=w.Poa,n=w.Om,w=w.zcb,F='<div class="'+T("docos-replyview-control")+" "+T("docos-replyview-static")+
" "+T("goog-inline-block")+" "+T("hide-on-readonly")+'">',n&&(F+=(w?'<div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+T("docos-replyview-edit")+" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',F+=bx("Make changes to your comment"),F+='">Edit</div>'),l&&(F+=(w?'<div class="'+T("docos-streamdocoview-bullet")+" "+T("goog-inline-block")+'" aria-hidden="true">&bull;</div>':"")+'<div class="'+T("docos-replyview-delete")+
" "+T("goog-inline-block")+'" role="button" tabindex="0" title="',F+=bx("Permanently delete your comment"),F+='">Delete</div>'),l=S(F+"</div>"),l=R(l)):l="",b=b+l+"</div>"+(Ca?'<div class="'+T("docos-edit-pane-placeholder")+'" style="display: none"></div>':"")+'<div class="'+T("docos-replyview-origin")+" "+T("docos-streamreplyview-origin")+'">'+(a?R(a):"")+"</div></div></div>"),b=S(b);return c(b)}
function thh(){return S('<div class="'+T("docos-showrepliesbutton")+'" style="display:none"><div class="'+T("docos-showrepliesbutton-collapsed")+'"></div></div>')}
function shh(a,b){a=a||{};var c=a.cd;a=a.Bo;var d=S,e;a?e=S('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>'):e=R(Wdh({Ri:"docos-icon-accept-checkmark-black",dC:"docos-icon-accept-checkmark-size",Ee:"jfk-button-img"}));return d(R(Tz({cd:c?""+c:"",style:a?4:0,content:$w(""+e)},b)))};function uhh(a,b){a=a||{};var c=a.oIa,d=a.cd,e=a.qLa;a=a.rLa;return S('<div class="'+T("goog-inline-block")+(d?" "+T(d):"")+'">'+R(iod({$l:c,cd:e},b))+(c?"<label"+(a?' class="'+T(a)+'"':"")+">"+R(c)+"</label>":"")+"</div>")};function vhh(a,b){a=a||{};var c=a.Ee,d=a.Oaa,e=a.Bgc,f=a.Uoa,h=a.sLa,k=a.mHa,l=a.vj,n=a.mK,q=a.eD,r=a.fH,w=a.gH,x=a.Dv;c='<div class="'+T("docos-input")+(c?" "+T(c):"")+'" style="display: none">'+(x?'<div class="'+T("docos-input-textarea")+" "+T("docos-input-contenteditable")+(h?" "+T(h):"")+'" contenteditable="true"></div>':'<textarea class="'+T("docos-input-textarea")+(h?" "+T(h):"")+'" autocomplete="input-area" x-webkit-speech speech></textarea>');r?(r=r={vj:l},r=r.vj,r=""+R(Tz({title:"Mention a person",
style:4,cd:"docos-at-mention-icon docs-material",content:$w('<div class="'+T("docs-icon")+" "+T("goog-inline-block")+'"><div class="'+T("docs-icon-img-container")+" "+T("docs-icon-img")+" "+T("docs-icon-at-mention-20")+'" aria-hidden="true">&nbsp;</div></div>'),tabIndex:0,cK:r},b)),r=S(r)):r="";a=c+r+(n?R(phh(Xw({w1:"docos-edit-pane-action-text-wrapper",cQb:!0},a))):"")+(e?'<div class="'+T("docos-input-sidearrow-outer")+'"></div><div class="'+T("docos-input-sidearrow-inner")+'"></div>':"")+'<div id="docos-input-assignment-panel" class="'+
T("docos-input-assignment-panel")+'" style="display: none">'+R(iod({cd:"docos-input-assignment-box"},b))+'<div class="'+T("docos-input-assignee-text")+'">'+R(k)+'</div><div class="'+T("docos-input-assignee-select")+'"></div></div>'+(q?'<div class="'+T("docos-input-static-message")+'">'+R(q)+"</div>":"")+'<div class="'+T("docos-input-at-reply-message")+'" style="display: none">';a=(w?a+"Your @mention will add people to this discussion and send an email.":a+"Your +mention will add people to this discussion and send an email.")+
('</div><div class="'+T("docos-input-acl-fixer-message")+'" style="display: none" aria-live="polite">');a=a+"Making sure that people you've mentioned have access\u2026</div><div class=\""+(T("docos-input-assignment-message")+'" style="display: none">');a=a+'The assigned person will be notified and responsible for marking as completed.</div><div class="'+(T("docos-input-assign-to-text")+'" style="display: none"></div><div class="'+T("docos-focusedpresenceindicator-container")+'"></div><div class="'+
T("docos-input-buttons")+'">'+R(Tz({style:2,cd:"docos-input-post docos-input-buttons-post"},b)));w="";w=f?w+(""+f):w+"Discard comment";f="";f=d?f+R(d):f+"Cancel";a+=R(Tz({cd:"docos-input-cancel",title:w,content:$w(f),cK:l},b));return S(a+"</div></div>")};function whh(a,b){a=a||{};var c=S;if(a.Lk){a=a||{};var d=a.author,e=a.hZ,f=a.YY,h=a.vj,k=a.Bo;if(a.hx){a=(a=Xw({author:d,vj:h},a))||{};d=a.author;e=a.vj;f=a.eD;h=a.fH;k=a.gH;var l=a.Dv;b=S('<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-anchoreddocoview-draft")+'">'+R(rhh(Xw({author:d,Lk:!0,jA:!0,Ee:"docos-replyview-first"},a),b))+"</div>"+R(vhh({Ee:"docos-anchoreddocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",vj:e,eD:f,fH:h,gH:k,Dv:l},b)))}else e?
(a=(a=Xw({vj:h,Bo:k},a))||{},d=a.Kcb,e=a.vj,f=a.Bo,h=a.Dv,k='<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-smarttodoview")+'"><div class="'+T("docos-smarttodoview-container")+'"><div class="'+T("docos-smarttodoview-header")+'"><table><tr><td class="'+T("docos-icon-explore-container")+'">'+R(Wdh({Ri:"docos-icon-explore",dC:"docos-icon-explore-size",uS:!0}))+'</td><td class="'+T("docos-smarttodoview-headertext")+'" role="heading"><div class="'+T("docos-smarttodoview-headertext-outer")+
'"><div class="'+T("docos-smarttodoview-headertext-inner")+'">',k=k+'Suggested action item</div></div></td><td><div class="'+(T("docos-overflowmenu-outer")+'">'+R(qhh({dC:"docos-icon-overflow-three-dots-size",Ri:"docos-icon-overflow-three-dots",uS:f},b))+'</div></td></tr></table></div><div class="'+T("docos-smarttodoview-body")+'"></div>'),k+=R(vhh({Ee:"docos-docoview-input-pane",Oaa:"Dismiss",Uoa:"Dismiss suggested action item",vj:e,Dv:h},b)),d&&(k+='<div class="'+T("docos-smarttodoview-showfeedbackdialog-container")+
'"><div class="'+T("docos-smarttodoview-showfeedbackdialog-button")+'" role="button" tabindex="0" aria-expanded="false">',k+="Bad suggestion?</div></div>"),e=k,d?(a=a||{},a=a.vj,d='<div class="'+T("docos-smarttodoview-feedback")+'" style="display: none"><div class="'+T("docos-smarttodoview-feedback-headertext")+'" role="heading">',d=d+"Tell us why you didn't like this</div><div class=\""+(T("docos-smarttodoview-feedback-checkboxlist")+'">'),d+=R(uhh({oIa:"Not an action item",cd:"docos-smarttodoview-feedback-checkbox-container",
qLa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-notactionitem",rLa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-notactionitem-label"},b)),d+=R(uhh({oIa:"Wrong assignee",cd:"docos-smarttodoview-feedback-checkbox-container",qLa:"docos-smarttodoview-feedback-checkbox docos-smarttodoview-feedback-wrongassignee",rLa:"docos-smarttodoview-feedback-text docos-smarttodoview-feedback-wrongassignee-label"},b)),d+='</div><div class="'+T("goog-inline-block")+" "+T("docos-smarttodoview-writefeedback-link")+
'" role="button" tabindex="0">',d=d+'Write feedback</div><div class="'+(T("docos-smarttodoview-feedback-buttonlist")+'">'),d+=R(Tz({style:2,cd:"docos-input-post docos-smarttodoview-feedback-submit",title:"Submit feedback",content:"Submit",cK:a},b)),d+=R(Tz({cd:"docos-input-cancel docos-smarttodoview-feedback-cancel",title:"Discard feedback",content:"Cancel",cK:a},b)),b=S(d+"</div></div>")):b="",b=S(e+("</div>"+b+"</div>")),b=R(b)):b=(f?'<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-anchoreddocoview-assigneecontainer")+
'"></div>':"")+'<div class="'+T("docos-anchoreddocoview-content")+" "+T("docos-docoview-replycontainer")+'"><div class="'+T("docos-docoview-rootreply")+'"></div></div><div class="'+T("docos-input-pane-placeholder")+'" style="display: none"></div><div class="'+T("docos-unfocusedpresenceindicator-container")+'"></div>';b=S('<div class="'+T("docos-docoview-tesla-conflict")+'" role="dialog"><div class="'+T("docos-anchoreddocoview-internal")+'">'+b+"</div></div>")}else{e=a||{};f=e.author;d=e.ah;var n=
e.qF;h=e.Bo;k=e.vj;l=e.hx;var q=e.eH;a=S;d='<div class="'+T("docos-docoview-tesla-conflict")+'">'+R(Xdh({size:h?32:48,Ypa:n?""+n:"",S2:Zw(f)&&!d?""+f:"",Ee:"docos-streamdocoview-avatar"}))+(Zw(q)&&!l?'<span class="'+T("docos-root-new-tag")+'" style="display:none"></span>':"")+'<div class="'+T("docos-streamdocoview-content")+'">';l?(e=(e=Xw({author:f,vj:k},e))||{},f=e.author,h=e.vj,k=e.eD,l=e.fH,n=e.gH,q=e.Dv,b=S('<div class="'+T("docos-streampane-draft")+'">'+R(rhh(Xw({author:f,Lk:!1,jA:!0,hx:!0,
Ee:"docos-replyview-first"},e),b))+"</div>"+R(vhh({Ee:"docos-streamdocoview-input-pane docos-draftdiscussionview-input-pane docos-docoview-input-pane",vj:h,eD:k,fH:l,gH:n,Dv:q},b)))):b='<div class="'+T("docos-docoview-rootreply")+'"></div><div class="'+T("docos-streamdocoview-replycontainer")+" "+T("docos-docoview-replycontainer")+'"></div><div class="'+T("docos-streamdocoview-inputcontainer")+" "+T("hide-on-readonly")+'">'+R(Xdh({size:h?32:24,Ee:"docos-streamreplyview-avatar"}))+'<div class="'+T("docos-input-pane-placeholder")+
'" style="display: none"></div></div>';b=a(d+b+"</div></div>")}return c(b)};function t5(){this.C=y()}function xhh(a){return"PLACEHOLDER_TEXT"===Wc(a.C,"docs-edpme")}function yhh(a){return"PLUS_MENTION_ICON"===Wc(a.C,"docs-edpme")};function zhh(a,b){Ho.call(this,a);this.bk=b}t(zhh,Ho);function O5(a){zhh.call(this,"rd",a)}t(O5,zhh);function P5(a,b,c,d,e){I4.call(this,a,d);this.R=a;this.fb=c;this.jb=[];this.O=null;this.Sa=new nhh(this.R,b,this.Lk());this.Hc(b);this.Qa=null;this.Pd=e;this.ub=this.xa=null;this.Gd=!0;this.Dc=!1}t(P5,I4);m=P5.prototype;m.fB=ba();m.Hc=function(a){I4.prototype.Hc.call(this,a);this.Sa.D=a};m.getContext=g("R");m.fd=function(){return N4(this.R).fd(this.getId())||null};m.ql=function(){var a=this.getId();return Ahh(this.Pd,a)};m.QS=ea(null);m.nya=ea(!1);
m.Ca=function(){var a=this.fd(),b=a.jx();a=L4(a);var c="Unknown"===b.getName();c=fy(whh,{author:b.getName(),ah:b.C,qF:this.C.V&&!c?b.getId():null,Lk:this.Lk(),YY:!!a,vj:this.C.vj(),Bo:"legacy"!=this.C.F,eH:this.C.eH(),fH:yhh(new t5),gH:Tfh(this.C),Dv:$4(this.C)});this.Lk()||Qfh(this.C)||vx(c,"docos-streampanemargin-legacy");this.pb(c);this.Ce(b,a||void 0)};
m.Ce=function(a,b){b=b?beh(b,this.C):void 0;a=a.getName();var c=Wd(this.fd().D),d=this.fd().isResolved()?"Resolved":"Open";b=a&&b?(new JA("{numReplies,plural, =1{Comments dialogue. {state} comment. Author {author}. Assignee {assignee}. 1 reply.}other{Comments dialogue. {state} comment. Author {author}. Assignee {assignee}. {numReplies} replies.}}")).format({state:d,author:a,assignee:b,numReplies:c}):a?(new JA("{numReplies,plural, =1{Comments dialogue. {state} comment. Author {author}. 1 reply.}other{Comments dialogue. {state} comment. Author {author}. {numReplies} replies.}}")).format({state:d,
author:a,numReplies:c}):(new JA("{numReplies,plural, =1{Comments dialogue. {state} comment. 1 reply.}other{Comments dialogue. {state} comment. {numReplies} replies.}}")).format({state:d,numReplies:c});rx(this.getElement(),b)};m.Ia=function(){I4.prototype.Ia.call(this);K4(K4(this,this.getElement(),["click","keypress","keyup"],this.MSb),this.getElement(),["mouseenter","mouseleave","mousemove"],this.I9b);Dp(this.getElement(),!0)};m.xd=function(){I4.prototype.xd.call(this);ohh(this.Sa,!1)};m.Laa=ea(!1);
m.oBa=ba();m.Cha=function(){if("legacy"==this.C.F&&this.Lk()&&(!this.xa||!this.ub)){var a=this.oa(),b=this.getElement(),c=a.createElement("DIV");vx(c,"docos-anchoreddocoview-arrow-inner");this.xa=c;c=a.createElement("DIV");vx(c,"docos-anchoreddocoview-arrow-outer");this.ub=c;a.zt(b,this.xa,0);a.zt(b,this.ub,0)}};m.Vc=function(){if(!this.O||0==this.O.height||0==this.O.width){var a=this.Gd;a||this.setVisible(!0);this.O=new dn(this.getElement().offsetWidth,this.getElement().offsetHeight);a||this.setVisible(!1)}return this.O.clone()};
m.getHeight=function(){this.O||this.Vc();return this.O.height};m.MSb=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&this.pWa(a);32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};m.I9b=function(a){var b=this.Sa;"mousemove"==a.type&&b.F?(b.H=a.clientX,b.J=a.clientY):"mouseenter"!=a.type&&"mouseleave"!=a.type||ohh(b,"mouseenter"==a.type);a.stopPropagation()};m.GZ=function(a){this.resize();a.stopPropagation()};
m.resize=function(){this.O=null;this.dispatchEvent(new O5(this.getId()))};m.setVisible=function(a){this.Gd=a;P(this.getElement(),a)};m.isVisible=g("Gd");m.N5a=ba();
function Bhh(a){var b=["docos-docoview-tesla-conflict"],c=[];Chh(a,"docos-anchoreddocoview",a.Lk(),b,c);Chh(a,"docos-streamdocoview",!a.Lk(),b,c);Chh(a,"docos-docoview-active",a.ql(),b,c);Qfh(a.C)&&Chh(a,"docos-docoview-active-experiment",a.ql(),b,c);var d=a.fd();Chh(a,"docos-docoview-resolved",!!d&&d.isResolved(),b,c);if(0<b.length||0<c.length)wx(a.getElement(),b),yx(a.getElement(),c),a.jb=sx(a.getElement())}function Chh(a,b,c,d,e){c&&!kd(a.jb,b)?d.push(b):!c&&kd(a.jb,b)&&e.push(b)}m.lU=da("Qa");
function Dhh(a){return a.Qa?a.Qa:a.C.rq}m.getDocoMaxHeight=g("Qa");m.Ka=function(){I4.prototype.Ka.call(this);delete this.R};function Ehh(a,b){this.C=a;this.gb=b}
function Fhh(a,b,c){var d=b.getEmail(),e=b.getName(),f='<div class="'+T("docos-contact-row")+'" title="';f+=bx("Contact information.");f+='">'+R(Xdh({size:32,Ee:"docos-contact-row-avatar"}))+'<div class="'+T("docos-contact-row-name")+'">'+(e?R(e):R(d))+"</div>"+(e?'<div class="'+T("docos-contact-row-email")+'">'+R(d)+"</div>":"")+"</div>";d=S(f);d=Vw(d);We(c,d);d=b.getEmail();d=Ld(sf(b.getName()))?d:b.getName()+" "+d;rx(c,d);c=pV(a.gb,"IMG","docos-contact-row-avatar",c);O4(a.C,c);fhh(a.C,c,b.D,H4(b));
return c};function Ghh(a,b,c,d){d=void 0===d?null:d;zz.call(this,void 0,void 0,void 0,a);this.J=null;this.R=new Ehh(M4(c),a);this.H=b;this.L=c;this.C=d;this.O=!(this.C&&this.C.Lk());this.D=null}t(Ghh,zz);m=Ghh.prototype;m.Ia=function(){zz.prototype.Ia.call(this);this.D=fp("goog-menu-button-dropdown",this.getElement());this.getHandler().listen(this.getElement(),["click","keypress","keyup"],this.hTb).listen(this.getElement(),"focus",this.Ry).listen(this.getElement(),["mousedown","blur"],this.r1a)};
m.hTb=function(a){this.C&&this.C.fd()==N4(this.L).R||(this.zd(!this.qf()),this.r1a());a.stopPropagation()};m.Ry=function(){vx(this.D,"docos-assignee-select-focus")};m.r1a=function(){xx(this.D,"docos-assignee-select-focus")};m.Ze=function(a){return this.Bb()&&2>this.Bb().mc()?!1:zz.prototype.Ze.call(this,a)};m.Yf=function(a){this.C&&this.C.fd()==N4(this.L).R&&(this.Bb()&&2>this.Nh()||zz.prototype.Yf.call(this,a))};function Hhh(a){return(a=a.uf())?a.Vg():null}
m.He=function(a){zz.prototype.He.call(this,a);var b=a.getElement();b&&(vx(b,"docos-assignee-select-menu"),"legacy"!=this.H.F&&vx(b,"docs-gm"),this.O&&a.render(this.H.O))};m.zm=function(){var a=this.Bb().getElement();gw(a,"width",this.J.offsetWidth+"px");zz.prototype.zm.call(this);var b=parseInt(j9a(a,"top"),10)||0,c=mw(this.J).x;this.O?(c-=mw(this.H.O).x,b+=-2):b+=-1;jw(a,c,b)};function Ihh(a){var b=new om;if(!a.Bb())return b;a.Bb().Ye(function(c){b.add(c.Vg())});return b}
m.update=function(a,b){if(!Ihh(this).equals(new om(a))||Hhh(this)!=b){for(var c=new jz(this.oa()),d,e=0;e<a.length;e++){var f=a[e],h=new Jhh(f,this.R,this.oa());f.equals(b)&&(d=h);c.Ga(h,!0)}this.He(c);Bz(this,d);P(this.getElement(),1<this.Nh())}};m.reset=function(){this.Bb().ud();Bz(this,null)};function Jhh(a,b,c){var d=c.createElement("div");ez.call(this,d,void 0,c);this.D=a;this.C=b;this.F=Fhh(this.C,this.D,d)}t(Jhh,ez);m=Jhh.prototype;
m.Ca=function(){ez.prototype.Ca.call(this);vx(this.getElement(),"docos-assignee-select-item")};m.Ia=function(){ez.prototype.Ia.call(this);this.getHandler().listen(this.getElement(),"click",this.gTb)};m.Vg=g("D");m.Ug=ea("");m.gTb=function(a){a.stopPropagation()};m.Ka=function(){ez.prototype.Ka.call(this);var a=this.F;a&&O4(this.C.C,a)};function Khh(){Lhh(this)}t(Khh,Ua);m=Khh.prototype;m.ox=function(a){ic(a);mda(this.D.add(a),a);this.C=null;return a};m.IA=function(a){kda(this.D.remove(a),"Trying to remove inexistant Observer %s.",a);this.C=null};m.wY=function(a){return this.D.contains(a)};m.cleanup=function(){this.D.clear();this.C=null};m.iterator=function(){if(!this.C){var a=new Jch,b=this.D;a.C=[];b=b.Pf();Rbh(b,a.C,0,b.length);this.C=a}return this.C.ij()};m.ij=function(){return this.iterator()};
function Lhh(a){var b=new Uch,c=new Hch;qch(c);b.C=c;a.D=b;a.C=null};function Mhh(a){Lhh(this);this.F=a}t(Mhh,Khh);Mhh.prototype.set=function(a){this.F=a;for(a=this.iterator();a.C();){var b=a.D();Nhh(b,this.F)}};Mhh.prototype.get=g("F");function Ohh(a,b,c){return new Phh(a,b,c)}function Phh(a,b,c){this.C=Qhh(a,b);this.Rd=c;this.F=!1;this.D=-1;Rhh(this,0)}Phh.prototype.v6=g("F");Phh.prototype.close=function(){this.C.forEach(function(a){return a.cleanup()});this.D=-1;this.F=!0};
function Qhh(a,b){for(var c=[],d={},e=0;e<b.length;d={dV:d.dV,u$:d.u$},e++){d.u$=b[e];var f=d;var h=new Mhh(null);f.dV=h;d.u$.H(a.token,a.Qaa,a.C,function(k){return function(l,n,q,r,w){r=void 0===r?!0:r;w=void 0===w?!1:w;0<l.length?k.dV.set(new Shh(l,n,r,k.u$.getType(),w,q)):r&&k.dV.set(Thh())}}(d))||d.dV.set(Thh());c.push(d.dV)}return c}function Rhh(a,b){a.F||(b>=a.C.length?(a.Rd(Thh()),a.close()):(a.D=b,a.C[b].ox(a),b=a.C[b].get(),null!==b&&Nhh(a,b)))}
function Nhh(a,b){b.isEmpty()?(a.C[a.D].IA(a),Rhh(a,a.D+1)):(a.Rd(b),b.complete&&a.close())}function Uhh(a,b,c){this.token=a;this.Qaa=b;this.C=c}function Shh(a,b,c,d,e,f){this.rows=a;this.C=b;this.complete=c;this.type=d;this.F=e;this.D=void 0===f?null:f}Shh.prototype.isEmpty=function(){return 0===this.rows.length&&this.complete};function Thh(){return new Shh([],new lEd(!1),!0,0,!1,void 0)};function Vhh(a,b,c,d,e,f,h){this.startTime=a;this.J=b;this.H=c;this.C=d;this.D=e;this.F=f;this.L=h};function Whh(a){this.pbc=a}t(Whh,Mhb);function Xhh(a){this.C=a};function Yhh(){this.className="docos-ac-highlighted"}Yhh.prototype.Uva=function(a,b,c){Ld(b)||c.C&&/^\W/.test(b)?c=null:(b=pf(b),c=c.C?new RegExp("\\b(?:"+b+")","gi"):new RegExp(b,"gi"));c&&this.Ay(a,c)};
Yhh.prototype.Ay=function(a,b){if(3!==a.nodeType)for(a=a.firstChild;a;){var c=a.nextSibling;this.Ay(a,b);a=c}else{var d=a.nodeValue;c=[];for(var e=0,f=0,h;h=b.exec(d);)e++,c.push(d.substring(f,h.index)),c.push(d.substring(h.index,b.lastIndex)),f=b.lastIndex;c.push(d.substring(f));b=Yo(a);for(d=0;d<e;d++)f=2*d,a.nodeValue=c[f],f=c[f+1],h=b.createElement("B"),h.className=this.className,b.appendChild(h,Mp(b,f)),f=h,h=Mp(b,""),b.ax(f,a),b.ax(h,f),a=h;a.nodeValue=c.slice(2*e).join("")}};function Zhh(a,b,c,d,e,f,h,k,l){var n=this;l=void 0===l?5E3:l;TA.call(this,this,new $hh(h,f,k,this),new aih("\n",null,!0));this.Pna=!0;this.L.Eh=this;this.Ma=c.map(function(q){return new bih(n,q)});this.Sa=new Yhh;this.Ita(ap(b));this.ma=d?d:null;this.R=e||null;this.C=null;this.Ra=l;this.Ja=!1;this.Ba=null;this.Ea=!1}v(Zhh,TA);var cih=/[\n]$/;m=Zhh.prototype;
m.tJ=function(a,b,c){var d=this,e=Ra(),f=this.L.D;this.R&&this.R.fp("dacps",e-f);var h=!0;this.C&&(this.C.cancel(),this.C=null);if(a){var k=dih(this.L,a),l=eih(this,a,k);if(0===l.length)c(a,[]);else if(1===l.length){var n=l[0];n.H(a,k,b,function(q,r,w,x,F){w=void 0===w?null:w;x=void 0===x?!0:x;F=void 0===F?!1:F;d.isDisposed()||(w=new Whh(new Vhh(e,f,n.getType(),h,x,F,w)),w.$Aa=!h,w.Fea=r.qoa,c(a,q,w),h=!1)})}else b=Ohh(new Uhh(a,k,b),l,function(q){if(!d.isDisposed()){var r=new Whh(new Vhh(e,f,q.type,
h,q.complete,q.F,q.D));r.$Aa=!h;q.C&&(r.Fea=q.C.qoa);c(a,q.rows,r);h=!1}}),this.C=new fih(b,this.Ra)}else c(a,[])};function eih(a,b,c){return a.Ma.filter(function(d){return d.F(b,c)})}
m.wx=function(a,b){b||(b=new Mhb);Zhh.Ya.wx.call(this,a,b);if(b instanceof Whh){this.Ba=b.pbc;var c=gih(this,this.Ba,a.length,!1);b=this.Ba;var d=c,e=Ra()-b.startTime,f=Ra()-b.J;this.R&&(b.C&&(this.R.fp("dac",e,d.sb()),this.R.fp("dact",f,d.sb())),b.D&&(this.R.fp("dacfr",e,d.sb()),this.R.fp("dacfrt",f,d.sb())))}else this.Ba=null;if(this.ma){b=this.ma;d=a.length;a=this.Ea?5:0<a.length?a[0].getType():null;if(!b.C&&0<d&&a){var h=(h=hih[a])&&h.m0;b.C=a}else b.C&&0==d&&(h=(h=hih[b.C])&&h.z0,b.C=null);h&&
iih(b,h,c)}};function gih(a,b,c,d){var e=new YSd;e=L(e,1,c).setType(jih(b.H));e=L(e,3,b.F);c=L(e,4,b.F?b.C&&(b.D||0<c)?2:3:1);d&&(L(c,5,UA(a,a.J)),L(c,6,b.L));return Kch(c)}function jih(a){switch(a){case 0:return 1;case 1:return 2;case 2:return 3;case 3:return 4;case 4:return 5;case 5:return 8;default:return 0}}m.Or=function(a,b,c){c&&(a.data.render(c),c.id=a.data.getId(),a.data.fR()&&this.Sa.Uva(c,a.data.fR().D,new Xhh(a.data.fR().C)))};
m.YB=function(){var a=Shb(this)?this.F[UA(this,this.J)]:null,b;this.Ba&&(b=gih(this,this.Ba,this.F.length,!0));if(a&&this.ma){var c=this.ma;(a=hih[a.getType()])&&iih(c,a.Y_,b);c.C=null}this.Ja=!0;return Zhh.Ya.YB.call(this)};m.wh=function(){this.Ea=!1;if(!this.Ja&&this.getToken()&&0<this.F.length&&this.ma){var a=this.ma,b=a.C&&hih[a.C];b&&iih(a,b.wW);a.C=null}this.Ja=!1;Zhh.Ya.wh.call(this)};function kih(a){return Shb(a)?a.F[UA(a,a.J)].getId():null}
m.Ka=function(){Zhh.Ya.Ka.call(this);Uf(this.Ma);this.C&&(this.C.cancel(),this.C=null)};function aih(a,b,c,d){WA.call(this,a,b,c,d);this.D=0;this.i6a=this.u2a=this.v2a=!1;this.R=this.V=null}v(aih,WA);aih.prototype.Yf=function(){this.Eh.qf()&&this.Eh.wh()};aih.prototype.Pg=function(a){this.D=Ra();return(37===a.keyCode||39===a.keyCode)&&this.Eh.qf()||38===a.keyCode&&this.Eh.qf()&&-1===this.Eh.J?(this.Eh.wh(),!0):aih.Ya.Pg.call(this,a)};
aih.prototype.DF=function(a,b){var c=null;if(a){c=a.EX();var d=lih(this,a.getToken());c={start:c.ll()+d,end:c.Lw()+d}}b=aih.Ya.DF.call(this,a,b);if(a){d=c.end;var e=this.Zl;e&&(VA(e,c.start),Yhb(e,d));a.b8()}return b};function lih(a,b){var c=a.Ro();a=a.getValue().slice(0,c+b.length).lastIndexOf(b);return 0<=a?a:c}function dih(a,b){return a.Ro()-lih(a,b)}function bih(a,b){this.C=a;this.D=b}
bih.prototype.H=function(a,b,c,d){var e=this,f=a.replace(cih,"");return this.D.H(f,b,c,function(h,k,l,n,q){d(h.map(function(r){return new mih(e.C,r,a)}),k,l,n,q)})};bih.prototype.getType=function(){return this.C.Ea?5:this.D.getType()};bih.prototype.F=function(a,b){return this.D.F?this.D.F(a,b):!0};function mih(a,b,c){this.F=a;this.C=b;this.D=c}m=mih.prototype;m.getId=function(){return this.C.getId()};m.getType=function(){return this.F.Ea?5:this.C.getType()};m.fR=function(){return this.C.fR()};
m.EX=function(){return this.C.EX()};m.render=function(a){this.C.render(a)};m.b8=function(){this.C.b8()};m.getToken=g("D");m.toString=function(){var a=cih.test(this.D)?"\n"[0]:"";return this.EX().C+a};function fih(a,b){var c=this;this.D=a;this.C=cq(function(){c.C=null;c.D.close()},b)}fih.prototype.cancel=function(){null!==this.C&&(dq(this.C),this.C=null);this.D.close()};
function $hh(a,b,c,d){hB.call(this,b,d);this.Ma=!!c;this.V=!0;this.xEa=!1;this.O=!0;this.className="docos-ac";a&&(this.R=a)&&(this.Qa=a)}v($hh,hB);$hh.prototype.Wc=function(){$hh.Ya.Wc.call(this);rx(this.getElement(),"Showing contact suggestions");if(!this.F){var a=kw(this.getElement()),b=this.Ma?-2:-1;jw(this.getElement(),a.x,a.y+b)}};function nih(a){this.C=null;this.D=a}function iih(a,b,c){if(c){var d=new vk;ak(d,11,c)}a.D&&a.D(b,void 0,d)}var oih={},hih=(oih[1]={m0:43002,z0:43004,wW:43006,Y_:43E3},oih[2]={m0:43003,z0:43005,wW:43007,Y_:43001},oih[3]={m0:43068,z0:43069,wW:43066,Y_:43067},oih[4]={m0:43072,z0:43073,wW:43070,Y_:43071},oih[5]={m0:43088,z0:43090,wW:43091,Y_:43089},oih[6]={m0:43098,z0:43100,wW:43097,Y_:43099},oih);function pih(a,b,c,d){Uo.call(this);this.C=a;this.H=b;this.D=c;this.J=d||0;a.removeAttribute("maxlength");this.F=new lB(a);No(this.F,"input",this.L,!1,this);qih(this)}v(pih,Uo);pih.prototype.L=function(){qih(this)};function qih(a){var b=a.C.value.length;if(b>a.D){var c=a.C.scrollTop,d=a.C.scrollLeft;a.C.value=a.C.value.substring(0,a.D);b=a.D;a.C.scrollTop=c;a.C.scrollLeft=d}a.H&&Cp(a.H,String(1==a.J?b:a.D-b))}pih.prototype.Ka=function(){pih.Ya.Ka.call(this);delete this.C;this.F.dispose();this.F=null};function rih(a,b){return sih(a,b,!1)}function tih(a,b){return sih(a,b,!0)}function sih(a,b,c){var d=[];if(!a||b.charAt(0).toUpperCase()!==b.charAt(0))return d;for(var e,f=0;f<a.length;f++){e=a[f];var h;if(h=e){var k=e;h=k.getName();k=k.getEmail();h=!(null==h||null==k||0>h.indexOf("-")?0:k.split("@")[0]==h)}if(h)a:{h=b;k=c;for(var l=e.getName().split(/\s+/),n,q=0;q<l.length;q++)if(n=l[q],n=k?Id(n,h):Kd(n,h)){h=!0;break a}h=!1}h&&d.push(e)}return d};function uih(a,b,c,d,e,f,h){b.getEmail();this.Bc=a;this.D=b;this.dd=c;this.L=d;this.H=e;this.J=f;this.C=null;this.F=h}v(uih,A);m=uih.prototype;m.Vg=g("D");m.getId=g("dd");m.getType=g("L");m.fR=g("H");m.EX=g("J");m.render=function(a){this.C=Fhh(this.Bc,this.D,a)};m.b8=ba();m.Ka=function(){var a=this.C;a&&O4(this.Bc.C,a)};function vih(a,b,c){this.D=a;this.C=b;wih(this.C);this.F=c}function xih(a,b){for(var c=0,d=b-1;0<=d;d--)if(yih.has(a[d])){c=d+1;break}for(d=a.length;b<a.length;b++)if(yih.has(a[b])){d=b;break}return{text:a.slice(c,d),aw:c,iH:d}}function zih(a,b){for(var c=0,d=b-1;0<=d;d--)if(Aih.has(a[d])&&(0==d||yih.has(a[d-1]))){c=d;break}for(d=a.length;b<a.length;b++)if(yih.has(a[b])){d=b;break}return{text:a.slice(c,d),aw:c,iH:d}}
function Bih(a,b,c,d,e,f,h,k,l){return a.C.Ko(d,f,function(n,q){n=n.map(function(r){var w;if(w=r)r.getEmail()?(w=null,PX(Xch(r))?w=(new XX(Xch(r))).setSize(96).mB():w=Xch(r)||null,w=Teh(Qeh(Seh(new V4,r.getEmail()).Xc(r.getName()),w).Hc(""))):w=null;return{Zdb:r,qD:w}}).filter(function(r){return r.qD}).map(function(r,w){var x=r.qD;w=h+w;r=r.Zdb.getType();var F=new cS(d,!0),M=c;x.getName()&&(M=Cih(x.getName(),b,M));var X=(Tfh(a.D)?"@":"+")+x.getEmail(),U=yih.has(b[M.iH]);return new uih(a.F,x,w,k,F,
new dS(b.slice(0,M.aw)+X+(U?"":" ")+b.slice(M.iH),M.aw+X.length+1,M.aw+X.length+1),r)});l(n,!q.zk(),a.C.C)},e)}
function Cih(a,b,c){if(0>a.indexOf(c.text))return c;var d=a.split(Dih).filter(function(l){return!!l}),e=b.slice(0,c.iH).split(Dih);a=d.join(" ");for(var f=e.length,h=0;0<f&&h<d.length;){for(var k=f-1;0<k&&!e[k];)k--;if(!e[k])break;h++;f=k}for(;f<e.length;){if(e[f]&&(d=e.slice(f),h=d.filter(function(l){return!!l}).join(" "),a.startsWith(h)))return a=d.reduce(function(l,n){return l+n.length},0)+d.length-1,a=c.iH-a,{text:b.slice(a,c.iH),aw:a,iH:c.iH};f++}return c}
var yih=new Set([" ","\t","\n"]),Aih=new Set(["@","+"]),Dih=/[ ]/;var Eih="-- about above after again against all also always am an and announce another any are aren't as ask at back be because been before being between both bugs but by call came can can't cannot cause com come core could couldn't did didn't discuss do does doesn't doing don't down during each eng especially even ever every few find for from get go goes got group had hadn't has hasn't have haven't having he he'd he'll he's her here here's hers herself him himself his how how's however i'd i'll i'm i've if in into is isn't it it'd it'll it's its itself just know last let let's lgtm like look made make makes many may me might most much must my myself near need never next no nor not now of off often on once one only or other our ours ourselves out over own part place put said same saw say says see seem seen set shall she she'd she'll she's should should shouldn't show side since so some still such take team tell than that that's the their theirs them themselves then there there's these they they'd they'll they're they've thing things this those though three through time to too try trying under until upon us use users using very want was wasn't way we we we'd we'll we're we've well went were weren't what what's when when's where where's whether which while who who'll who's who've whom why why's will with won't word would wouldn't www yet you you'd you'll you're you've your yours yourself yourselves &".split(" "),
Fih=new om(["everybody","nobody"]);function Gih(a,b){this.J=b;this.D=a?/(^\S*@\S*)|(\S{5,})|(\S{2,4})/:/(^\S*@\S*)/;this.C=null}v(Gih,A);Gih.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=xih(a,b);var f=Hih(this,b.text);a=Bih(this.J,a,b,f.query,f.filter,c,"doco-contact-instant-mention-row-",2,function(h,k,l){k&&(e.C=null);h=h.filter(function(n){return"ct"==n.F});d(h,Iih,f.query.length,k,l)});this.C=a.zk()?a:null;return!0};
Gih.prototype.F=function(a,b){a=xih(a,b);return!this.D.test(a.text)||a.text.startsWith("@")||a.text.startsWith("+")||kd(Eih,a.text.trim().toLowerCase())||Fih.contains(a.text.trim().toLowerCase())?!1:!0};function Hih(a,b){a=b.match(a.D);return null===a?null:null!=a[1]?{query:a[1],filter:se}:null!=a[2]?{query:a[2],filter:tih}:null!=a[3]?{query:a[3],filter:rih}:null}Gih.prototype.getType=ea(2);Gih.prototype.Ka=function(){delete this.C};var Iih=new lEd(!1);function Jih(a){A.call(this);this.L=a;this.J=/^(?:[@]|[+](?!1))((?:\S* ?)*)/;this.C=null;this.D=0}t(Jih,A);Jih.prototype.H=function(a,b,c,d){var e=this;this.C&&(this.C.cancel(),this.C=null);if(!this.F(a,b))return!1;b=zih(a,b);var f=Kih(this,b.text);a=Bih(this.L,a,b,f.query,f.filter,c,"doco-contact-plus-mention-row-",this.getType(),function(h,k,l){k&&(e.C=null);d(h,Lih,f.query.length,k,l)});this.C=a.zk()?a:null;return!0};
Jih.prototype.F=function(a,b){a=zih(a,b);"@"==a.text.charAt(0)?this.D=6:"+"==a.text.charAt(0)&&(this.D=1);return this.J.test(a.text)};function Kih(a,b){a=b.match(a.J);return null===a?null:null!=a[1]?{query:a[1],filter:se}:null}Jih.prototype.getType=g("D");Jih.prototype.Ka=function(){delete this.C};var Lih=new lEd(!0);function Mih(a){var b=[];for(a=a.firstChild;a;){switch(a.nodeType){case 3:b.push(Ep(a));break;case 1:b=b.concat(Nih(a));break;default:throw Error("Unexpected NodeType in inputpane: "+a.nodeType);}a=a.nextSibling}return b}function Nih(a){var b=[];switch(a.tagName){case "BR".toString():a.previousSibling&&3===a.previousSibling.nodeType||b.push("");break;case "P".toString():case "DIV".toString():b=b.concat(Mih(a));break;default:throw Error("Unexpected TagName in inputpane: "+a.tagName);}return b}
function Oih(a){a=a.split("\n");for(var b=[],c=0;c<a.length;c++){var d=a[c];b.push(0===c?d:Qe("DIV",null,d||Ve))}return Re(b)};function Pih(a){var b=Pa(a).toString();VO.call(this,b,void 0);this.D=a;this.D.id=this.id;this.ob=new lL(new mL)}t(Pih,APc);function Qih(a){var b=a.ob;if(a.queryCommandValue("usinglorem"))a="\u00a0";else if(a.Nf()){var c=a.getElement(),d=c.cloneNode(!1);c=c.innerHTML;Af&&c.match(/^\s*<script/i)&&(c="\u00a0"+c);d.innerHTML=c;a.wUa(11,d);a=a.cka(10,d.innerHTML)}else a=a.D.innerHTML;b.D=bnc(b);b=Gmc.prototype.L.call(b,a);return Mih(b).join("\n")}
Pih.prototype.HS=function(a,b,c){APc.prototype.HS.call(this,a,b,c);this.dispatchEvent("dom_manipulated")};function Rih(a){TO.call(this);this.D=a;this.Oa=new Vo(this);this.C=null}t(Rih,TO);Rih.prototype.JL=ea("MaxCharacterPlugin");Rih.prototype.H8=function(a){var b=this;TO.prototype.H8.call(this,a);this.Oa.Nc(a,"load",function(){b.C=new lB(a.getElement());b.Oa.listen(b.C,"input",b.F).listen(a,"dom_manipulated",b.F)})};Rih.prototype.F=function(){var a=this.If,b=Qih(a);b.length>this.D&&(BZe(a,Oih(b.substring(0,this.D).trim())),DOc(a))};var Sih=/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig,Tih=/\B[@+][A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]+\b/ig;function Uih(a,b){a=b.match(a)||[];for(b=0;b<a.length;b++)a[b]=Md(a[b]).replace(/^\W+/,"").toLowerCase();return a};function Vih(a){this.C=new RK(void 0,!0);this.D=null;this.F=!1;this.H={};this.J=a.get("contactStore");wih(this.J)}function Wih(a,b){var c=Teh(Peh(Seh(new V4,b).Hc(""),!1));a.C.set(b,c);a.J.C&&(a.H.hasOwnProperty(b)&&(a.H[b].cancel(),delete a.H[b]),a.H[b]=a.J.Ko(b,1,u(a.L,a,b)))}Vih.prototype.L=function(a,b){if(null!==b&&0<b.length&&this.C.Wg(a)){b=b[0];var c=null;PX(Xch(b))?c=(new XX(Xch(b))).setSize(96).mB():c=Xch(b)||null;b=Teh(Qeh(Seh(new V4,a).Xc(b.getName()),c).Hc(""));this.C.set(a,b)}delete this.H[a]};
function Xih(a){return a.C.C.next.value||null}function Yih(a){return a.F?a.D:null};function Zih(){TO.call(this);this.Oa=new Vo(this)}t(Zih,TO);Zih.prototype.JL=ea("PastePlugin");Zih.prototype.H8=function(a){TO.prototype.H8.call(this,a);this.Oa.Nc(a,"load",this.D)};Zih.prototype.D=function(){this.Oa.listen(this.If.getElement(),"paste",this.C)};Zih.prototype.C=function(a){a.preventDefault();(a=a.re().clipboardData.getData("text/plain"))&&$ih(this,a)};
function $ih(a,b){var c=a.If;c.HS(function(){var d=qp(Oih(b)),e=ajh(a,d);c.getRange().qO(d);UM(e,e.nodeValue?e.nodeValue.length:0).select()})}function ajh(a,b){return b.hasChildNodes()?ajh(a,b.childNodes[b.childNodes.length-1]):b};function bjh(a,b,c){Ho.call(this,c)}t(bjh,Ho);function cjh(a){a=a.kPb;return S('<div class="'+T("docos-presenceindicator")+" "+T(a)+'">Someone is typing...</div>')};function djh(a,b,c){I4.call(this,a,b);this.D=c}t(djh,I4);djh.prototype.Ca=function(){this.pb(fy(cjh,{kPb:this.D}))};djh.prototype.Ia=function(){I4.prototype.Ia.call(this);this.setVisible(!1)};djh.prototype.setVisible=function(a){this.getElement().style.display=a?"":"none"};function ejh(){TO.apply(this,arguments)}t(ejh,TO);ejh.prototype.JL=ea("SuppressKeyboardShortcutPlugin");ejh.prototype.cRa=function(a){return fjh(a)};ejh.prototype.eRa=function(a){return fjh(a)};function fjh(a){return(a.ctrlKey||a.metaKey)&&gjh.has(a.keyCode)?(a.preventDefault(),!0):!1}var gjh=new Set([66,85,73]);function hjh(a,b,c,d){c=void 0===c?null:c;d=void 0===d?!1:d;I4.call(this,a,b);this.Va=a;this.ma=new Uz("",b);var e=this.C.vj();this.ma.mP=e;this.Ga(this.ma);this.V=new Uz("",b);this.Ga(this.V);this.Ba=b.Hb().body;this.F=c;this.H=new Vih(this.Va);this.Qa=this.rb=null;this.Ja=new Ghh(b,this.C,this.Va,this.F);this.L=(this.Ne="legacy"!=this.C.F)?new GQ(b):new HQ(!1,b);this.ub=!1;this.Ra=!d;c=Kw.getInstance();this.jd=Lw(c);this.Pc=Lw(c);this.vd=Lw(c);this.Dc=null;z(y(),"docs-edp")&&(this.Dc=new djh(a,
b,"focused-presenceindicator"));this.Lc=0;this.xa="";this.fb="Comment draft";this.ob=this.Xa=this.Pd=null;this.Fb=!0;this.Ea=!1;this.Ob=this.Db=this.O=this.jb=this.cb=null;this.Sa=!1;this.J=this.Ma=null;Ggh(a);this.R=null}t(hjh,I4);m=hjh.prototype;m.Ca=function(){var a=yhh(new t5);this.Gc(fy(vhh,{vj:this.C.vj(),eD:this.C.Ea,fH:a,gH:Tfh(this.C),Dv:$4(this.C)},void 0,this.oa()))};
m.Gc=function(a){I4.prototype.Gc.call(this,a);a=this.getElement();var b=this.oa();this.setVisible(!0);this.D=b.eb("docos-input-textarea",a);$4(this.C)&&(this.R=new Pih(this.D),XO(this.R,new ejh),XO(this.R,new aQc),XO(this.R,new Zih),XO(this.R,new Rih(2048)));this.Xa=new mB;this.Xa.Wa(this.D);this.qa(this.Xa);xhh(new t5)&&this.D.setAttribute("placeholder",this.xa);if(yhh(new t5)){this.Ma=b.eb("docos-at-mention-icon",a);null!=this.Ma&&(this.J=new Uz(null,b),this.J.Wa(this.Ma),this.J.setVisible(!1));
var c=this.Xa.Pe()?"left":"right";gw(this.D,"padding-"+c,"36px")}this.Ra||P(this.D,this.Ra);this.ob=b.eb("docos-input-at-reply-message",a);this.ob.setAttribute("id",this.jd);this.cb=b.eb("docos-input-acl-fixer-message",a);this.cb.setAttribute("id",this.Pc);this.jb=b.eb("docos-input-assignment-message",a);this.jb.setAttribute("id",this.vd);this.Qa=b.eb("docos-input-assignment-panel",a);c=this.Ja;var d=this.Qa;c.J=d;qz(c,new Dcb(d,9));this.rb=b.eb("docos-input-assignee-text",a);c=b.eb("docos-input-assignee-select",
a);this.Ja.Wa(c);this.Ja.Pa(!0);if(c=b.eb("docos-input-assignment-box",a))this.L.Wa(c),FQ(this.L,this.rb);c=ijh(this);if(0<c.length){d=!this.F||!this.F.Lk();var e;d?e=this.C.O:this.F&&(e=this.F.getElement());this.O=new Zhh(this.C,this.D,c,new nih(this.C.Qa),this.C.R||void 0,e||void 0,this.D||void 0,d);this.qa(this.O)}if(e=b.eb("docos-input-cancel",a))this.V.Wa(e),rx(e,this.V.Ol());(a=b.eb("docos-input-post",a))&&this.ma.Wa(a);this.Dc&&this.F.Lk()&&(a=this.oa().eb("docos-focusedpresenceindicator-container",
this.getElement()),this.Dc.render(a))};function ijh(a){var b=[],c=new Ehh(M4(a.Va),a.oa());c=Ufh(a.C)?new vih(a.C,a.Va.get("contactStore"),c):null;if(Ufh(a.C)){var d=new Jih(c);a.qa(d);b.push(d)}d=Vfh(a.C).map(function(e){return e.F()});ud(b,d);Ufh(a.C)&&(c=new Gih(a.C.Zg,c),a.qa(c),b.push(c));return b}
m.Ia=function(){I4.prototype.Ia.call(this);d_e(this.getElement(),!1);$4(this.C)||(this.Db=new pih(this.D,null,2048),this.qa(this.Db));this.Ob=new lB(this.D);this.qa(this.Ob);K4(K4(K4(K4(K4(K4(K4(K4(K4(K4(K4(K4(K4(this,this.Ob,"input",this.YQa),this.D,"keydown",this.kF),this.D,"keyup",this.lTb),this.D,"keypress",this.kTb),this.V,"action",this.jTb),this.ma.getElement(),["click","keypress","keyup"],this.B4a),this.ma,"action",this.uWa),this.Qa,"click",this.R7b),this.L,"change",this.T7b),this.L.qm(),"keypress",
this.U7b),this.Qa,["keyup","keypress"],this.S7b),this.Ja,"action",this.Q7b),this.D,"pointerdown",this.iTb);$4(this.C)&&K4(this,this.R,"dom_manipulated",this.YQa);this.J&&(K4(this,this.J,"action",this.u8b),K4(this,this.J.getElement(),"blur",this.c8b));this.O&&(K4(this,this.O,"update",this.qrb),K4(this,this.O,"suggestionsupdate",this.A5a));this.D[jjh]=u(this.blur,this);this.D[kjh]=u(this.b9b,this);this.V.getElement()&&(K4(this,this.V.getElement(),["click","keypress","keyup"],this.B4a),this.V.Pa(!0));
if(this.F&&L4(this.F.fd())&&rgh(this.F.fd())){var a=this.H,b=G4(L4(this.F.fd())).getEmail();b&&!a.C.Wg(b)&&Wih(a,b);a.C.isEmpty();a=this.H;b=Xih(this.H);kd(a.C.Ed(),b);a.D=b;a.F=!0;this.L.Ib(!0)}xhh(new t5)?(this.setValue(""),this.Ce(this.fb+". "+this.xa)):this.setValue(this.xa);this.Sa=!0;ox(this.D,"label",this.fb);Wfh(this.C)&&(Dp(this.getElement(),!0),rx(this.getElement(),"This is the input pane."))};m.iTb=function(a){pj&&Jf(73)&&a.target.setPointerCapture(a.pointerId)};
m.isVisible=function(){return"none"!=this.getElement().style.display};m.setVisible=function(a){this.getElement().style.display=a?"":"none";a||this.blur()};m.getValue=function(){return $4(this.C)?this.R?Qih(this.R):"":this.D?this.D.value:""};m.setValue=function(a){$4(this.C)?BZe(this.R,Oih(a.trim())):this.D.value=a};m.isEmpty=function(){return Ld(this.getValue())};function Q5(a){return!Ld(a.getValue())&&!a.Sa}m.Ce=da("fb");
m.reset=function(a){this.Ea||this.isDisposed()||(xhh(new t5)?(this.D.setAttribute("placeholder",this.xa),this.setValue("")):this.setValue(this.xa),this.Sa=!0,this.J&&this.J.setVisible(!1),ox(this.D,"label",this.fb),Af?cq(this.sTa,0,this):this.sTa(),R5(this,a),this.D&&(this.D.style.height=""),a||ljh(this),mjh(this,"none"))};
function mjh(a,b){if(a.ob&&a.cb&&a.jb){P(a.ob,"atReplyMessage"==b);P(a.cb,"aclFixerMessage"==b);P(a.jb,"assignmentMessage"==b);var c=a.L.getElement();if(null!=c){switch(b){case "atReplyMessage":var d=a.jd;break;case "assignmentMessage":d=a.vd;break;case "aclFixerMessage":d=a.Pc}null!=d?ox(c,"describedby",d):px(c,"describedby")}}}
m.ready=function(a,b,c){this.isDisposed()||(this.R&&!this.R.Nf()&&EOc(this.R),this.Sa&&(this.Pd=!b&&a||"",this.setValue(a||""),this.Sa=!1),vx(this.getElement(),"docos-input-typing"),c||this.focus(),R5(this))};m.blur=function(a){this.F&&this.dispatchEvent(new Ho("b",this.F));if(this.J){var b=this.J.Gb();a=a&&a.relatedTarget==this.J.getElement();b||a||this.J.setVisible(!1)}};m.c8b=function(a){a.relatedTarget!=this.D&&this.J.setVisible(!1)};m.focus=function(){Af||cq(this.tWa,0,this);this.tWa()};
m.tWa=function(){!this.isDisposed()&&Cw(this.D)&&(this.D.focus(),this.J&&!this.C.J&&(this.J.setVisible(!0),njh(this)))};m.sTa=function(){this.isDisposed()||xx(this.getElement(),"docos-input-typing")};
function R5(a,b){var c=Md(a.getValue());c=!a.Sa&&c!=a.Pd;a.ma.Pa(!a.Ea&&(!a.Ra||c&&!a.isEmpty()));a.A5a();var d=ojh(a),e=a.H.D,f=a.H.C.Ed().length;if(a.Ra){var h=a.H;var k=a.getValue(),l=d?G4(d):void 0;d=Uih(Tih,k);k=h.C;h.C=new RK(void 0,!0);for(var n=d.length-1;-1<n;n--){var q=d[n];k.Wg(q)?h.C.set(q,k.get(q)):Wih(h,q)}l&&(l=sf(l.getEmail()),!Ld(l)&&h.C.remove(l));l=h.D?h.D.getEmail():null;n=(k=Xih(h))?k.getEmail():null;(h.F||l==n)&&l&&h.C.Wg(l)||(h.D=k);h=!h.C.isEmpty()&&0<d.length}d=a.H.D;e!=d&&
pjh(a,!1);e=a.C;0!=f||!h||a.Ea||!Nj(e.dh,33)||e.J||e.ma||(f=e.Xl,e=Xih(a.H)?Xih(a.H).getEmail():null,f&&e&&f([e]));f=h&&!a.ub&&a.F&&!a.F.fd().isResolved()&&a.Ra&&(a.F.nya()||!!fgh(a.F.fd()));Nj(a.C.dh,38)&&(f?(a.L.Pa(!a.Ea),a.Ja.Pa(!a.Ea),a.Ja.update(a.H.C.Ed(),d),f=deh(d,a.C,!!ojh(a)),e=a.Ja.getElement(),Cp(a.rb,f),rx(e,f+". Choose an assignee."),zx(a.rb,"docos-input-assignee-text-no-chevron",!Cw(e)),P(a.Qa,!0),qjh(a,!0)):(pjh(a,!1),a.L.Pa(!1),a.Ja.reset(),P(a.Qa,!1),qjh(a,!1)));a.Ea&&Ufh(a.C)&&
!a.H.C.isEmpty()?mjh(a,"aclFixerMessage"):a.Fb&&Ufh(a.C)&&!a.H.C.isEmpty()?a.L.isChecked()?mjh(a,"assignmentMessage"):a.Fb?mjh(a,"atReplyMessage"):mjh(a,"none"):mjh(a,"none");(f=Yih(a.H))&&a.F?(e=!!ojh(a),f=deh(f,a.C,e),e=e?"Reassign":"Assign"):a.ub?(f="Save changes",e="Save"):!a.F||a.F.fd().hx()?(f="Post Comment",e="Comment"):a.F.fd().hZ()?(f="Assign suggested action item",e="Assign"):(f="Reply to comment",e="Reply");a.ma.getElement()&&J4(a.Va).C.C(a.ma.La(),f);Cp(a.ma.getElement(),e);c?(rjh.contains(a)||
(rjh.add(a),a.dispatchEvent(new bjh(a.F.getId(),1,"pr"))),vx(a.getElement(),"docos-input-nohide")):(sjh(a),xx(a.getElement(),"docos-input-nohide"));tjh(a);b||a.dispatchEvent("s")}function sjh(a){rjh.contains(a)&&(rjh.remove(a),a.dispatchEvent(new bjh(a.F.getId(),0,"pr")))}
m.A5a=function(){this.getElement().removeAttribute("aria-autocomplete");this.getElement().removeAttribute("aria-activedescendant");this.O&&this.O.qf()&&(this.getElement().setAttribute("aria-autocomplete","list"),Shb(this.O)&&this.getElement().setAttribute("aria-activedescendant",kih(this.O)))};function qjh(a,b){if(b=b&&a.F)b=a.F,b=b.Lk()&&b.Dc;b?(a.C.St||re)("docosTodos",u(a.j$b,a)):(a.C.Oh||re)("docosTodos")}m.j$b=function(){this.dispatchEvent("ph")};function pjh(a,b){a.L.Ib(b);a.H.F=b}
function ojh(a){return a.F&&!a.F.fd().hx()&&fgh(a.F.fd())?L4(a.F.fd()):null}m.B4a=function(a){(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type)&&a.stopPropagation()};m.jTb=function(){this.dispatchEvent("c");this.reset()};m.uWa=function(){if(this.ma.isEnabled()){var a=this.H.C.ef(),b=this.C;if(Nj(b.dh,33)&&!b.J&&!b.ma&&!ld(a)&&(b=this.C.un)){mjh(this,"aclFixerMessage");this.Ea=!0;R5(this);this.V.getElement()&&this.V.Pa(!1);b(a,u(this.Zpb,this));return}ujh(this)}};
m.R7b=function(){this.Ea||(pjh(this,!this.L.isChecked()),R5(this))};m.T7b=function(){var a=this.L.isChecked();this.H.F=a;R5(this)};m.U7b=function(a){13==a.keyCode&&(a.stopPropagation(),a=this.L,a.Ib(a.jE?!1:!0),this.L.dispatchEvent("change"),this.ma.focus())};m.S7b=function(a){a.stopPropagation()};m.Q7b=function(){this.L.Ib(!0);var a=this.H,b=Hhh(this.Ja);kd(a.C.Ed(),b);a.D=b;a.F=!0;R5(this)};
m.Zpb=function(a){this.Ea&&(this.Ea=!1,"continue"==a?ujh(this):mjh(this,"atReplyMessage"),this.F.getContext()&&(R5(this),this.V.getElement()&&this.V.Pa(!0)))};function ujh(a){Af&&a.F&&a.F.fd().hx()&&Tf(a.Db);a.dispatchEvent("p");a.reset()}m.b9b=function(){this.ready(void 0,void 0,!0);this.F&&this.dispatchEvent(new Ho("f",this.F));this.J&&!this.C.J&&(this.J.setVisible(!0),njh(this))};
function tjh(a){if(!a.D)return!1;var b=a.D.clientHeight,c=a.D.scrollHeight,d=zw(a.D).height;return b!=c&&0<d?(yw(a.D,d+c-b),njh(a),!0):!1}function njh(a){if(null!=a.Ma){var b=kw(a.D),c=zw(a.D),d=zw(a.Ma).height;if(a.Xa.Pe())a.Ma.style.left=b.x+"px";else{var e=Iw(a.D.parentElement).right;a.Ma.style.right=e+"px"}a.Ma.style.top=b.y+c.height-d+"px"}}
m.kF=function(a){tjh(this)&&this.dispatchEvent("s");this.Lc=a.keyCode;if(13==a.keyCode)vjh?a.metaKey&&Gf&&pj&&wjh(this,a):wjh(this,a);else if(27==a.keyCode){Df&&a.preventDefault();if(this.O&&this.O.qf())return;this.isEmpty()&&this.reset();this.F&&this.dispatchEvent(new Ho("e",this.F));ljh(this)}a.stopPropagation()};
m.lTb=function(a){tjh(this)&&this.dispatchEvent("s");var b=this.Lc;this.Lc=a.keyCode;if(13==a.keyCode&&a.ctrlKey){if(229==b)return;if(!this.Ud){Hd(this.getValue(),"\n")?this.kF(a):a.preventDefault();return}this.Ud=!1}a.stopPropagation()};m.kTb=function(a){if(13==a.keyCode&&vjh)wjh(this,a);else if(27==a.keyCode){if(this.O&&this.O.qf())return;this.blur();ljh(this)}a.stopPropagation()};function wjh(a,b){if(b.ctrlKey||b.metaKey)a.Ud=!0,a.ma.getElement().focus(),a.uWa()}
function ljh(a){a.Ba&&(Af&&!Jf("9")?a.Ba.focus():cq(function(){return a.Ba.focus()}))}m.YQa=function(){R5(this)};m.qrb=function(){R5(this)};m.u8b=function(){this.O.Ea=!0;this.focus();xjh(this,Tfh(this.C)?"@":"+");var a=Xhb(this.D,!0)[0];yjh(this,a-1)&&(xjh(this," ",a-1),a+=1,R_e(this.D,a));yjh(this,a+1)&&(xjh(this," ",a),R_e(this.D,a));this.O.update(!0)};
function xjh(a,b,c){c&&R_e(a.D,c);c=a.D;if(Thb(c)){var d=c.value,e=c.selectionStart;c.value=d.substr(0,e)+b+d.substr(c.selectionEnd);c.selectionStart=e;c.selectionEnd=e+b.length}else if(Uhb())d=Vhb(c),c=d[1],d[0].inRange(c)&&(d=c.duplicate(),c.text=b,c.setEndPoint("StartToStart",d),c.select());else throw Error("Cannot set the selection end");b=Xhb(a.D,!1)[1];R_e(a.D,b)}function yjh(a,b){a=a.getValue();return 1>b||b>a.length?!1:" "!=a[b-1]}
m.Ka=function(){I4.prototype.Ka.call(this);sjh(this);this.D&&(this.D[jjh]=null,this.D[kjh]=null);delete this.D;delete this.Db;delete this.Ob};var rjh=new om,jjh=Af?"onfocusout":"onblur",kjh=Af?"onfocusin":"onfocus",vjh=Gf||zf||Df;Ef&&Jf("530");function zjh(a,b,c,d,e,f,h,k){d=void 0===d?0:d;zhh.call(this,a,b);this.wn=c||null;this.Xp=d;this.C=e||null;this.X1=h;this.Lk=k}t(zjh,zhh);function Ajh(a){this.C=J4(a)};function Bjh(a,b){b.hZ()?a.V+=1:b.hx()?a.D+=1:b.isTodo()?b.isResolved()?a.R+=1:a.J+=1:b.Uj()?(b=sgh(b),2==b?a.C+=1:3==b?a.L+=1:a.H+=1):b.isResolved()?a.O+=1:a.F+=1};function Cjh(a,b,c,d,e){this.bk=a;this.C=b||null;this.wn=c||null;this.Xp=d||null;this.flags=e||null};function Djh(a,b,c,d){Ho.call(this,b,a);this.source=c;this.C=d}t(Djh,Ho);function Ejh(a,b){this.D=a;this.Sr=b;this.C=[]}function Fjh(a){return new Djh(a.D,"bu",a.Sr,a.C)};function Gjh(){this.D={};this.C={};this.F=0}function Hjh(a,b,c){return a.C[b]?a.C[b][c||"$"]||null:null}function Ijh(a,b,c,d){a.C[c]||(a.C[c]={});a.D[b]=new Jjh(c,d);a.C[c][d||"$"]=b}Gjh.prototype.bind=function(a,b){if(null!==Hjh(this,a,b))return!1;this.F++;Ijh(this,this.F,a,b);return!0};function Kjh(a,b,c){var d=Hjh(a,b,c);null!==d&&(delete a.D[d],delete a.C[b][c||"$"])}function Ljh(a,b,c,d,e){var f=Hjh(a,b,c);if(null===f||null!==Hjh(a,d,e))return!1;Kjh(a,b,c||void 0);Ijh(a,f,d,e);return!0}
function Mjh(a,b,c){return Hjh(a,b,c)||0}Gjh.prototype.getDocoHandles=function(){for(var a=Yd(this.C),b=[],c=0;c<a.length;c++){var d=this.C[a[c]].$;d&&b.push(d)}return b};function Jjh(a,b){this.C=a;this.D=b||null};function Njh(){this.D={}}Njh.prototype.C=function(a){rgh(a)||(this.H(a),a.rS()&&(this.D[a.getId()]=!0))};Njh.prototype.H=function(a){delete this.D[j5(a)];delete this.D[a.getId()]};Njh.prototype.F=function(){return!ce(this.D)};function Ojh(a){this.J=a;this.D=new Njh}Ojh.prototype.C=function(a){this.D.C(a);a=this.J.bj;if(this.F()&&a&&a())throw Error("Cant have dirty docos pending for write if the write is restricted by the client");};Ojh.prototype.H=function(a){this.D.H(a)};Ojh.prototype.F=function(){return this.D.F()};function Pjh(a){Uo.call(this);this.L=a;this.C={};this.R=null;this.F={};this.J=[];this.Ma=[];this.Ja={};this.V={};this.H=new Map;this.D=new Gjh;this.Qa=[];this.xa=!1;this.Ba=this.O=null;this.Sa=!1;this.Ea=new Ojh(this.L)}v(Pjh,Uo);function Qjh(a,b){a.Uj();var c="<i>Made a suggestion</i>";(a=a.L4())&&(b=b.Us)&&(b=b(a).C())&&(c=b);return c}function Rjh(a,b){return"n"!=b&&!rgh(a)&&a.rS()}
function Sjh(a,b,c,d,e,f,h){var k=!1;h||(k=!0,h=new Ejh(a,b));b=d.getId();c=c!=d.getId()?c:void 0;d=k5(d);h.C.push(new Cjh(b,c,d,e,f));k&&a.dispatchEvent(Fjh(h))}
function r5(a,b,c,d){c=c||"c";var e=Tjh(a),f=Ujh(a,b.getId(),K(T4(b.C),11)||"");if(f){var h=f.getId(),k=f.Oq();b=b.C;var l=gk(f.F);T4(b);var n=T4(b),q=b.getId(),r=null!=q?q:f.getId();q=void 0!==K(n,13)&&0!=K(n,13)&&!f.Oq();for(var w=(void 0===K(n,13)||0==K(n,13))&&f.Oq(),x=R4(n),F=!1,M=0;M<x.length;M++){var X=x[M],U=f.D[X.getId()||""]||f.D[K(X,11)||""];F=!1;U||(U=f.J[X.getId()||""]||f.J[K(X,11)||""],F=!!U);if(U){var ca=U.getId();U.update(X);if(ca!=U.getId()&&(delete f.D[ca],f.D[U.getId()]=U,Mjh(f.O,
r,ca)&&!Ljh(f.O,r,ca,r,U.getId())))throw Error("Error updating ID from "+r+", "+ca+" to "+r+", "+U.getId());U.Oq()?(delete f.D[U.getId()],f.J[U.getId()]=U,Kjh(f.O,r,U.getId())):F&&!U.Oq()&&(delete f.J[U.getId()],f.D[U.getId()]=U,f.O.bind(r,U.getId()))}else U=new ofh(X),U.Oq()?(f.J[U.getId()]=U,Kjh(f.O,r,U.getId())):(f.D[U.getId()]=U,delete f.J[U.getId()],f.O.bind(r,U.getId())),U=R4(T4(f.F)),U.push(X),X=T4(f.F),ck(X,8,U)}r=0;void 0!==Nj(b,6)&&Nj(b,6)!=f.isResolved()&&(r=Nj(b,6)?r|2:r|4);q&&!F?r|=16:
w&&(r|=8);ck(n,8,[]);q&&(n.setContent(void 0),ak(n,4,void 0),ak(n,9,void 0));Keh(f.F,b);f.C.update(n);f.L=null;f.V=null;f.H=void 0;f.vS=null;fk(f.F,l)||(r|=1);b=r;a.Ea.C(f);Vjh(a,f);if(h!=f.getId()&&(delete a.C[h],delete a.F[h],a.H.delete(h),l=Mjh(a.D,h),delete a.Ja[l],a.C[f.getId()]=f,l&&!Ljh(a.D,h,null,f.getId(),null)))throw Error("Error updating ID from "+h+" to "+f.getId());l=Mjh(a.D,f.getId());f.Oq()?(delete a.C[f.getId()],a.H.delete(h),Kjh(a.D,f.getId()),a.F[f.getId()]=f,l&&(a.Ja[l]=f),Rjh(f,
c)&&(nd(a.J,f.getId()),nd(a.Ma,f.getId())),d=Bgh(Agh(zgh("dd"),c),f.getId()),k=k5(f),d.Zr=k,d.C=l,d=Cgh(d,b),h!=f.getId()&&(d.D=h),a.dispatchEvent(Egh(d))):(k&&(delete a.F[f.getId()],delete a.Ja[l],a.C[f.getId()]=f,(a.L.Ja||k5(f))&&a.D.bind(f.getId()),l=Mjh(a.D,f.getId())),0!=b&&(Rjh(f,c)&&nd(a.J,f.getId()),Sjh(a,c,h,f,l,b,d)))}else f=new pgh(b.C,a.D,b.It?b.It:void 0),a.Ea.C(f),f.Oq()?a.F[f.getId()]=f:Wjh(a,f,c,d);Tjh(a)!=e&&(e=Tjh(a)?32:0,c=Egh(Cgh(Agh(zgh("p"),c),e)),a.dispatchEvent(c))}
function Qgh(a,b,c){for(var d=new Ejh(a,c),e=0;e<b.length;e++)r5(a,b[e],c,d);a.dispatchEvent(Fjh(d))}function Igh(a,b){b.getNewDocoType()||vgh(b,"draft");b=new pgh(b.C,a.D,b.It?b.It:void 0);a.Ea.C(b);Wjh(a,b)}
function Wjh(a,b,c,d){if(Nj(a.L.dh,38)||!b.isTodo()){c=c||"c";var e=null;b.nA()&&(e=Xjh(a,k5(b)));e&&rgh(e)?(Ljh(a.D,e.getId(),null,b.getId(),null),Lgh(a,e.getId(),c)):(a.L.Ja||b.nA())&&a.D.bind(b.getId());a.C[b.getId()]=b;Vjh(a,b);e=8|(b.isResolved()?2:0);Rjh(b,c)&&nd(a.J,b.getId());var f=Mjh(a.D,b.getId());Sjh(a,c,void 0,b,f,e,d)}}
function Lgh(a,b,c){c=c||"c";var d=a.C[b];if(d){if(d.nA()){var e=k5(d);delete a.V[k5(d)]}a.Ea.H(d);d=Mjh(a.D,b);delete a.C[b];Kjh(a.D,b);b=Bgh(Agh(zgh("dd"),c),b);b.C=d;b=Cgh(b,16);void 0!=e&&(b.Zr=e);a.dispatchEvent(Egh(b))}}function S5(a,b){if(!b)a.R=null;else if(!b||a.fd(b)){if(a.L.eH()){var c=!0;c=void 0===c?!1:c;a.H.delete(b);a.dispatchEvent(Egh(Bgh(Agh(zgh("sd"),"c"),b)));c&&Yjh(a)}a.R=a.fd(b)}}function Sgh(a,b){b=b.getId();return kd(a.Qa,p5(a,b))}
Pjh.prototype.ma=function(a){return(this.L.Ja||a.nA())&&(!a.isResolved()||this.xa)};function Zjh(a){var b=je(a.C);le(b,a.F);return b}function $jh(a){var b=new pdh;a=Xd(Zjh(a));for(var c=0;c<a.length;c++)Bjh(b,a[c]);return qdh(b)}function akh(a){function b(d){return d.rS()}var c=bd(Xd(a.C),b);a=bd(Xd(a.F),b);return c.concat(a)}function bkh(a,b,c){var d=!1;d=void 0===d?!1:d;a.H.set(b,new Set(c));a.dispatchEvent(Egh(Bgh(Agh(zgh("ud"),"c"),b)));d&&Yjh(a)}
function Yjh(a){(a=a.L.H["unseen-docos-updated"])&&a((new F4("unseen-docos-updated")).setNonAnchored(!0).build())}function Tjh(a){return a.Sa?a.Ea.F():!1}function ckh(a){for(var b=0;b<a.J.length;b++){var c=a.J[b],d=a.fd(c);d||(d=a.F[c]);if(d&&d.rS())return!0}return!1}Pjh.prototype.fd=function(a){return this.C[a]};function Ujh(a,b,c){return a.C[b]||a.F[b]||a.C[c]||a.F[c]||null}function Vjh(a,b){k5(b)&&(b.Oq()?delete a.V[k5(b)]:a.V[k5(b)]=b)}
function Xjh(a,b){var c=a.V[b]||null;return c&&k5(c)!=b?(delete a.V[b],null):c}function s5(a,b,c){b=a.D.D[b]||null;if(!b)return null;if(!c&&b.D)throw Error("Handle references reply, expected doco.");return a.C[b.C]||null}function Pgh(a,b){b=a.D.D[b]||null;if(!b)return null;a=a.C[b.C];return a?(b=b.D)?a5(a,b):null:null}Pjh.prototype.getDocoHandles=function(){return this.D.getDocoHandles()};function p5(a,b,c){return Mjh(a.D,b,c)}
Pjh.prototype.flush=function(a){this.dispatchEvent(Egh(Dgh(Agh(zgh("f"),"c"),!!a)));this.dispatchEvent(Egh(Agh(zgh("af"),"c")))};function dkh(a,b){a=a.Ba;if(!a)return null;b=b.Fc(a.getKey());if(!b)return null;a=b.eb("docos-selected-find-match");if(!a)return null;a=a.getBoundingClientRect();b=a.top-b.getElement().getBoundingClientRect().top;return new mn(b,b+a.height)}function ekh(a,b){return(a=fkh(a,b))?new eY(a.getKey().getId(),a.getValue()):null}
function fkh(a,b){var c=a.O;if(!c)return null;var d=a.Ba;if(!d)return null;var e=d.getKey();e=je(a.C)[e];if(!e)return null;d=d.getValue();a=0;e=l5(e,!0);for(var f=0;f<e.length;f++){var h=e[f],k=a+gkh(h,c,b);if(k>d)return new eY(h,d-a);a=k}return null}function hkh(a,b,c,d){for(var e=0;e<a.length;e++){var f=a[e],h=b.slice(f.start,f.end);d&&"<"!=b[f.start]&&(h=Tq('<span class="%s">%s</span>',d,h));c+=h}return c}
function gkh(a,b,c){a=ikh(a,c);if(!a)return 0;a=qp(a).textContent.toLowerCase();return Yga(a,b.toLowerCase())}function ikh(a,b){var c=a.Pha();if(!c){var d=jkh();a.Uj()?c=nL(d,Qjh(a,b)):a.getContent()?c=nL(d,a.getContent()):c=null}return c}function jkh(){var a=Tmc(new mL);a.F=se;return new lL(a)};function kkh(a,b){this.C=a;this.D=b};function lkh(a,b,c){this.C=a;this.D=b;this.F=c};function mkh(a,b,c,d){I4.call(this,a,c);this.L=b;this.O=d||null;this.R=a;this.D=new Uz(null);this.F=this.J=this.H=null;this.qa(this.D)}t(mkh,I4);m=mkh.prototype;m.Gc=function(a){I4.prototype.Gc.call(this,a);this.H=this.oa().eb("like-button-text",a);this.J=this.oa().eb("docos-icon",a);this.F=this.oa().eb("docos-icon-img",a);this.D.Wa(this.getElement())};m.Ia=function(){K4(this,this.D,"action",this.XSb);K4(this,this.getElement(),["click","keypress","keyup"],this.WSb);this.update()};m.rWa=da("L");
m.WSb=function(a){a.stopPropagation()};function nkh(a){var b=N4(a.R).fd(a.L);return null!=a.O?a5(b,a.O):b}m.XSb=function(a){a.stopPropagation();a=P4(this.R);var b=nkh(this).mA();b=!b||1!=W4(b);null!=this.O?a.Bf("docos-vote-reply").qb(new lkh(this.L,b,this.O)):a.Bf("docos-vote-doco").qb(new kkh(this.L,b))};
m.update=function(){var a=nkh(this).mA(),b=!a||0==Zeh(a,1).length&&1!=W4(a);xx(this.H,"no-votes");!b||vx(this.H,"no-votes");yx(this.J,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);yx(this.F,["docos-icon-thumb-black","docos-icon-thumb-green"]);b?vx(this.F,"docos-icon-thumb-black"):1==W4(a)?(vx(this.J,"current-user-has-up-vote"),vx(this.F,"docos-icon-thumb-green")):0<Zeh(a,1).length&&(vx(this.J,"post-has-votes-no-current-user-vote"),vx(this.F,"docos-icon-thumb-black"));var c=0;
a&&(c=Zeh(a,1),b=W4(a),c=c.length,1==b&&c++);Cp(this.H,String(c));this.D.setValue(this.H);b="Like this";if(a&&((c=1==W4(a))&&(b="Unlike this"),a=Zeh(a,1),0<a.length))for(b=tf(b,"\n"),c&&(b=tf(b,"\n","You")),c=0;c<a.length;c++)b=tf(b,"\n",H4(Oeh(N(a[c].C,fY,1))));this.D.getElement()&&J4(this.R).C.C(this.D.La(),b)};function okh(a,b){a='<div id="docos-shadow-wrapper" style="display: none"><div id="docos-shadow"><div id="docos-shadow-contents-wrapper" role="dialog" aria-labelledby="docos-shadow-description"><table class="'+T("docos-shadow-table")+'"><tr align="center" valign="top"><td><table><tr align="center" class="'+T("docos-shadow-prompt")+'"><td class="'+T("docos-shadow-contents")+'"><div id="docos-shadow-description"></div></td></tr><tr align="center"><td class="'+T("docos-shadow-contents")+'">';a+=R(Tz({id:"docos-shadow-confirm",
content:$w("Delete")},b));a+=R(Tz({id:"docos-shadow-cancel",content:$w("Cancel")},b));return S(a+"</td></tr></table></td></tr></table></div></div></div>")};function pkh(a,b){I4.call(this,a,b);this.D=this.J=this.L=this.V=this.Ba=this.R=this.Rd=null;this.H=new Uz(null,b);this.Ga(this.H);this.F=new Uz(null,b);this.Ga(this.F);this.Kg=this.O=null;this.ma=!1;this.xa=new Lz(this);this.qa(this.xa);a=P4(a);this.xa.yb(a.Ta("docos-highlight-doco"),ft,this.m2)}t(pkh,I4);function qkh(a,b){rkh||(rkh=new pkh(a,b),rkh.render());return rkh}m=pkh.prototype;m.Ca=function(){this.pb(fy(okh,{},void 0,this.oa()))};
m.Ia=function(){I4.prototype.Ia.call(this);if(!this.ma){var a=this.oa();this.D=a.getElement("docos-shadow");this.L=a.getElement("docos-shadow-description");this.H.Wa(a.getElement("docos-shadow-cancel"));this.H.Pa(!0);this.F.Wa(a.getElement("docos-shadow-confirm"));this.F.Pa(!0);this.O=new xB(a.getElement("docos-shadow-contents-wrapper"),a);this.qa(this.O);yB(this.O);this.Kg=new Fx(a.Hb());this.qa(this.Kg);this.ma=!0}K4(K4(K4(K4(this,this.H,"action",this.pTb),this.F,"action",this.qTb),this.getElement(),
["keyup","keydown"],this.rTb),this.Kg,"focusin",this.Ry)};m.prompt=function(a,b,c,d,e,f){this.tb()&&this.xd();if(c!=this.V){var h=skh[c];h&&this.oa().Be(this.L,h);this.V=c}this.Rd=b;this.R=a;this.J=e||null;b=zw(a);ww(this.D,b);b=hw(a,"paddingLeft");c=hw(a,"paddingTop");this.D.style.marginLeft="-"+b;this.D.style.marginTop="-"+c;a.firstChild?Mw(this,a.firstChild):this.render(a);P(this.getElement(),!0);P(this.L,!f);this.F.focus();d&&(this.Ba=d.getId(),this.getHandler().listen(d,"rd",this.sTb))};
m.xd=function(){I4.prototype.xd.call(this);this.J=this.R=this.Rd=null};m.m2=function(){ww(this.D,"","");this.D.style.marginLeft="";this.D.style.marginTop="";this.J&&this.J.focus();up(this.getElement());this.tb()&&this.xd()};m.qTb=function(){this.Rd&&this.Rd();this.m2()};m.rTb=function(a){27==a.keyCode&&(a.stopPropagation(),"keyup"==a.type&&this.m2())};m.pTb=function(){this.m2()};m.sTb=function(a){a.target&&a.target.getId()==this.Ba&&this.R&&P(this.getElement(),!0)};
m.Ry=function(a){a=a.target;Ap(this.getElement(),a)||this.m2()};var rkh=null,tkh={},skh=(tkh["delete-discussion"]="Delete this comment thread?",tkh["delete-reply"]="Delete this comment?",tkh);function ukh(a,b){return 1==b&&!a.C&&!a.getId()};function vkh(a,b,c,d){I4.call(this,a,c);this.H=b;this.J=d||null;this.L=a;this.D=new Uz(null);this.F=null;this.qa(this.D)}t(vkh,I4);m=vkh.prototype;m.Gc=function(a){I4.prototype.Gc.call(this,a);this.F=this.oa().eb("vote-button-text",a);this.D.Wa(this.getElement())};m.Ia=function(){K4(this,this.D,"action",this.fTb);K4(this,this.getElement(),["click","keypress","keyup"],this.eTb);this.update()};m.rWa=da("H");m.eTb=function(a){a.stopPropagation()};
function wkh(a){var b=N4(a.L).fd(a.H);return null!=a.J?a5(b,a.J):b}m.fTb=function(a){a.stopPropagation();a=P4(this.L);var b=wkh(this).mA();b=!b||1!=W4(b);null!=this.J?a.Bf("docos-vote-reply").qb(new lkh(this.H,b,this.J)):a.Bf("docos-vote-doco").qb(new kkh(this.H,b))};
m.update=function(){var a=wkh(this).mA();yx(this.F,["current-user-has-up-vote","post-has-votes-no-current-user-vote"]);a&&(1==W4(a)?vx(this.F,"current-user-has-up-vote"):0<Zeh(a,1).length&&vx(this.F,"post-has-votes-no-current-user-vote"));var b="+1";if(a){var c=Zeh(a,1);b=W4(a);c=c.length;1==b&&c++;b=0<c?"+"+c:"+1"}Cp(this.F,b);this.D.setValue(this.F);b="+1 this comment";if(a&&((c=1==W4(a))&&(b="Remove your +1"),a=Zeh(a,1),0<a.length))for(b=tf(b,"\n"),c&&(b=tf(b,"\n","You")),c=0;c<a.length;c++)b=
tf(b,"\n",H4(Oeh(N(a[c].C,fY,1))));this.D.getElement()&&J4(this.L).C.C(this.D.La(),b)};function xkh(a,b,c,d,e,f,h){I4.call(this,a,d);this.F=a;this.rb=J4(this.F).R;this.Qg=new Ajh(a);this.O=b;this.H=e;this.Zg=h||"";this.Ne=u(this.YSb,this);this.D=null;this.Hc(f||"root");this.xa=c;this.Fb=!0;this.cb=2;this.Ud=!1;this.cf=this.F.get("relativeDateFormatter");this.Pc=this.Qa=this.Va=this.Ja=this.Ra=this.Pd=this.Xa=this.fb=this.jb=this.jd=this.Dc=this.vd=this.Ob=this.Ba=this.jg=this.Db=this.ub=this.Ea=this.Lf=this.R=this.L=this.J=this.V=this.ma=this.Sa=this.Lc=this.Ma=null;this.ob=new lL(Pmc(Tmc(new mL),
["data-rawHref"]));K4(this,this.cf,"Zi",u(this.aWa,this,!0))}t(xkh,I4);m=xkh.prototype;m.fd=function(){return N4(this.F).fd(this.O)};function ykh(a){return a5(a.fd(),a.getId())}function T5(a){return U5(a)?a.fd():ykh(a)}
m.Ca=function(){var a=this.oa(),b=T5(this),c=b.jx(),d=zkh(this),e=Akh(this);if(U5(this)&&qfh(this.fd().C)){var f=Md(qfh(this.fd().C));f=f.replace(Bkh,"<br>").replace(Ckh," ");f=nL(this.ob,f)}else f=null;var h=f;f="legacy"!=this.C.F;var k="Unknown"===c.getName();b=fy(rhh,{author:c.getName(),ah:c.C,qF:this.C.V&&!k?c.getId():null,Coa:e||"",Ee:this.Zg,Lk:this.xa,Poa:Dkh(this),Om:V5(this),exa:d,jA:U5(this),Uj:b.Uj(),kcc:h?h:"",o8:Ekh(this),mK:Fkh(this),YY:!!T5(this).oC(),vj:this.C.vj(),Jga:this.C.Jga(),
Uwa:this.C.Uwa(),isBadgingEnabled:this.C.eH(),timestamp:Gkh(this),Oeb:Sfh(this.C)?"//ssl.gstatic.com/docs/common/blue_silhouette96-0.png":"//ssl.gstatic.com/s2/profiles/images/silhouette96.png",Bo:f},void 0,a);this.pb(b);d=a.eb("docos-accept-suggestion",b);h=a.eb("docos-reject-suggestion",b);this.Ob=a.eb("docos-body-action-text",b);this.Dc=a.eb("docos-anchoredreplyview-buttonholder",b);this.Ra=a.eb("docos-author",b);d&&h&&(this.ma=new Uz(null,a),k=this.C.vj(),this.ma.mP=k,this.qa(this.ma),this.V=
new Uz(null,a),this.qa(this.V),this.ma.Wa(d),this.V.Wa(h));if(k=a.eb("docos-replyview-resolve-button",b)){this.J=new Uz(null,a);var l=this.C.vj();this.J.mP=l;this.qa(this.J);this.J.Wa(k)}(k||d&&h)&&Hkh(this);d=this.oa();h=d.eb("docos-vote-button",b);k=d.eb("docos-like-button",b);if(h||k)h?(this.R=new vkh(this.F,this.O,d,U5(this)?void 0:this.getId()),this.Ga(this.R),this.R.Wa(h)):k&&(this.R=new mkh(this.F,this.O,d,U5(this)?void 0:this.getId()),this.Ga(this.R),this.R.Wa(k));d=a.eb("docos-overflowmenu-outer",
b);(V5(this)||Dkh(this)||U5(this))&&d&&(f=fy(qhh,{Ri:"docos-icon-overflow-three-dots",dC:"docos-icon-overflow-three-dots-size",uS:f}),a.appendChild(d,f),gw(d,"visibility",""),f=[],V5(this)&&(f=f.concat(["edit"])),Dkh(this)&&(f=f.concat(["delete"])),U5(this)&&(this.C.Lc&&(f=f.concat(["link"])),f=f.concat(["reanchor"])),this.L=new Xfh(this.F,this.O,a,"docos-overflowmenu",f,this.getId()),this.Ga(this.L),this.L.Wa(d));this.Ma=a.eb("docos-replyview-body",b);this.Lf=a.eb("docos-streamreplyview-text",b)||
this.Ma;this.Ea=a.eb("docos-collapsible-replyview",b);this.ub=a.eb("docos-replyview-timestamp",b);U5(this)&&qfh(this.fd().C)&&(this.Ba=a.eb("docos-replyview-quote",b),this.jb=a.eb("docos-replyview-quote-expand",b),this.Xa=a.eb("docos-replyview-quote-collapse",b));(this.Db=a.eb("docos-show-less",b))&&Ikh(this);this.jg=a.eb("docos-show-more",b);this.Pd=a.Uf("docos-replyview-static",b);V5(this)&&this.D&&Jkh(this);(V5(this)||Dkh(this))&&(this.fb=a.eb("docos-replyview-control",b))&&P(this.fb,!this.fd().isResolved());
this.Ja=pV(a,"IMG","docos-replyview-avatar",b);if(f=a.eb("docos-user-presence",b))d=this.C,c=(h=d.Fd)&&c.getId()?h(c.getId()):(d=d.sD)?d(c.getName()||""):null,c&&(f.style.backgroundColor=c);this.Va=a.eb("docos-replyview-origin",b);Kkh(this);this.C.eH()&&(!this.xa&&U5(this)?this.Qa=this.H.vd:this.Qa=a.eb("docos-new-tag",b),a=N4(this.F),c=this.O,a=a.H.has(c)?a.H.get(c):new Set,c=T5(this))&&(a=a.has(c.getId()),this.Qa&&P(this.Qa,a));e&&(this.Sa=e,Lkh(this,Ne(e)),Mkh(this),Nkh(this));Okh(this)};
function Okh(a){if(Wfh(a.C)){var b={AUTHOR_NAME:T5(a).jx().getName(),CREATION_TIME:Gkh(a)};if(a.Ma.textContent)if(Fkh(a)){var c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}. {ACTION_TEXT}.";b.BODY_TEXT=a.Ma.textContent;b.ACTION_TEXT=Fkh(a)}else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {BODY_TEXT}.",b.BODY_TEXT=a.Ma.textContent;else c="Author {AUTHOR_NAME}. Created at {CREATION_TIME}. {ACTION_TEXT}.",b.ACTION_TEXT=Fkh(a);c=(new JA(c)).format(b);rx(a.getElement(),c)}}
function Pkh(a){var b=a.fd();if(b)if(b.isResolved()){if(a.H.oCa(!1),b=a.fd())b.Uj(),Qkh(a,!1,neh(a.H))}else a.Yv()}function Rkh(a){a.D||(a.D=new hjh(a.F,a.oa(),a.H),a.qa(a.D),a.Ga(a.D),a.D.xa="Edit your comment...",a.D.Fb=!1,K4(K4(K4(a,a.D,"p",a.ahc),a.D,"c",a.aIa),a.D,"s",a.ZSb),a.getElement()&&Jkh(a))}
function Jkh(a){var b=a.oa(),c="docos-replyview-edit-pane",d="",e="",f="";a.xa?(c+=" docos-anchoredreplyview-edit-pane",d="docos-noclick"):U5(a)?(c+=" docos-streamdocoview-edit-pane",e="Discard changes",f=Fkh(a)):(c+=" docos-streamreplyview-edit-pane",e="Discard changes");var h=yhh(new t5);d=fy(vhh,{Ee:c,sLa:d,Uoa:e,mK:f,vj:a.C.vj(),eD:a.C.Ea,fH:h,gH:Tfh(a.C),Dv:$4(a.C)});c=a.getElement();e=b.eb("docos-edit-pane-placeholder",c);b.XC(d,e);a.D.Wa(d);a.D.setVisible(!1);d=a.H.getElement();a.D.Ba=d;a.vd=
b.eb("docos-edit-pane-action-text",c)}m.z$b=function(a){a&&a.stopPropagation();Pkh(this)};m.Yv=function(){this.dispatchEvent("br");this.H.oCa(!1);var a=this.fd();a&&(a.Uj()?Skh(this):Qkh(this,!0,neh(this.H)));this.dispatchEvent("ar")};
m.Ia=function(){I4.prototype.Ia.call(this);K4(this,this.getElement(),["click","keypress","keyup"],this.$Sb);this.Ba&&(K4(K4(this,this.Xa,"click",this.f5a),this.jb,"click",this.f5a),Tkh(this));this.J&&K4(this,this.J,"action",this.z$b);this.ma&&this.V&&K4(K4(K4(this,this.ma,"action",this.G7b),this.V,"action",this.y$b),this.C,"r",this.aTb);this.L&&K4(K4(K4(this,this.L,"d",this.x8b),this.L,"e",this.bTb),this.L,"ra",this.q$b);var a=T5(this).jx();Ukh(this,a);this.Ra&&Vkh(this,a);Wkh(this,a);this.D&&(a=
this.H.getElement(),this.D.Ba=a);this.collapse();Wfh(this.C)&&Dp(this.getElement(),!0)};m.aTb=function(){Hkh(this)};
function Hkh(a){var b=a.fd();if(b){var c=T5(a);if(c){var d=c.Uj();if(!d||a.ma&&a.V)if(d||a.J){if(d){if(!c.OI())return;d=a.C.D;d=c.Uj()&&"full"==d.C&&Sgh(N4(a.F),b)&&!a.C.ma;var e=a.C.D;b=c.Uj()&&(Cfh(e,c)||"full"==e.C)&&Sgh(N4(a.F),b)&&!a.C.ma;c=d||b;e=d?"Accept suggestion":"Only editors can accept suggestions";var f=b?"Reject suggestion":"Only editors can reject suggestions";a.ma.getElement()&&J4(a.F).C.C(a.ma.getElement(),e);a.V.getElement()&&J4(a.F).C.C(a.V.getElement(),f);a.ma.Pa(d);a.V.Pa(b)}else fgh(b)?
(c=!0,a.J.Pa(!1),P(a.J.getElement(),!1)):(c=zkh(a),a.J.Pa(c),d=b.isResolved()?"Reopen":"Resolve",b=b.isResolved()?"Mark as open":N4(a.F).xa?"Mark as resolved":"Mark as resolved and hide discussion",a.C.Jga()||Cp(a.J.getElement(),d),a.J&&a.J.getElement()&&J4(a.F).C.C(a.J.La(),b));!a.Dc||null!==a.jd&&a.jd==c||(P(a.Dc,c),a.jd=c)}}}}function Xkh(a){var b=D4(C4(B4(a.H.getId()),a.H.fb)),c=P4(a.F);c.Bf("docos-before-highlight-doco").qb(b);S5(N4(a.F),a.H.getId());c.Bf("docos-highlight-doco").qb(b)}
m.bTb=function(){Xkh(this);Ykh(this)};m.x8b=function(){Xkh(this);U5(this)?this.H.T3a():Zkh(this)};m.q$b=function(a){Xkh(this);this.dispatchEvent(new zhh("ra",this.O));a.stopPropagation()};function Ukh(a,b){var c=b.D,d=M4(a.F);a.Ja&&ukh(b,T5(a).getOrigin())&&(c=ehh(d),vx(a.Ja,"docos-avatar-unverified"),a.C.C.C(a.Ja,"Author from imported document"));keh(d,a.Ja,c,H4(b))}function Vkh(a,b){(b=b.getName())?(b=nL(a.ob,b),We(a.Ra,b)):(b=nL(a.ob,""),We(a.Ra,b))}
function Wkh(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.Ra&&a.C.C.C(a.Ra,c),a.Ja&&a.C.C.C(a.Ja,c))}function $kh(a,b){a.J&&a.oa().Ti(a.J.getElement(),b);a.ma&&a.V&&(a.oa().Ti(a.ma.getElement(),b),a.oa().Ti(a.V.getElement(),b));a.L&&a.L.Jh(b);a.R&&a.oa().Ti(a.R.getElement(),b)}function alh(a){return a.L?(a.L.focus(),!0):a.R?(a.R.getElement().focus(),!0):a.V?(a.V.focus(),!0):a.J?(a.J.focus(),!0):!1}
m.update=function(){this.H.ql()&&this.Fb&&Tkh(this);var a=this.D&&V5(this)&&Q5(this.D),b=Akh(this),c=Ne(b),d=!this.Sa||Ne(this.Sa)!=c;d&&(this.Sa=b,We(this.Ma,b),Nkh(this));Mkh(this);Lkh(this,c);U5(this)||this.dispatchEvent(new O5(this.getId()));V5(this)&&this.fb&&!a&&P(this.fb,!this.fd().isResolved());b=T5(this).jx();Ukh(this,b);this.Ra&&Vkh(this,b);Wkh(this,b);Kkh(this);if(this.xa&&!a){switch(this.cb){case 1:this.expand();break;case 0:this.collapse();break;case 2:this.H.ql()?this.expand():this.collapse()}Ikh(this)}this.aWa();
d&&(this.D&&this.D.tb()&&this.D.reset(!0),this.aIa());Hkh(this);this.R&&this.R.update();this.L&&this.L.update();Okh(this)};m.fB=function(){if(this.Lc){var a=blh(this,this.Lc);a.Vo()!=this.Sa.Vo()&&(this.Sa=a,We(this.Ma,this.Sa),Nkh(this))}};function Akh(a){var b=T5(a),c=b.Pha();if(!c){c=b.getContent();var d=b.ys();if(0<c.length&&"text/html"!=d)throw Error("Unknown content type: "+d);b.Uj()&&(c=Qjh(b,a.C));c=nL(a.ob,c)}a.Lc=c;return blh(a,c)}
function blh(a,b){var c=N4(a.F),d=c.O;if(!d)return b;a=(c=ekh(c,a.C))&&c.getKey()==T5(a).getId()?c.getValue():void 0;c=jkh();var e=mp("DIV");e.appendChild(qp(nL(c,mf(d))));d=e.innerHTML;e.replaceChild(qp(b),e.lastChild);b=e.innerHTML;for(var f=e=0,h="",k=!1,l=0,n=0,q=[],r=0;r<b.length;r++){var w=b[r],x=0<l;">"==w?(k=!1,x?q.push(new mn(f,r+1)):h+=b.slice(f,r+1),f=r+1):"<"==w?(k=!0,x&&q.push(new mn(f,r)),f=r):k||((w=Kd(w,d[l]))&&0==l&&(n=r),w&&x&&l<d.length-1?l++:(w?l==d.length-1?(x=e==a?"docos-selected-find-match":
"docos-find-match",q.push(new mn(f,r+1)),h=hkh(q,b,h,x),f=r+1,l=0,e++):(f=r,l=1):(q=(x?n:r)+1,h+=b.slice(x?n:f,q),f=q,l=0,x&&(r=n)),q=[]))}h=hkh(q,b,h);h+=b.slice(f,b.length);return nL(c,h)}m.aWa=function(a){if(this.ub){var b=Gkh(this);b&&(a&&(this.ub.textContent=b),a=T5(this),U5(this)||this.xa||a.Ku().equals(a.hR())||(this.ub.textContent=b))}};function Gkh(a){var b=a.cf,c=T5(a),d=c.Ku();return d?a.xa||U5(a)||!(a=c.hR())||d.equals(a)?b.format(d):b.format(d)+(" (edited "+(b.format(a)+")")):null}
m.setVisible=function(a){P(this.getElement(),a)};m.isVisible=function(){return Cw(this.getElement())};m.ZSb=function(a){this.dispatchEvent(new O5(this.O));a.stopPropagation()};function Zkh(a){var b=a.getElement();b&&(a.C.ob?(b=a.C.jb,b(function(){return a.Ne()},function(){null!=a.H.getElement()&&a.H.getElement().focus()},!1)):qkh(a.F,a.oa()).prompt(b,a.Ne,"delete-reply",a,a.H.getElement(),!a.xa))}
m.$Sb=function(a){if(13==a.keyCode&&"keypress"==a.type||32==a.keyCode&&"keyup"==a.type||"click"==a.type){var b=this.getElement(),c=a.target;!U5(this)&&ux(c,"docos-replyview-delete")&&b?(Zkh(this),a.stopPropagation(),a.preventDefault()):ux(c,"docos-replyview-edit")&&b?(Ykh(this),a.stopPropagation(),a.preventDefault()):ux(c,"docos-show-more")&&b?(this.expand(),this.dispatchEvent(new O5(this.O)),this.Db.focus()):ux(c,"docos-show-less")&&b?(this.collapse(),this.dispatchEvent(new O5(this.O)),this.jg.focus(),
a.stopPropagation(),a.preventDefault()):b&&this.L&&Ap(this.L.getElement(),a.target)&&(a.stopPropagation(),a.preventDefault())}32==a.keyCode&&"keypress"==a.type&&(a.stopPropagation(),a.preventDefault())};function clh(a,b){var c=a.fd();if(!c||Sgh(N4(a.F),c)){var d=T5(a);d&&d.OI()&&(c=a.C.H[b])&&(a=p5(N4(a.F),a.O))&&(d=d.nA&&d.nA()&&!d.isResolved()?k5(d):void 0,b=(new F4(b)).setAnchorIds([d]).addDocoHandle(a).setUserInitiated(!0).build(),c(b))}}
function Skh(a){var b=a.fd();b&&b.Uj()&&clh(a,"before-suggestion-accepted")}m.G7b=function(){var a=Date.now();Skh(this);this.rb&&this.rb.fp("dsabb",Date.now()-a)};function Qkh(a,b,c){var d=a.fd(),e=a.H;e.D&&Q5(e.D)&&e.D.setValue("");d&&!d.Uj()&&d.isResolved()!=b&&P4(a.F).Bf("docos-resolve-doco").qb(new heh(a.O,b,c||null,a.xa?null:105))}m.y$b=function(){var a=Date.now();clh(this,"before-suggestion-rejected");this.rb&&this.rb.fp("dsrbb",Date.now()-a)};
m.expand=function(){T5(this).Uj()||(xx(this.Ea,"docos-collapsed-replyview"),this.cb=150>=this.Ea.offsetHeight?2:1,Ikh(this))};m.collapse=function(){!T5(this).Uj()&&this.xa&&(xx(this.Ea,"docos-collapsed-replyview"),150>=this.Ea.offsetHeight?this.cb=2:(this.cb=0,vx(this.Ea,"docos-collapsed-replyview")),Ikh(this))};function Ikh(a){if(!T5(a).Uj()){var b=1==a.cb;b!=a.Ud&&(a.Db.style.display=b?"block":"none",a.Ud=b)}}function U5(a){return"root"==a.getId()}
function Dkh(a){var b=T5(a);return b?Efh(a.C.D,b)&&!a.C.ma:!1}function V5(a){var b=T5(a);return b?Dfh(a.C.D,b):!1}function zkh(a){var b=a.fd();return b?Ffh(a.C.D,b):!1}m.YSb=function(){if(this.isDisposed())return!1;P4(this.F).Bf("docos-delete-reply").qb({bk:this.O,DBa:this.getId(),yf:this.xa?null:105});return!0};function Ykh(a){V5(a)&&(Rkh(a),dlh(a,!1),a.Ea&&a.expand(),a.D.setVisible(!0),a.D.ub=!0,a.D.ready(T5(a).Yx()))}
m.aIa=function(){V5(this)&&(dlh(this,!0),this.Ea&&this.expand(),this.D&&(this.D.setVisible(!1),this.D.ub=!1))};m.ahc=function(){if(V5(this)){Rkh(this);var a=P4(this.F),b=this.D.getValue(),c=this.xa?null:105;Ld(b)||(U5(this)?a.Bf("docos-edit-doco").qb({id:this.O,text:b,Tqa:this.D,yf:c}):(b={bk:this.O,DBa:this.getId(),text:b,Tqa:this.D,yf:c},a.Bf("docos-edit-reply").qb(b)))}};function dlh(a,b){for(var c=0;c<a.Pd.length;++c)P(a.Pd[c],b)}
m.f5a=function(){var a=ux(this.Ba,"docos-replyview-quote-collapsed");P(this.jb,!a);P(this.Xa,a);this.Fb=!a;a?Bx(this.Ba,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"):Bx(this.Ba,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")};
function Tkh(a){!a.Ba||0>=zw(a.Ba).height||(Bx(a.Ba,"docos-replyview-quote-collapsed","docos-replyview-quote-expanded"),30<zw(a.Ba).height?(P(a.jb,!0),P(a.Xa,!1),Bx(a.Ba,"docos-replyview-quote-expanded","docos-replyview-quote-collapsed")):(P(a.jb,!1),P(a.Xa,!1)),a.Fb=!0)}m.xd=function(){I4.prototype.xd.call(this);O4(M4(this.F),this.Ja)};function Kkh(a){var b=Ekh(a);b?(b=nL(a.ob,b),We(a.Va,b),P(a.Va,!0)):P(a.Va,!1)}
function Ekh(a){var b=T5(a),c=b.getOrigin();1==c?b="From imported document":(a=a.C,b=gY(a.dh)&&Nj(gY(a.dh),33)&&b.Mwa()?"From comparison":2==c?"Comments above copied from original document":null);return b}
function Fkh(a){var b=a.Qg;var c=T5(a),d=a.fd();c&&d?(a=c.Oha(),0==a&&L4(d)?b="Marked as done":0==a?b="Marked as resolved":1==a?b="Re-opened":2==a?b="Suggestion accepted":3==a?b="Suggestion rejected":4==a?(a=c.oC(),c=(d=fgh(d))&&d.getId()!=c.getId(),a=G4(a),b=ceh(a,b.C,!0),b=c?(new JA("Reassigned to {user}")).format({user:b}):(new JA("Assigned to {user}")).format({user:b})):b=""):b="";return b}function Lkh(a,b){b=-1==ye(b,!0);if(null===a.Pc||b!=a.Pc)d_e(a.Lf,b),a.Pc=b}
function Mkh(a){var b=Fkh(a);a.Ob&&Cp(a.Ob,b);a.vd&&Cp(a.vd,b)}function Nkh(a){if(a.C.Db)for(var b=cp("A",a.Ma),c=0;c<b.length;c++){var d=b[c];d.getAttribute("data-rawHref")&&a.getHandler().Rf(d,Qo,a.d8b)}}m.d8b=function(a){ZZe(this.C.Db,a.target.getAttribute("data-rawHref"));a.preventDefault();a.stopPropagation()};var Ckh=/[\x00-\b\f-\u001f\ue000-\uf8ff]/g,Bkh=/[\n-\x0B]/g;function elh(a,b){I4.call(this,a,b);this.D=!1;this.F=null}t(elh,I4);elh.prototype.Ca=function(){var a=this.oa();this.pb(fy(thh,{},void 0,a));this.F=a.eb("docos-showrepliesbutton-collapsed",this.getElement())};elh.prototype.setVisible=function(a){a!=this.D&&this.tb()&&(P(this.getElement(),a),this.D=a)};elh.prototype.isVisible=g("D");function W5(a,b,c,d,e){P5.call(this,a,b,c,d,e);this.ma=!1;this.D=null;this.F=new xkh(a,b,this.Lk(),d,this,void 0,"docos-replyview-first");this.Ga(this.F);this.H={};this.Lc=u(this.QSb,this);this.Pc=Ggh(a);this.Ja="docos-docoview-input-pane";this.Ob="";this.vd=this.Fb=this.jd=null;this.rb=!1;this.J=null;this.cb=new t5;Wfh(this.C)&&(a=new oA(this),this.qa(a),a.xj("up",38),a.xj("down",40),this.getHandler().listen(a,"shortcut",this.bwb))}t(W5,P5);
function flh(a){if(!a.D){a.D=new hjh(a.getContext(),a.oa(),a);a.qa(a.D);var b=glh(a);a.D.xa=b;a.D.Ce("Reply");a.JCa();a.getElement()&&hlh(a)}}m=W5.prototype;m.bwb=function(a){switch(a.identifier){case "down":a=ilh(this);var b=jlh(this,a);b==a.length-1?a[0].focus():a[b+1].focus();break;case "up":a=ilh(this),b=jlh(this,a),0>=b?a[a.length-1].focus():a[b-1].focus()}};
function ilh(a){var b=l5(a.fd(),!1),c=[];a.F.getElement();c.push(a.F.getElement());b=ja(b);for(var d=b.next();!d.done;d=b.next())(d=a.H[d.value.getId()].getElement())&&c.push(d);a.D&&a.D.getElement()&&c.push(a.D.getElement());return c}function jlh(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=a.oa(),f=Pp(e);if(d==f||e.contains(d,f))return c}return-1}
function hlh(a){var b=a.oa(),c=yhh(a.cb);c=fy(vhh,{Ee:a.Ja,sLa:"",Uoa:a.Ob,mK:"",vj:a.C.vj(),eD:a.C.Ea,fH:c,gH:Tfh(a.C),Dv:$4(a.C)});var d=a.getElement(),e=b.eb("docos-input-pane-placeholder",d);b.XC(c,e);a.D.Wa(c);a.D.Ba=d}m.JCa=function(){this.D&&K4(K4(K4(K4(K4(K4(this,this.D,"p",this.VSb),this.D,"c",this.TSb),this.D,"b",this.SSb),this.D,"e",this.USb),this.D,"s",this.GZ),this.D,"f",this.VRb)};
m.Ca=function(){P5.prototype.Ca.call(this);var a=this.getElement(),b=this.oa();this.D&&hlh(this);mx(a,"listitem");this.Fb=b.eb("docos-docoview-replycontainer",a);this.jd=b.eb("docos-docoview-rootreply",a);this.C.eH()&&(this.vd=b.eb("docos-root-new-tag",a));this.F.render(this.jd);klh(this)};m.Ia=function(){P5.prototype.Ia.call(this);K4(this,this.getElement(),["keydown","keypress","keyup"],this.RSb);if(this.D){var a=this.getElement();this.D.Ba=a}Dp(this.getElement(),!0)};m.wb=g("Fb");
m.Hc=function(a){P5.prototype.Hc.call(this,a);if(this.F){var b=this.F;b.O=a;b.L&&Zfh(b.L,a);b.R&&b.R.rWa(a)}};m.pWa=function(a){if(!ux(a.target,"docos-noclick")){var b=P4(this.getContext()),c=C4(B4(this.getId()),this.fb);b.Bf("docos-before-highlight-doco").qb(D4(c));S5(N4(this.R),this.getId());b.Bf("docos-highlight-doco").qb(D4(Qdh(c)));this.ma=!0;this.s_a(a)}};m.s_a=ba();
m.RSb=function(a){this.dispatchEvent(a)&&!a.ctrlKey&&$$a(a)&&9!=a.keyCode&&13!=a.keyCode&&32!=a.keyCode&&69!=a.keyCode&&74!=a.keyCode&&75!=a.keyCode&&Gfh(this.C.D)&&this.ma&&(flh(this),this.D.ready(),this.ma=!1);9==a.keyCode&&(this.ma=!1)};
m.T3a=function(){var a=this;this.ma=!1;var b=this.getElement();if(this.fd().Uj())this.Lc("suggestion");else if(b){var c=function(){return a.Lc("discussion")};this.C.ob?(0,this.C.jb)(c,function(d){d||null==a.getElement()||a.getElement().focus()},!0):qkh(this.getContext(),this.oa()).prompt(b,c,"delete-discussion",this,this.getElement())}};
function klh(a){for(var b=l5(a.fd()),c=a.F,d=0;d<b.length;++d){var e=b[d].getId();if(a.H[e])c=a.H[e];else{var f=new xkh(a.getContext(),a.getId(),a.Lk(),a.oa(),a,e);a.Hf(f,Qw(a,c)+1,!0);c=a.H[e]=f}}}m.VSb=function(){if(this.D){var a=this.D.getValue(),b=Yih(this.D.H);b=b?Weh(b):void 0;if(!Ld(a)){var c=p5(N4(this.getContext()),this.getId());this.dispatchEvent(new zjh("sr",this.getId(),k5(this.fd()),c,a,void 0,b,this.Lk()))}}};
m.TSb=function(){var a=h5(g5(f5(new e5,43012),this.fd().getId()),k5(this.fd()));this.Lk()||(a.C=105);o5(this.Pc,i5(a))};m.SSb=function(){this.ql()&&(this.ma=!0)};m.USb=function(){this.ql()&&(this.ma=!0)};m.N5a=function(){var a=N4(this.getContext()),b=this.fd().getId();a=a.H.has(b)?a.H.get(b):new Set;var c=this.F;b=a.has(b);c.Qa&&P(c.Qa,b);for(var d in this.H)b=this.H[d],c=a.has(d),b.Qa&&P(b.Qa,c)};
m.VRb=function(){if(yhh(this.cb)||xhh(this.cb)&&null==neh(this)){var a=h5(g5(f5(new e5,43095),this.fd().getId()),k5(this.fd()));this.Lk()||(a.C=105);o5(this.Pc,i5(a))}};m.focus=function(){flh(this);var a=this.ql();a&&Cw(this.getElement())&&Gfh(this.C.D)&&(this.ma=!0);if(a){var b=this.oa();a=Pp(b);(Af&&!a||!b.contains(this.getElement(),a))&&cq(function(){this.tb()&&!b.contains(this.getElement(),Pp(b))&&this.getElement().focus()},0,this)}};
function llh(a){var b=a.fd();if(b){var c=null,d;b:{for(d=Qw(a,a.F);d<a.mc();d++){var e=a.Ac(d);if((e=e==a.J?null:e)&&2==(ykh(e)||b).getOrigin())break b}d=-1}if(0>d)a=c;else{for(;d<a.mc();d++)if(e=a.Ac(d),e=e==a.J?null:e){if(2!=(ykh(e)||b).getOrigin())break;P(e.Va,!1);e.isVisible()&&(c=e)}a=c}a&&P(a.Va,!0)}}
m.update=function(){var a=this.fd();this.F.update();this.Ce(a.jx(),L4(a)||void 0);klh(this);for(var b in this.H){var c=this.H[b];a5(a,b)?c.update():(this.removeChild(c,!0),c.dispose(),delete this.H[b])}a.isResolved()!=this.rb&&(this.rb=a.isResolved(),flh(this),this.rb?(this.D.xa="Adding a comment will re-open this discussion...",this.D.Ce("Adding a comment will re-open this discussion")):(b=glh(this),this.D.xa=b,this.D.Ce("Reply")),!a.isResolved()&&Q5(this.D)||this.D.reset(!0));Bhh(this);!this.ql()&&
this.D&&this.D.blur();llh(this);a=this.Sa;b=this.getElement();a.C&&b&&a.F&&(Aw(b).contains(new Wm(a.H,a.J))||ohh(a,!1))};m.QSb=function(a){if(this.isDisposed())return!1;this.dispatchEvent("bd");P4(this.getContext()).Bf("docos-delete-doco").qb({wn:k5(this.fd()),bk:this.getId(),Xp:p5(N4(this.getContext()),this.getId()),NT:a,yf:0==this.Lk()?105:null});return!0};function glh(a){return xhh(a.cb)?"Reply or add others with @":"Reply..."}
function mlh(a){var b=P4(a.getContext()),c=a.Lk()?null:105;b.Bf("docos-resolve-doco").qb(new heh(a.getId(),!1,null,c))}function neh(a){return a.D&&Q5(a.D)?a.D.getValue():null}function nlh(a){var b=a.getContext(),c=a.fd();c&&q5(Ggh(b),d5(c5(b5(43045),c)));a=a.getId();P4(b).Bf("docos-speak-doco").qb(a)}m.oCa=ba();m.Ka=function(){P5.prototype.Ka.call(this);this.J&&delete this.J;delete this.Fb;delete this.H;delete this.D};function olh(a,b,c,d,e){W5.call(this,a,b,c,d,e);this.V=!0;this.L=null;this.Ea=new ieh(a,d,b,this);this.Ma=this.ob=this.Ra=null;this.Va=new oA(this);this.qa(this.Va);b=this.Va;b.xj("backToDocument",85);b.xj("resolve",69);b.xj("blur",27);b.xj("next",74);b.xj("next",st(["N","C"]));b.xj("prev",75);b.xj("prev",st(["P","C"]));b.xj("speakComment",st(["A","C"]));b.xj("reply",82);this.getHandler().listen(this.Va,"shortcut",this.NSb);this.getHandler().listen(this,"rd",this.OSb);this.Xa=!1;this.Ja+=" docos-anchoreddocoview-input-pane hide-on-readonly";
this.Db=null;z(y(),"docs-edp")&&(this.Db=new djh(a,d,"unfocused-presenceindicator"));this.Ud="legacy"!=this.C.F;this.Ba=null}t(olh,W5);m=olh.prototype;m.setVisible=function(a){!this.isVisible()&&a&&N4(this.R).O&&this.fB();W5.prototype.setVisible.call(this,a)};m.fB=function(){this.F.fB();for(var a in this.H)this.H[a].fB()};m.Hc=function(a){W5.prototype.Hc.call(this,a);this.Ea&&this.Ea.Hc(a)};m.Lk=ea(!0);m.QS=function(){return this.fd()?k5(this.fd()):null};
m.Ca=function(){W5.prototype.Ca.call(this);var a=this.oa(),b=this.getElement();this.Ra=a.eb("docos-replyview-control",b);this.ob=a.eb("docos-anchoreddocoview-internal",b);this.Ma=a.eb("docos-anchoreddocoview-content",b);this.J&&(this.J.render(b),this.J.setVisible(!1));var c=this.fd(),d=!!c&&Ffh(J4(this.getContext()).D,c);zx(this.getElement(),"docos-docoview-resolve-button-visible",d);if(c=L4(c))a=a.eb("docos-anchoreddocoview-assigneecontainer",b),this.Ea.render(a),plh(this,c);this.D&&(a=this.getElement(),
this.D.Ba=a);this.Db&&(a=this.oa().eb("docos-unfocusedpresenceindicator-container",this.getElement()),this.Db.render(a))};m.Ia=function(){W5.prototype.Ia.call(this);var a=this.fd();a&&L4(a)&&this.Hf(this.Ea,Qw(this,this.F));Bhh(this);2<=Wd(this.fd().D)&&(a=qlh(this))&&rlh(this,a);this.B0(!0);llh(this);slh(this);K4(K4(this,this,"show",this.A_a),this,"hide",this.z_a)};
m.xd=function(){var a=this.fd();if(a)if(this.D&&Q5(this.D)){var b=this.D.getValue();a.R=b}else a.R=null;this.getHandler().zc(this,"show",this.A_a);this.getHandler().zc(this,"hide",this.z_a);W5.prototype.xd.call(this)};m.Jh=function(a){this.oa().Ti(this.getElement(),a)};function tlh(a,b){$kh(a.F,b);for(var c in a.H)$kh(a.H[c],b)}m.a9b=function(){var a=new Ldh(this.getId(),this.fb),b=P4(this.getContext());b.Bf("docos-before-highlight-doco").qb(a);S5(N4(this.R),this.getId());b.Bf("docos-highlight-doco").qb(a)};
m.OSb=function(){this.O=null;if(Dhh(this)){var a=this.Ma.scrollHeight>this.Ma.offsetHeight,b=this.getElement();a&&!this.Ba&&b?(this.Ba=new RJ(b),K4(this,this.Ba,"mousewheel",this.xNb)):!a&&this.Ba&&(this.Ba.dispose(),this.Ba=null);a=a?G9a():0;b=this.Ud?282:240;xw(this.getElement(),b+a);xw(this.Ma,b+a)}};m.A_a=function(a){a.target instanceof jz&&(vx(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};
m.z_a=function(a){a.target instanceof jz&&(xx(this.getElement(),"docos-docomenu-visible"),a.stopPropagation())};m.oCa=function(a){this.Ra&&P(this.Ra,a)};m.Laa=ea(!0);m.update=function(){W5.prototype.update.call(this);var a=this.ql();this.ql()?this.L||this.C.rb||(this.L=new xB(this.getElement(),this.oa()),this.qa(this.L),yB(this.L)):this.L&&(this.L.dispose(),this.L=null);a!=this.Xa&&ulh(this);this.Xa=a;slh(this);if(a=L4(this.fd()))this.Ea.update(),plh(this,a);this.V&&this.oBa()};
function slh(a){var b=a.fd();null!=b.R&&(flh(a),a.D.ready(b.R,!0),b.R=null)}m.expand=function(a){var b=!1;if(this.V){this.F.expand();for(var c in this.H)b=this.H[c],b.setVisible(!0),b.expand();this.V=!1;b=!0}else if(a){c=this.getId()==a?this.F:this.H[a];if(!c)return;c.expand()}else return;this.O=null;b&&this.J&&this.J.setVisible(!1);this.B0(!0);llh(this)};
m.collapse=function(){if(!this.V){this.F.collapse();for(var a in this.H)this.H[a].collapse();this.V=!0;this.O=null;if(a=qlh(this))this.J&&this.J.setVisible(!1),this.getElement().style.maxHeight="",this.wb().style.maxHeight="",rlh(this,a),this.B0(!0),llh(this)}};m.JCa=function(){W5.prototype.JCa.call(this);this.D&&(this.getHandler().listen(this.D,["b","e","s"],u(this.B0,this,!0)),this.getHandler().listen(this.D,"e",this.DQa),this.getHandler().listen(this.D,"f",this.a9b))};
function qlh(a){var b=J4(a.getContext()).ir;a=Dhh(a);!a&&b&&(a=.75*b.C.clientHeight);return a||null}
function rlh(a,b){var c=a.getElement(),d=Wd(a.fd().D);if(!(2>d||c.offsetHeight<b)){var e=Qw(a,a.F),f=1+Math.floor(d/2);a.J||(a.J=new elh(a.getContext(),a.oa()),a.qa(a.J),a.getElement()&&(a.J.render(a.getElement()),a.J.setVisible(!1)));a.Hf(a.J,f+e);var h=a.J;h.F&&Cp(h.F,"Show all "+(d+" replies"));a.J.setVisible(!0);h=f-1;f+=1;for(var k=0;c.offsetHeight>b&&k<d;++k){var l=-1;0==k%2&&0<h?(l=h,h--):f<=d&&(l=f,f++);0<=l&&a.Ac(l+e).setVisible(!1)}}}
m.oBa=function(){var a=this.Vc();this.V&&this.expand();this.collapse();var b=this.Vc();gn(a,b)||this.dispatchEvent(new O5(this.getId()))};m.B0=function(a){var b=Dhh(this);b&&(flh(this),this.getElement().style.maxHeight=b+"px",b-=this.D.getElement().offsetHeight,200<=b?this.wb().style.maxHeight=b+"px":this.wb().style.maxHeight="",a&&(this.ob.scrollTop=this.ob.scrollHeight))};
m.NSb=function(a){var b=P4(this.getContext());switch(a.identifier){case "backToDocument":b.Bf("docos-back-to-document").qb({bk:this.getId()});break;case "resolve":Pkh(this.F);break;case "blur":this.DQa();break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "speakComment":nlh(this);break;case "reply":this.D.focus()}};m.DQa=function(){var a=P4(this.getContext());a.Bf("docos-before-highlight-doco").qb(A4());S5(N4(this.R),null);a.Bf("docos-highlight-doco").qb(A4())};
m.focus=function(){W5.prototype.focus.call(this);this.Xa=this.ql();ulh(this)};function ulh(a){flh(a);Q5(a.D)||a.Xa||a.D.reset(!0);a.ql()&&(a.expand(),a.Cha());a.B0(!0);a.dispatchEvent(new O5(a.getId()))}m.lU=function(a){W5.prototype.lU.call(this,a);this.B0(!1)};m.Ka=function(){W5.prototype.Ka.call(this);delete this.Va;delete this.Ra};function plh(a,b){var c=a.xa;c&&(a=aeh(b,a.C),yx(c,["docos-assignee-you","docos-assignee-other","docos-assignee-none"]),vx(c,a))}m.xNb=function(a){this.ql()&&a.stopPropagation()};function vlh(a,b,c,d,e){this.It=a;this.bf=void 0===b?null:b;this.nbb=void 0===c?null:c;this.Cja=void 0===d?null:d;this.ujc=void 0===e?!1:e}m=vlh.prototype;m.getNewDocoType=g("It");m.getText=g("bf");m.getAssigneeEmail=g("nbb");m.getOriginatingDocoType=g("Cja");m.getWasSmartTodo=g("ujc");function wlh(a,b,c,d){return vlh.call(this,"discussion",a,b,c,void 0===d?!1:d)||this}t(wlh,vlh);function X5(a,b,c,d,e,f,h){P5.call(this,a,b,c,e,f);this.Zr=d;this.Ea=this.Va=null;this.D=new hjh(a,this.oa(),this,h);this.Ga(this.D);this.Hc(b)}t(X5,P5);m=X5.prototype;m.Ca=function(){this.Ea=new oA(this.getElement());this.qa(this.Ea);var a=this.Ea;a.xj("backToDocument",85);a.xj("blur",27);a.xj("next",74);a.xj("next",st(["N","C"]));a.xj("prev",75);a.xj("prev",st(["P","C"]));a.xj("reply",82)};
m.Ia=function(){P5.prototype.Ia.call(this);this.getHandler().listen(this.D,"p",this.R_a).listen(this.D,"c",this.Xza).listen(this.D,"s",this.GZ).listen(this.D,"b",this.KSb).listen(this.D,"e",this.Rua).listen(this.D,"f",this.cAa);this.getHandler().listen(this.Ea,"shortcut",this.LSb);var a=this.getElement();this.D.Ba=a;this.Va=new xB(this.getElement(),this.oa());this.qa(this.Va);yB(this.Va)};m.Blb=function(a,b,c,d,e){P4(this.getContext()).Bf("docos-convert-doco").qb({bk:a,wn:b,Xp:c,VZa:d,NT:e})};
m.R_a=function(){var a=this.mya()?this.mya().getEmail():void 0,b=this.fd().getNewDocoType()?this.fd().getNewDocoType():void 0,c=this.bda();var d=this.fd().C;d=null!=K(d.C,20)?K(d.C,20):null;a=new wlh(c,a,b,1==d);c=p5(N4(this.getContext()),this.getId());cq(u(this.Blb,this,this.getId(),this.QS(),c,a,b))};m.Alb=function(a,b,c,d){P4(this.getContext()).Bf("docos-delete-doco").qb({bk:a,wn:b,Xp:c,NT:d})};
m.Xza=function(){var a=p5(N4(this.getContext()),this.getId()),b=this.fd().getNewDocoType()?this.fd().getNewDocoType():void 0;cq(u(this.Alb,this,this.getId(),this.QS(),a,b))};m.QS=g("Zr");m.nya=ea(!0);m.pWa=function(a){xlh(this);a.stopPropagation()};function xlh(a){var b=P4(a.getContext()),c=Qdh(C4(B4(a.getId()),a.fb));b.Bf("docos-before-highlight-doco").qb(D4(c));S5(N4(a.R),a.getId());b.Bf("docos-highlight-doco").qb(D4(c))}
m.LSb=function(a){var b=P4(this.getContext());switch(a.identifier){case "backToDocument":b.Bf("docos-back-to-document").qb({bk:this.getId()});break;case "blur":b.Bf("docos-before-highlight-doco").qb(A4());S5(N4(this.R),null);b.Bf("docos-highlight-doco").qb(A4());break;case "next":this.dispatchEvent("sn");break;case "prev":this.dispatchEvent("sp");break;case "reply":this.D.focus()}};m.update=function(){Bhh(this);this.Cha()};m.KSb=function(a){this.GZ(a)};
m.Rua=function(){var a=P4(this.getContext());a.Bf("docos-before-highlight-doco").qb(A4());S5(N4(this.R),null);a.Bf("docos-highlight-doco").qb(A4())};m.cAa=function(){this.ql()||xlh(this)};m.focus=function(){this.ql()&&(Af?cq(this.e1a,0,this):this.e1a())};m.GZ=function(a){var b=Dhh(this);if(b){var c=this.getElement();c.style.maxHeight=b+"px";c.scrollTop=c.scrollHeight}P5.prototype.GZ.call(this,a)};
m.e1a=function(){this.D.ready();var a=this.oa(),b=Pp(a);(Af&&!b||!a.contains(this.getElement(),b))&&cq(function(){this.tb()&&this.getElement().focus()},0,this)};function ylh(a,b,c,d,e,f){X5.call(this,a,b,c,d,e,f);this.H=new t5;xhh(this.H)?this.D.xa="Comment or add others with @":this.D.xa="Reply...";this.L=!1;this.F=this.J=null;this.Ba=Ggh(a)}t(ylh,X5);m=ylh.prototype;
m.Ca=function(){var a=this.oa(),b=this.C.Vg(),c="Unknown"===b.getName(),d=yhh(this.H);c=fy(whh,{author:b.getName(),ah:b.C,qF:this.C.V&&!c?b.getId():null,hx:!0,Lk:!0,vj:this.C.vj(),eD:this.C.Ea,fH:d,gH:Tfh(this.C),Dv:$4(this.C)},void 0,a);this.pb(c);this.D.Wa(a.eb("docos-docoview-input-pane",c));gy()&&!this.Lk()&&this.D.focus();this.J=a.eb("docos-author",c);this.F=pV(a,"IMG","docos-replyview-avatar",c);d=a.eb("docos-replyview-origin",c);P(d,!1);if(a=a.eb("docos-user-presence",c))if(c=this.C.Fd)a.style.backgroundColor=
c(b.getId());X5.prototype.Ca.call(this)};m.Ia=function(){X5.prototype.Ia.call(this);Bhh(this);var a=this.fd().Yx();Ld(a)||this.D.ready(a,!0,!0);a=this.C.Vg();fhh(M4(this.getContext()),this.F,a.D,H4(a))};m.mya=function(){return Yih(this.D.H)};m.bda=function(){return this.D.getValue()};m.Rua=function(a){Q5(this.D)?this.GZ(a):X5.prototype.Rua.call(this,a)};
m.update=function(){X5.prototype.update.call(this);var a=this.ql();a!=this.L&&(this.ql()||Q5(this.D)?this.dispatchEvent(new O5(this.getId())):this.Xza());a?this.getElement().setAttribute("guidedhelpid","comment_draft_box"):this.getElement().removeAttribute("guidedhelpid");this.L=a};m.Lk=ea(!0);m.cAa=function(){X5.prototype.cAa.call(this);if(yhh(this.H)||xhh(this.H)&&null==(this.D&&Q5(this.D)?this.D.getValue():null)){var a=h5(g5(f5(new e5,43094),this.fd().getId()),k5(this.fd()));o5(this.Ba,i5(a))}};
m.xd=function(){X5.prototype.xd.call(this);P4(this.getContext()).Bf("docos-edit-draft").qb({bk:this.getId(),text:this.bda(),tHa:this.F})};m.Ka=function(){X5.prototype.Ka.call(this);delete this.J;delete this.F};function zlh(a,b,c,d,e,f){ylh.call(this,a,b,c,d,e,f);this.fd()}t(zlh,ylh);function Alh(a,b,c,d,e,f){ylh.call(this,a,b,c,d,e,f);this.fd()}t(Alh,ylh);Alh.prototype.V=function(a,b,c,d,e,f){this.dispatchEvent(new zjh("sd",a,b,c,d,e,f,this.Lk()))};Alh.prototype.R_a=function(){var a=p5(N4(this.getContext()),this.getId()),b=Yih(this.D.H);if(null!=b){Nj(this.C.dh,38);var c=Weh(b)}cq(u(this.V,this,this.getId(),this.QS(),a,this.bda(),"instant-doco"==this.fd().It,c))};Alh.prototype.ma=function(a,b,c,d){P4(a).Bf("docos-cancel-insert-discussion").qb({bk:b,wn:c,Xp:d})};
Alh.prototype.Xza=function(){var a=p5(N4(this.getContext()),this.getId());cq(u(this.ma,this,this.getContext(),this.getId(),this.QS(),a))};function Blh(a,b,c,d,e,f){b=vlh.call(this,void 0===b?"draft":b,c,d,e,void 0===f?!1:f)||this;b.od=a||null;return b}t(Blh,vlh);Blh.prototype.getPosition=g("od");function Clh(a){this.Cja=a}Clh.prototype.getOriginatingDocoType=g("Cja");function Dlh(a,b,c){this.Cja=a;this.vS=b;this.FQb=c;return this}t(Dlh,Clh);Dlh.prototype.isTodo=g("vS");Dlh.prototype.isWrongAssignee=g("FQb");function Elh(a,b,c,d,e,f){X5.call(this,a,b,c,d,e,f,!0);this.Ma=this.Ja=this.H=this.L=this.ma=this.J=this.F=this.Ra=this.V=this.Ba=null;this.Xa=Ggh(a)}t(Elh,X5);m=Elh.prototype;
m.Ca=function(){var a=this.C,b=this.oa();a=fy(whh,{Lk:!0,hZ:!0,Kcb:!!Nj(a.dh,41),vj:a.vj(),Bo:"legacy"!=a.F,Dv:$4(a)},void 0,b);this.pb(a);this.D.Fb=!1;this.D.Wa(b.eb("docos-docoview-input-pane",a));this.Ba=b.eb("docos-input-assign-to-text",a);this.V=b.Fa("docos-smarttodoview-body",a);this.V.id=Nw(this,"body");this.F=b.eb("docos-smarttodoview-feedback",a);this.Ja=b.eb("docos-smarttodoview-showfeedbackdialog-button",a);this.Ma=b.eb("docos-smarttodoview-writefeedback-link",a);var c=[];c.push("edit");
c.push("disable");c.push("help");this.H=new Xfh(this.getContext(),this.getId(),b,"docos-overflowmenu",c);this.Ga(this.H);this.H.Wa(b.Fa("docos-overflowmenu-outer",a));this.F&&(this.J=Flh(this,"docos-smarttodoview-feedback-notactionitem","docos-smarttodoview-feedback-notactionitem-label"),this.L=Flh(this,"docos-smarttodoview-feedback-wrongassignee","docos-smarttodoview-feedback-wrongassignee-label"),this.Ra=Glh(this,"docos-smarttodoview-feedback-cancel"),(this.ma=Glh(this,"docos-smarttodoview-feedback-submit"))&&
this.rEa());b=b.Fa("docos-smarttodoview-headertext",a);b.id=Nw(this,"headertext");ox(a,"labelledby",b.id);ox(a,"describedby",this.V.id);X5.prototype.Ca.call(this)};function Flh(a,b,c){var d=a.oa(),e=a.getElement();b=d.eb(b,e);c=d.eb(c,e);e=null;b&&(e=new HQ(!1,d),c&&FQ(e,c),e.Wa(b),a.qa(e));return e}function Glh(a,b){var c=a.oa();b=c.eb(b,a.getElement());var d=null;b&&(d=new Uz(null,c),d.Wa(b),rx(b,d.Ol()),a.qa(d));return d}
m.Ia=function(){X5.prototype.Ia.call(this);K4(K4(K4(this,this.H,"e",this.dTb),this.H,"i",this.Ovb),this.H,"h",this.Fzb);this.F&&(this.Ja&&this.getHandler().Rf(this.Ja,Qo,this.iKb),this.Ma&&this.getHandler().Rf(this.Ma,Qo,this.INb),this.J&&K4(this,this.J,"change",this.rEa),this.L&&K4(this,this.L,"change",this.rEa),this.Ra&&K4(this,this.Ra,"action",this.Wxb),this.ma&&K4(this,this.ma,"action",this.cTb));this.D.ready(void 0,void 0,!0);this.update()};
m.Cha=function(){X5.prototype.Cha.call(this);this.xa&&vx(this.xa,"docos-smarttodoview-arrow-inner")};m.update=function(){X5.prototype.update.call(this);var a=L4(this.fd());a=G4(a);a=ceh(a,this.C,!0);a=(new JA("Assign to {user}?")).format({user:a});Cp(this.Ba,a);P(this.Ba,!0);a=nL(new lL(new mL),this.fd().getContent());We(this.V,a);this.resize()};m.Lk=ea(!0);
m.dTb=function(){var a=G4(this.fd().oC()).getEmail();a=new Blh(void 0,"client-integrated-draft",this.fd().Yx(),a,"smart-todo",!0);var b=p5(N4(this.getContext()),this.getId());P4(this.getContext()).Bf("docos-convert-doco").qb({bk:this.getId(),Xp:b,VZa:a,NT:"smart-todo"})};m.Ovb=function(){P4(this.getContext()).Bf("docos-disable-smart-todo-feature").qb()};
m.Fzb=function(){Rw("https://support.google.com/docs/?p=action_items&hl=en-GB",{target:"_blank",noreferrer:!0});o5(this.Xa,i5(h5(g5(f5(new e5,43029),this.fd().getId()),k5(this.fd()))))};m.iKb=function(){this.F&&P(this.F,!0);o5(this.Xa,i5(h5(g5(f5(new e5,43025),this.fd().getId()),k5(this.fd()))))};m.INb=function(){P4(this.getContext()).Bf("docos-write-feedback").qb({source:"smart-todo"})};m.Wxb=function(){this.F&&P(this.F,!1);this.focus()};
m.rEa=function(){var a=null!=this.J&&this.J.isChecked(),b=null!=this.L&&this.L.isChecked();this.ma.Pa(a||b)};m.cTb=function(){P4(this.getContext()).Bf("docos-reject-doco-with-feedback").qb({bk:this.getId(),wn:this.QS(),Xp:p5(N4(this.getContext()),this.getId()),NT:"smart-todo",olb:new Dlh("smart-todo",!this.J.isChecked(),this.L.isChecked())})};m.mya=function(){return L4(this.fd())?G4(L4(this.fd())):null};m.bda=function(){return this.fd().Yx()};
m.Ka=function(){X5.prototype.Ka.call(this);delete this.Ba;delete this.V;delete this.F;delete this.H;delete this.Ja;delete this.Ma};function Hlh(a,b,c,d){this.C=a;this.H=b;this.gb=c;this.D=d}Hlh.prototype.F=function(a){a=N4(this.C).fd(a);var b=this.H.xk().getId();switch(a.getNewDocoType()){case "draft":case "instant-doco":return new Alh(this.C,a.getId(),b,k5(a),this.gb,this.D);case "client-integrated-draft":return new zlh(this.C,a.getId(),b,k5(a),this.gb,this.D);case "smart-todo":return new Elh(this.C,a.getId(),b,k5(a),this.gb,this.D);default:return new olh(this.C,a.getId(),b,this.gb,this.D)}};function Ilh(a,b){this.C=a;this.D=b}Ilh.prototype.clone=function(){return new Ilh(this.C,this.D)};Ilh.prototype.equals=function(a){return null!=a&&this.C==a.C&&this.D==a.D};function Y5(a,b){Uo.call(this);this.gb=b;this.L=a;this.D=null;if(a=Z5(this).L)this.D=new Ilh(a,!0);this.xa=!a;this.Ba=!a;this.ob=this.H=null}v(Y5,Uo);m=Y5.prototype;m.kCa=da("O");m.xk=function(){if(!this.O)throw Error("ViewManager.getComponent() returned undefined. setComponent() must be called first.");return this.O};m.YQ=function(){return[]};m.qr=function(){return this.H?this.H.getId():null};m.fX=function(){return this.H?j5(this.H):null};m.gX=function(){var a=this.qr();return a?this.O.Fc(a):null};
m.oa=g("gb");function Z5(a){return J4(a.L)}m.getContext=g("L");m.bH=function(){return this.xk().getId()};m.Tca=g("D");m.Yka=function(a,b){var c=this.qr();return a||c?b==this.bH()||this.D&&this.D.C==a?!0:!Ahh(this,a):!1};function Ahh(a,b){if(a.qr()==b)return!0;a=a.fX();return!!a&&a==b}
m.Bqa=function(a,b,c){if(this.Yka(a,b)){var d=Ahh(this,a)?null:this.H;this.H=N4(this.L).fd(a)||null;var e=d&&a!=d.getId()&&(!j5(d)||a!=j5(d));if(e){var f=this.O.Fc(d.getId());f&&!d.Oq()&&f.update()}d=!d||e;b=b==this.bH()&&(void 0===c||c);a&&(d||b)&&(d&&this.H1a(),(c=this.O.Fc(a))?(this.D=null,c.update(),b&&c.focus()):this.D=new Ilh(a,b),d&&this.dAa(a))}};m.H1a=ba();
m.ATa=function(a,b){var c=P4(this.L);c.Bf("docos-before-highlight-doco").qb(a);S5(N4(this.L),b.getId());c.Bf("docos-highlight-doco").qb(a);!this.xa&&(this.xa=!0,c=b.getId(),c==Z5(this).L&&(a=Z5(this).H["highlight-initial-doco"]))&&(b=(new F4("highlight-initial-doco")).addAnchorId(k5(b)).addDocoHandle(p5(N4(this.getContext()),c)).setNonAnchored(!(b.nA()&&!b.isResolved())).setUserInitiated(!0).build(),a(b))};m.highlightNext=function(a,b,c){Jlh(this,!0,void 0,a,b,c)};
m.highlightPrevious=function(a,b,c){Jlh(this,!1,void 0,a,b,c)};m.mja=ba();m.kja=ba();function Jlh(a,b,c,d,e,f){var h=N4(a.L),k=Klh(a,h,b,!!d,!!e);k||!c||e||(k=Klh(a,h,!b,!!d,!1));b=P4(a.L);k&&(a=D4(Qdh(Pdh(Ndh(C4(B4(k.getId()),a.bH())),void 0!==f?f:!0))),b.Bf("docos-before-highlight-doco").qb(a),S5(h,k.getId()),b.Bf("docos-highlight-doco").qb(a))}
function Klh(a,b,c,d,e){c=c?1:-1;var f=null,h=a.xk().mc();if(0==h)return null;a:{var k=a.qr();if(k){var l=a.xk();if(k=l.Fc(k)){l=Qw(l,k);break a}}l=-1}0>l&&(l=0,f=a.xk().Ac(l));for(k=l;!f||d&&!Sgh(b,f.fd());){l+=c;if(!e&&(l>=h||0>l)){f=null;break}l=(l+h)%h;if(l==k){f=null;break}f=a.xk().Ac(l)}return f}
m.dAa=function(a){if(a==Z5(this).L){var b=this.O.Fc(a);b&&b.ql()&&!this.Ba&&(this.Ba=!0,b=Z5(this).H["linked-doco-highlighted"])&&(a=N4(this.L).fd(a),a=Rdh("linked-doco-highlighted").addAnchorId(k5(a)).setUserInitiated(!0).build(),b(a))}};m.qda=function(a){for(var b=this.xk(),c=b.mc(),d=c,e=0;e<c;++e){var f=b.Ac(e);if(f&&0>=this.jW(a,f)){d=e;break}}return d};
function Llh(a){if(a.N4()){for(var b=a.xk(),c=[],d=b.mc(),e=0;e<d;++e)c.push(b.Ac(e));c.sort(u(a.jW,a));for(e=0;e<d;++e)b.Ac(e)!=c[e]&&b.Hf(c[e],e)}}m.Mz=function(){ihh(M4(this.getContext()))};m.tK=ba();m.Qla=function(a){(a=this.O.Fc(a))&&a.N5a()};m.Aqa=function(){for(var a=this.xk().mc(),b=new pdh,c,d=0;d<a;d++)c=this.xk().Ac(d),null!=c&&(c=c.fd(),null!=c&&Bjh(b,c));return qdh(b)};m.bL=ya;m.Lba=re;m.j3=re;m.l3=ba();m.Ka=function(){Y5.Ya.Ka.call(this);this.H=null};
m.zqa=function(a){a=a.DW()||a;a instanceof Y5&&(a.D=this.D?this.D.clone():null,a.xa=this.xa,a.Ba=this.Ba)};m.DW=ea(null);m.jCa=da("ob");m.equals=function(a){if(null===a)a=!1;else if(a===this)a=!0;else if(a instanceof Y5){var b=a.D;a=(this.D?this.D.equals(b):null==b)&&this.xa==a.xa&&this.Ba==a.Ba}else a=!1;return a};function Mlh(a,b){Ho.call(this,a);this.$Ja=b}v(Mlh,Ho);/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
function Nlh(a){this.C=[];if(a)a:{if(a instanceof Nlh){var b=a.ef();a=a.Ed();if(0>=this.ke()){for(var c=this.C,d=0;d<b.length;d++)c.push(new eY(b[d],a[d]));break a}}else b=Yd(a),a=Xd(a);for(d=0;d<b.length;d++)Olh(this,b[d],a[d])}}function Olh(a,b,c){var d=a.C;d.push(new eY(b,c));b=d.length-1;a=a.C;for(c=a[b];0<b;)if(d=b-1>>1,a[d].getKey()>c.getKey())a[b]=a[d],b=d;else break;a[b]=c}m=Nlh.prototype;
m.remove=function(){var a=this.C,b=a.length,c=a[0];if(!(0>=b)){if(1==b)md(a);else{a[0]=a.pop();a=0;b=this.C;for(var d=b.length,e=b[a];a<d>>1;){var f=2*a+1,h=2*a+2;f=h<d&&b[h].getKey()<b[f].getKey()?h:f;if(b[f].getKey()>e.getKey())break;b[a]=b[f];a=f}b[a]=e}return c.getValue()}};function Plh(a){return a.C[0]&&a.C[0].getKey()}m.Ed=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getValue());return b};
m.ef=function(){for(var a=this.C,b=[],c=a.length,d=0;d<c;d++)b.push(a[d].getKey());return b};m.zv=function(a){return gd(this.C,function(b){return b.getValue()==a})};m.Wg=function(a){return gd(this.C,function(b){return b.getKey()==a})};m.clone=function(){return new Nlh(this)};m.ke=function(){return this.C.length};m.isEmpty=function(){return ld(this.C)};m.clear=function(){md(this.C)};function Qlh(){Nlh.call(this)}v(Qlh,Nlh);Qlh.prototype.enqueue=function(a,b){Olh(this,a,b)};function $5(a,b){Y5.call(this,a,b);this.V=N4(this.getContext());this.C={};this.R={};this.fb=new Qlh;this.J=new Tdh}v($5,Y5);m=$5.prototype;m.YQ=function(){var a=$5.Ya.YQ.call(this);a.push("docos-layout-anchored");Z5(this).Vd&&a.push("docos-layout-anchored-shadows");return a};m.Ppa=function(a){return(new Hlh(this.getContext(),this,this.oa(),this)).F(a.getId())};
m.FP=function(a){if(this.V.ma(a)){var b=a.getId(),c=p5(this.V,b),d=this.nsa(c,!1);if(d){var e=this.Ppa(a);this.R[c]&&delete this.R[c];c=this.qda(e);if(c<=this.xk().mc()&&-1<c)for(Rlh(this,e,d,c);!this.fb.isEmpty()&&Plh(this.fb)<=this.xk().mc();)e=this.fb.remove(),Rlh(this,e.view,e.position,e.index);else this.fb.enqueue(c,new Slh(e,d,c))}else this.R[c]=a;b=Pdh(B4(b),!a.hZ());a.Uj()||C4(b,this.bH());d&&a.hx()&&Ld(a.Yx())&&(d=P4(this.getContext()),d.Bf("docos-before-highlight-doco").qb(D4(b)),S5(this.V,
a.getId()),d.Bf("docos-highlight-doco").qb(D4(b)));(d=this.Tca())&&d.C==a.getId()&&(Pdh(b,d.D),cq(u(this.ATa,this,D4(b),a),0))}};function Rlh(a,b,c,d){var e=Ra();a.xk().Hf(b,d,!0);a.Xia(c.x,c.y,b,!1);b=Ra()-e;(a=Z5(a).H["doco-rendered"])&&a(new Sdh("doco-rendered",b))}m.cU=function(a){var b=this.xk().Fc(a);a==this.qr()&&(this.H=null);if(b){var c=this.V.fd(a);c&&c.isResolved()&&b.Lk()&&Z5(this).jd?Tlh(this,a,b):(this.xk().removeChild(b,!0),Tf(b));this.UK(this.C)}};
function Tlh(a,b,c){function d(){q||(q=!0,Tf(c),up(e),vx(h,"docos-resolve-highlight"),cq(function(){xx(h,"docos-resolve-highlight")},600))}var e=c.getElement(),f=mw(e),h=Z5(a).jd,k=zw(h),l=zw(e),n=mw(h);n.x+=(k.width-l.width)/2;a.xk().removeChild(c);vx(e,"docos-readonly");c.xd();e.style.zIndex=502;e.style.position="fixed";document.body.appendChild(e);var q=!1;Af?Ulh(a,e,f,n,d,b):Vlh(a,e,c.getId(),f,n,d)}
function Vlh(a,b,c,d,e,f){Vdh(a.J,c);b.style.left=d.x+"px";b.style.top=d.y+"px";cq(function(){Oo(b,WEa,f);cq(f,570);vx(b,"docos-resolve-animation");b.style.left=e.x+"px";b.style.top=e.y+"px"},0)}function Ulh(a,b,c,d,e,f){var h=new fB(b,[c.x,c.y],[d.x,d.y],270),k=new Qib(b,270);k.play();Udh(a.J,f,h,270,function(){Tf(h);Tf(k);e()})}
function Wlh(a){var b=[];a.xk().Ye(function(c){var d=c.fd();null!=d&&null!=k5(d)?(d=p5(this.V,c.fd().getId()),this.nsa(d,!0)||this.R[d]||(this.R[d]=c.fd(),b.push(c.getId()))):b.push(c.getId())},a);0<b.length&&a.dispatchEvent(new Mlh("rv",b))}m.Kba=function(a){for(var b=je(this.C),c=0;c<a.length;c++)a[c]in b&&delete b[a[c]];this.UK(b)};m.i3=function(a){var b=je(this.C),c;for(c in a)b[c]=a[c];this.UK(b)};m.nsa=function(a){return this.C[a]||null};
m.Lba=function(a){a=Xlh(this,a);return a?(a=a?a.getElement():null)?new Wm(a.offsetLeft,a.offsetTop):null:null};m.getDocoMaxHeight=function(a){return(a=Xlh(this,a))?a.getDocoMaxHeight():null};m.yqa=function(a,b){(a=Xlh(this,a))&&a.lU(b)};function Xlh(a,b){return(b=s5(a.V,b))?a.xk().Fc(b.getId()):null}m.Ka=function(){$5.Ya.Ka.call(this);var a=this.J,b;for(b in a.C)a.C[b].stop();a.C={};a.D={}};function Slh(a,b,c){this.bk=a.getId();this.view=a;this.position=b;this.index=c};function Ylh(a,b){$5.call(this,a,b)}t(Ylh,$5);m=Ylh.prototype;m.N4=ea(!1);m.jW=ea(0);m.A0=ba();m.VK=function(){Wlh(this)};m.Mz=function(){$5.prototype.Mz.call(this);this.xk().Ye(function(a){var b=a.fd();b&&null!=k5(b)&&(b=p5(N4(this.getContext()),b.getId()),b=this.C[b],null!=b&&this.Xia(b.x,b.y,a,!1))},this)};m.UK=function(a){this.C=a;Wlh(this);for(var b in this.C)(a=this.R[b])&&this.FP(a);this.Mz()};m.Xia=function(a,b,c){(c=c.getElement())&&O$a(c,a,b,J4(this.getContext()).wl)};function a6(a,b,c,d,e,f){this.L=a;this.F=b;this.D=c;this.H=d;this.C=e;this.J=f&&!Ld(f)?f:null}ta("docos.api.Assignee",a6,void 0);a6.prototype.getToken=g("L");a6.prototype.getToken=a6.prototype.getToken;a6.prototype.getEmail=g("F");a6.prototype.getEmail=a6.prototype.getEmail;a6.prototype.getAffinity=g("D");a6.prototype.getAffinity=a6.prototype.getAffinity;a6.prototype.getMatchingMethod=g("H");a6.prototype.getMatchingMethod=a6.prototype.getMatchingMethod;a6.prototype.O=g("C");
a6.prototype.isMatchedOnEmailUserName=a6.prototype.O;a6.prototype.getName=g("J");a6.prototype.getName=a6.prototype.getName;function Zlh(a,b,c){this.C=a;this.L=b;this.D=!1;this.F=c.toLowerCase();a=c.split("@");this.J=2==a.length?a[0]:"";this.H=2==a.length?a[1]:""}function $lh(a,b,c,d){return new a6(a.C,b,d,a.L,a.D,c)}function amh(a,b){return a.C.toLowerCase().replace(bmh,"")==b?a.D=!0:!1}Zlh.prototype.O=function(a,b){var c=[];b||a.resolve(c);for(var d=0;d<b.length;d++){var e=b[d];if(e&&cmh(this,e)){var f=sf(e.getEmail());Ld(f)||c.push($lh(this,f,e.getName(),0))}}a.resolve(c)};
function cmh(a,b){if(b.getEmail())var c=sf(b.getEmail()).toLowerCase();else return!1;b=b.getName();var d=c.split("@"),e=d[0],f=d[1];if(!(d=2!=d.length||f!=a.H||0<=e.indexOf("-")||Fih.contains(e.trim().toLowerCase()))&&(d=b)){a:{d=b.trim().toLowerCase().split(/\s/);for(f=0;f<d.length;f++)if(kd(Eih,d[f].trim().toLowerCase())){d=!0;break a}d=!1}d=d||b.toLowerCase()==e}if(d)return!1;d=a.C.toLowerCase().split(/\s/);f=b?b.toLowerCase().split(/\s/):[];for(var h=0;h<d.length;h++)if((d[h]==c||b&&kd(f,d[h]))&&
1<d[h].length)return!0;return amh(a,e)}function dmh(a,b){for(var c=[],d=0;d<a.length;d++)c.push(new Zlh(a[d],"full-query",b));return c}function emh(a,b){for(var c=[],d=0;d<a.length;d++)ud(c,fmh(a[d],b));return c}function fmh(a,b){return Uih(Sih,a).map(function(c){return new Zlh(c,"email",b)})}var bmh=/^[@+]|[@+]$/g;function gmh(a){this.Bhc=a}gmh.prototype.get=g("Bhc");ta("docos.api.AssigneeThenable",gmh,void 0);gmh.prototype.get=gmh.prototype.get;function hmh(a,b,c,d){this.C=a;this.D=b.getEmail();this.L=c;this.F=new om;this.J=d}function imh(a,b,c){c=void 0===c?!1:c;var d=Zp();a.C.C?jmh(a,b,d,c||!1):wih(a.C).then(u(function(e,f,h){h?jmh(this,e,f,c||!1):f.reject()},a,b,d));return new gmh(d.C)}function jmh(a,b,c,d){var e=Qa(emh,b,a.D);b=u(a.H,a,Qa(dmh,b,a.D),c,function(){return c.resolve(null)},d);a.H(e,c,b,d)}
hmh.prototype.H=function(a,b,c,d){a=a();for(var e=[],f=0;f<a.length;f++){var h=a[f];var k=this.C,l=Zp();Ld(h.C)?l.resolve([]):amh(h,h.J)||h.C.toLowerCase()==h.F?l.resolve([$lh(h,h.F,null,Number.MAX_VALUE)]):k.Ko(h.C,5,u(h.O,h,l));h=l.C;ud(e,h)}kmh(this,e,b,c,d)};function kmh(a,b,c,d,e){Yp(b).then(function(f){for(var h=[],k=0;k<f.length;k++){var l=f[k];l.WQ&&l.value&&ud(h,l.value)}ld(h)?d():lmh(a,h,c,e)})}
function lmh(a,b,c,d){if(a.J&&"full-query"==b[0].getMatchingMethod()){for(var e=[],f=[],h=0;h<b.length;h++){var k=b[h];k.C?f.push(k):e.push(k.getEmail())}ld(f)?(mmh(a,e),d?nmh(a,b,c):a.J(e).then(function(l){return omh(a,b,c,l)})):nmh(a,f,c)}else nmh(a,b,c)}function nmh(a,b,c){b.sort(Qa(pmh,a.D));c.resolve(b[0])}function mmh(a,b){var c=a.F;iAa(b,c.contains,c)||(a.F.addAll(b),o5(a.L,i5(f5(new e5,43026))))}
function omh(a,b,c,d){for(var e=[],f={R0:0};f.R0<d.length;f={R0:f.R0},f.R0++){var h=id(b,function(k){return function(l){return l.getEmail()==d[k.R0]}}(f));h&&e.push(h)}ld(e)?c.resolve(null):nmh(a,e,c)}function pmh(a,b,c){var d=b.getEmail()==a;a=c.getEmail()==a;var e="full-query"==b.getMatchingMethod(),f="full-query"==c.getMatchingMethod();return(d||a)&&e&&f?d?-1:1:c.getAffinity()-b.getAffinity()};function qmh(a){this.Mcb=a;return this}t(qmh,y4);qmh.prototype.getCancelAnchorId=g("Mcb");qmh.prototype.getCancelAnchorId=qmh.prototype.getCancelAnchorId;function rmh(a,b,c,d,e,f){a=E4.call(this,a,b,c,d,e,f||new y4)||this;a.C=!1;return a}t(rmh,E4);rmh.prototype.canPreventDefault=ea(!0);rmh.prototype.preventDefault=function(){this.C=!0};function smh(a){return F4.call(this,a)||this}t(smh,F4);smh.prototype.build=function(){return new rmh(this.type,this.C,this.D,this.F,this.H,this.args?this.args:new y4)};function tmh(){this.D=!1}tmh.prototype.cancel=function(){this.C&&this.C.cancel();this.D=!0};tmh.prototype.zk=function(){return!this.D&&(null==this.C||this.C.zk())};function umh(a,b,c){this.J=a;this.D=b;this.F=null;this.C=!1;this.H=Zp();this.L=c}v(umh,A);function wih(a){if(!rse())return Tp(!1);if(a.C)return Tp(!0);if(!a.F){var b=je(Mrf);b.D=!0;b.L=3;b.xa=!0;b.F=0;a.F=a.D.Ko(b,function(c,d,e,f,h){a.C=!h&&0<c.length;a.H.resolve(a.C);if(a.C&&(h=c.length,c=a.J.R)){var k=new YSd;h=L(k,1,h);h=Kch(h);c.fp("dacpc",Ra()-a.L,h.sb())}})}return a.H.C}
umh.prototype.Ko=function(a,b,c,d){var e=this;if(!rse())return new Hrf;var f=null!=d,h={token:a,C:b,H:!0,D:!0,R:f?1:0,J:f,filter:d};if(ef(a)&&this.F&&this.F.zk()){var k=new tmh,l=Ra();this.H.C.then(function(){var n=e.J.R;if(k.zk()){var q=e.D.Ko(h,c);n&&n.fp("dcrdtdr",Ra()-l);k.D||(k.C=q)}else n&&n.fp("dcrdc",Ra()-l)});return k}return this.D.Ko(h,c)};umh.prototype.Ka=function(){delete this.D};function vmh(a){this.C=a}v(vmh,y4);ta("docos.api.OriginatingDocoTypeArgs",vmh,void 0);vmh.prototype.getOriginatingDocoTypeArgs=g("C");vmh.prototype.getOriginatingDocoTypeArgs=vmh.prototype.getOriginatingDocoTypeArgs;function b6(a,b,c){this.C=c;this.Zr=a;this.D=b}v(b6,vmh);ta("docos.api.ConvertDocoArgs",b6,void 0);b6.prototype.getAnchorId=g("Zr");b6.prototype.getAnchorId=b6.prototype.getAnchorId;b6.prototype.getNewDocoArgs=g("D");b6.prototype.getNewDocoArgs=b6.prototype.getNewDocoArgs;function c6(a,b,c,d){this.F=a;this.od=void 0!==b?b:null;this.D=void 0==c?-1:c;this.C=d||null}v(c6,y4);c6.prototype.isInstantDoco=g("F");c6.prototype.getPosition=g("od");c6.prototype.getInstantDocoSpacerIndex=g("D");c6.prototype.getEntryPoint=g("C");c6.prototype.isInstantDoco=c6.prototype.isInstantDoco;c6.prototype.getInstantDocoSpacerIndex=c6.prototype.getInstantDocoSpacerIndex;c6.prototype.getEntryPoint=c6.prototype.getEntryPoint;function wmh(a){this.F=a}wmh.prototype.C=function(a,b){return b?(a=this.F.fd(b.bk))?L4(a)?["Action item deleted"]:["Comment deleted"]:[]:[]};wmh.prototype.D=ea(0);function xmh(a,b){this.od=a;this.Zr=b;return this}t(xmh,y4);xmh.prototype.getPosition=g("od");xmh.prototype.getAnchorId=g("Zr");xmh.prototype.getPosition=xmh.prototype.getPosition;xmh.prototype.getAnchorId=xmh.prototype.getAnchorId;function ymh(a){A.call(this);this.C=a}t(ymh,A);function o5(a,b){var c=J4(a.C).Qa;if(c){var d=new vk,e=b.C;null!=b.L?L(d,1,2):null!=e?L(d,1,3):L(d,1,1);zmh(a,d,b.D);b.J&&(a=$jh(N4(a.C)).C.clone(),ak(d,10,a));a=new Hfh;b.Zr&&L(a,1,b.Zr);c(b.H,b.F||void 0,d,a)}}
function q5(a,b){var c=J4(a.C).Qa;if(c){var d=b.fd();var e=new vk;var f=d.Hwa();e=L(e,2,f);null!=d.mA()&&(f=Zeh(d.mA()).length,L(e,8,f));null!=b.Vy&&(f=b.Vy.Hwa(),L(e,3,f));if(null!=b.$W){var h=b.$W;switch(h.getOriginatingDocoType()){case "discussion":L(e,4,1);break;case "draft":L(e,4,2);break;case "instant-doco":L(e,4,3);break;case "smart-todo":L(e,4,4);f=new gPd;var k=new cPd;var l=!h.isTodo();k=L(k,1,l);h=h.isWrongAssignee();h=L(k,2,h);ak(f,2,h);ak(e,5,f);break;case "suggestion":L(e,4,5);break;
default:L(e,4,0)}}null!=b.C&&L(e,7,b.C);null!=J4(a.C).Ra&&(f=J4(a.C).Ra,ak(e,12,f));null!=J4(a.C).L&&(f=J4(a.C).L==d.getId(),L(e,13,f));f=d.OI();h=L4(d);null!=f?L(e,1,2):null!=h?L(e,1,3):L(e,1,1);zmh(a,e,d.getId());b.J&&(a=$jh(N4(a.C)).C.clone(),ak(e,10,a));a=new Hfh;d=k5(b.fd());a=L(a,1,d);c(b.H,b.F||void 0,e,a)}}function zmh(a,b,c){a=N4(a.C).R;null!=c&&b.Ig(null!=a&&c==a.getId())}ymh.prototype.Ka=function(){A.prototype.Ka.call(this)};function Amh(){}Amh.prototype.C=function(){return["Comment changed"]};Amh.prototype.D=ea(0);function Bmh(a,b,c){b=ja(b);for(var d=b.next();!d.done;d=b.next())d=d.value,d.flags&c&&(d.Xp&&a.addDocoHandle(d.Xp),d.wn&&a.addAnchorId(d.wn));return a};function Cmh(a,b){this.C=a;this.$W=b;return this}t(Cmh,vmh);Cmh.prototype.getFeedback=g("$W");ta("docos.api.FeedbackArgs",Cmh,void 0);Cmh.prototype.getFeedback=Cmh.prototype.getFeedback;function Dmh(a){this.KT=a;return this}t(Dmh,y4);Dmh.prototype.isOriginInStreamOrGutter=g("KT");ta("docos.api.HighlightDocoArgs",Dmh,void 0);Dmh.prototype.isOriginInStreamOrGutter=Dmh.prototype.isOriginInStreamOrGutter;function Emh(a){var b=a.$Ob,c=a.Mb,d=a.LPb;a=a.aPb;return S('<div id="docs-instant-button-bubble" class="'+T("docs-material")+" "+(c?T("docs-instant-button-bubble-transformation-rtl"):T("docs-instant-button-bubble-transformation-ltr"))+(d?" "+T(d):"")+'" role="button" tabindex="-1"><div class="'+T("docs-instant-button-bubble-icon-container")+(a?" "+T(a):"")+'"><span class="'+T("docs-instant-button-bubble-icon")+(b?" "+T(b):"")+'"></span></div></div>')};function Fmh(a,b,c,d){c=void 0===c?[]:c;d=void 0===d?[]:d;var e=Ey(Dy,0<c.length?c[0]:"docs-instant-button");Gy.call(this,void 0,e,b);this.R=a;this.J=c;this.L=d;this.F=!1;this.H=0;this.O=-1;this.D=this.C=null;Jy(this,2,!0)}t(Fmh,Gy);m=Fmh.prototype;m.Ca=function(){var a=this.oa(),b={Mb:!1};b.$Ob=this.R.join(" ");ld(this.J)||(b.LPb=this.J.join(" "));ld(this.L)||(b.aPb=this.L.join(" "));this.pb(fy(Emh,b,void 0,a))};
function Gmh(a,b,c,d,e){var f=void 0;c=void 0===c?0:c;d=void 0===d?-1:d;f=void 0===f?1:f;if(a.tb()){var h=0>=c;a.isVisible()||h?(Hmh(a),Imh(a,b,d,f),e&&e()):(a.D=new Jmh(b,d,f,e),b=!a.C,h||b||Hmh(a),a.C||(a.C=cq(function(){Imh(a,a.D.F,a.D.D,a.D.getOpacity());var k=a.D.Rd;k&&k();a.D=null;a.C=null},c,a)))}}
m.hf=function(a){if(this.tb()){if(void 0===a?0:a)gw(this.getElement(),"top","0px"),vx(this.getElement(),"docs-instant-quick-hide");this.isVisible()&&(xx(this.getElement(),"docs-instant-button-visible"),Bw(this.La(),0),this.F=!1);Hmh(this)}};m.Yf=function(a){this.isVisible()&&(Gy.prototype.Yf.call(this,a),a.stopPropagation())};m.Um=function(a){this.isVisible()&&(Gy.prototype.Um.call(this,a),a.stopPropagation())};m.bS=function(a){this.isVisible()&&a.stopPropagation()};
function Imh(a,b,c,d){a.O=c;a.getElement().style.top=b+"px";a.getElement().style.opacity=d;xx(a.getElement(),"docs-instant-quick-hide");vx(a.getElement(),"docs-instant-button-visible");a.H=b;a.F=!0}function Hmh(a){a.C&&(dq(a.C),a.C=null)}m.isVisible=function(){ux(this.getElement(),"docs-instant-button-visible");return this.F};function Jmh(a,b,c,d){this.F=a;this.D=b;this.C=c;this.Rd=d}Jmh.prototype.getOpacity=g("C");function Kmh(a,b){I4.call(this,a,b);this.D=null;this.F=a}t(Kmh,I4);Kmh.prototype.Ca=function(){I4.prototype.Ca.call(this);this.D=new Fmh(["docos-icon-img","docos-icon-img-hdpi","docos-instant-icon-img","docos-icon-instant-docos-ltr","docos-instant-button-bubble-icon"],this.oa());this.D.render();this.Wa(this.D.getElement())};
Kmh.prototype.Ia=function(){I4.prototype.Ia.call(this);J4(this.F).C.C(this.getElement(),"Add a comment");this.D.isVisible()||J4(this.F).C.D(this.getElement(),!0);this.D.Ia();K4(this,this.D,"action",this.H)};function Lmh(a,b,c,d){wz(a.D.getElement(),"docos");J4(a.F).C.D(a.getElement(),!1);var e=a.D.H;Gmh(a.D,b,c,d,function(){e!=b&&J4(a.F).C.hf(a.getElement())})}Kmh.prototype.hf=function(a){this.D.isVisible()&&J4(this.F).C.D(this.getElement(),!0);this.D.hf(a)};Kmh.prototype.H=function(){this.hf();this.dispatchEvent("create-draft")};function Mmh(a,b){A.call(this);this.D=a;this.F=J4(a);this.C=b;this.H=new Lz(this);a=P4(this.D);this.H.yb(a.Ta("docos-edit-reply"),ft,this.Q8b).yb(a.Ta("docos-delete-reply"),ft,this.z8b).yb(a.Ta("docos-edit-doco"),ft,this.M8b).yb(a.Ta("docos-edit-draft"),ft,this.P8b)}t(Mmh,A);function Nmh(a,b,c,d,e,f){return d6(a,u(a.HPb,a,b,c,d,e,void 0===f?!1:f))}m=Mmh.prototype;m.HPb=function(a,b,c,d,e,f,h){if(Omh(h))return a=Hgh(this.C,a,b,c,d,e),f.Xi.callback(a),a;f.Xi.callback(0);return 0};
m.JPb=function(a,b,c,d,e,f){if(Omh(f))return a=Jgh(this.C,a,b,c,d),e.Xi.callback(a),a;e.Xi.callback(0);return 0};m.GPb=function(a,b,c,d,e,f){if(Omh(f))return a=Kgh(this.C,a,b,c,d),e.Xi.callback(a),a;e.Xi.callback(0);return 0};function Pmh(a,b){return d6(a,u(a.Ccc,a,b))}m.P8b=function(a){var b=this,c=a.data;d6(this,u(this.O8b,this,c.bk,c.text)).addCallback(function(d){d&&c.tHa&&O4(M4(b.D),c.tHa);return d})};m.O8b=function(a,b,c,d){e6(u(this.C.N8b,this.C,a,b),c,d)};
m.Ccc=function(a,b,c){e6(u(this.C.Mfb,this.C,a),b,c)};function Qmh(a,b,c,d,e,f,h,k){return d6(a,u(a.iab,a,b,c,d,e,f,h,k))}
m.iab=function(a,b,c,d,e,f,h,k,l){if(Omh(l)){l=this.C;var n,q;a&&(q=Xjh(N4(l.C),a))&&"instant-doco"==q.It&&(n=31);var r=f5(new e5,43009);null!=q&&g5(r,q.getId());null!=n&&(r.C=n);q&&q.hx()&&a!=b&&Lgh(N4(l.C),q.getId());a=uf();n=Ra();q=yfh(ufh(Y4(new X4(a)),n),l.F.Vg());c&&Z4(q,c,n);d&&(c=(new seh).setType("text/plain").setValue(d),ak(q.C,9,c));e&&(tfh(q,e),r.J=e);f&&(xfh(q,f),r.D=f);c=wgh(n5(m5(q),!0),n);b&&(ugh(c,b),h5(r,b));h&&(r.C=h);r5(N4(l.C),c);N4(l.C).flush();o5(l.D,i5(r));o5(l.D,i5(f5(r,e?
43096:f?43101:43102)));b=p5(N4(l.C),a);k.Xi.callback(b);return b}k.Xi.callback(0);return 0};m.M8b=function(a){var b=a.data;d6(this,u(this.bkb,this,b.id,b.text,b.yf)).addCallback(function(c){c||b.Tqa.dispatchEvent("c")})};m.bkb=function(a,b,c,d,e){e6(u(this.C.akb,this.C,a,b,c),d,e)};m.z8b=function(a){a=a.data;d6(this,u(this.y8b,this,a.bk,a.DBa,a.yf)).addCallback(ba())};m.y8b=function(a,b,c,d,e){e6(u(this.C.$eb,this.C,a,b,c),d,e)};
m.Q8b=function(a){var b=a.data;d6(this,u(this.ekb,this,b.bk,b.DBa,b.text,b.yf)).addCallback(function(c){c||b.Tqa.dispatchEvent("c")})};m.ekb=function(a,b,c,d,e,f){e6(u(this.C.dkb,this.C,a,b,c,d),e,f)};m.jab=function(a,b,c,d,e,f,h){e6(u(this.C.Ifb,this.C,a,b,c,d,e),f,h)};m.pjc=function(a,b,c,d){e6(u(this.C.Pfb,this.C,a,b),c,d)};m.qjc=function(a,b,c,d,e){e6(u(this.C.Qfb,this.C,a,b,c),d,e)};m.hdc=function(a,b,c,d,e,f){e6(u(this.C.Nfb,this.C,a,b,c,d),e,f)};
function e6(a,b,c){Omh(c)?(a(),b.Xi.callback(!0)):b.Xi.callback(!1)}m.Veb=function(a,b,c,d,e){e6(u(this.C.Jfb,this.C,a,b,c),d,e)};m.wic=function(a,b,c){if(Omh(c))return a=Mgh(this.C,a),b.Xi.callback(a),a;b.Xi.callback(0);return 0};m.Wec=function(a,b,c,d){e6(u(this.C.Ofb,this.C,a,b),c,d)};m.Zeb=function(a,b,c){e6(u(this.C.Lfb,this.C,a),b,c)};m.Yeb=function(a,b,c){e6(u(this.C.Kfb,this.C,a),b,c)};function Rmh(a,b,c,d){return d6(a,u(a.R$a,a,b,c,d))}
m.R$a=function(a,b,c,d,e){if(Omh(e)){e=this.C;a=s5(N4(e.C),a);if(Rgh(e,a)){var f=uf();r5(N4(e.C),Tgh(e,a,f,b));c||(c=e.D,b=c5(b5(b?43027:43028),a),b.J=!0,q5(c,d5(b)));b=p5(N4(e.C),a.getId(),f)}else b=0;d.Xi.callback(b);return b}d.Xi.callback(0);return 0};
m.rGa=function(a,b,c,d){if(Omh(d)){d=this.C;for(var e=[],f=[],h=[],k=0;k<a.length;k++){var l=s5(N4(d.C),a[k]);if(Rgh(d,l)){var n=uf();e.push(Tgh(d,l,n,b));f.push(l.getId());h.push(n)}}Qgh(N4(d.C),e,"c");a=[];for(k=0;k<f.length;k++)a.push(p5(N4(d.C),f[k],h[k]));c.Xi.callback(a);return a}a=[];c.Xi.callback(a);return a};function d6(a,b){var c=new vq,d={Xi:c};(a=a.F.cf)?a(d,b):b(d,"edit-not-intercepted");return c}function Omh(a){return"warning-accepted"==a||"edit-not-intercepted"==a?!0:!1};function Smh(a,b){A.call(this);this.C=[];this.F=new $ch(a);this.D=adh(this.F,"user");this.J=adh(this.F,"control");this.Bd=new bq(b||50);this.Bd.start();No(this.Bd,"tick",this.r2a,!1,this);this.J.Ef("setPeerReady_",u(this.$ec,this))}v(Smh,A);m=Smh.prototype;m.connect=function(a){a&&a()};m.isConnected=ea(!0);m.r2a=function(){try{this.J.send("setPeerReady_",this.H?"1":"")}catch(a){throw this.Bd.stop(),a;}};m.Ef=function(a,b,c){this.D.Ef(a,b,c)};m.qJ=function(a){this.D.qJ(a)};
m.send=function(a,b){this.H?this.D.send(a,b):this.C.push({d0:a,ym:b})};m.$ec=function(a){a?this.Bd.stop():this.Bd.start();if(!this.H){this.H=!0;this.r2a();for(a=0;a<this.C.length;a++){var b=this.C[a];this.D.send(b.d0,b.ym)}this.C=null}};m.Ka=function(){Tf(this.F);Tf(this.Bd);Smh.Ya.Ka.call(this)};function Tmh(a){J(this,a,0,-1,null,null)}v(Tmh,I);Tmh.prototype.ea=function(){var a=new E;Umh(this,a);return Y(a)};function Umh(a,b){var c=K(a,1);null!=c&&b.Ha(1,c);c=K(a,2);null!=c&&b.Ha(2,c)}Tmh.prototype.getId=function(){return K(this,1)};Tmh.prototype.Hc=function(a){return L(this,1,a)};function Vmh(a){J(this,a,"u",-1,Wmh,null)}v(Vmh,I);var Wmh=[1,2];Vmh.prototype.ea=function(){var a=new E;var b=Zj(this,U4,1);0<b.length&&Hj(a,1,b,ngh);b=Zj(this,Tmh,2);0<b.length&&Hj(a,2,b,Umh);return Y(a)};Vmh.le="u";function Xmh(a){Uo.call(this);this.C=a;this.Oa=new Vo(this);this.qa(this.Oa);this.Oa.listen(this.C,"u",this.D);this.C.Zd(this)}v(Xmh,Ugh);Xmh.prototype.D=function(a){var b=Lfh(a.ym.p,"u");b&&(b.unshift("u"),this.dispatchEvent(new Vgh("u",new Vmh(b))));a.stopPropagation()};function Ygh(a,b,c,d,e,f,h,k){var l;d&&(l=function(n){0<n.length&&Ea(n[0])&&d(n[0])});a.C.eKa(b,c?c.Pf():void 0,l,e,f,h,k)};function Ymh(a,b,c){jse.call(this);c&&(this.D=c.F.C(this.D));this.C=a;this.qa(this.C);this.C.qJ(u(this.D,this));this.F=b}v(Ymh,jse);Ymh.prototype.send=function(a,b){Ja(b)&&(b=Tm(b));this.C.send(a,{t:this.F,p:b})};Ymh.prototype.D=function(a,b){kse(this,a,b)};Ymh.prototype.tba=function(a,b,c){b=Ymh.Ya.tba.call(this,a,b,!0);if(!b)return null;var d=b.t;return d&&d==this.F?Ymh.Ya.tba.call(this,a,b.p,c):null};function Zmh(){Uo.call(this)}v(Zmh,Uo);function $mh(a,b,c,d,e,f,h){c=void 0===c?[]:c;Uo.call(this);var k=this;this.C=null;this.H=a;this.R=c;this.L=e;this.J=new Co;this.qa(this.J);Do(this.J,this.H.getStatus().C,function(l){l.D.Mk()&&Ql(l.C)?k.dispatchEvent(new Vgh("r")):l.C.equals(Sza)?k.dispatchEvent(new Vgh("p")):Rl(l.C)&&k.dispatchEvent(new Vgh("e"))});this.F=function(l){l&&k.dispatchEvent(new Vgh("u",l))};d&&(this.C=d,this.C.subscribe("9",this.F));this.D=f;this.O=h;this.ma=0;this.V=b}t($mh,Zmh);
$mh.prototype.dKa=function(a){if(!this.D||!this.O)throw Error("Cannot create browser channel without Docos config and session ID.");if(this.D.Hba)throw Error("Cannot control BrowserChannel if it is enabled in KeyData");this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose(),this.C=null);if(a){a=new nNa;var b=this.D.Vg().getId();a.R=b;BMa(a,this.D.Iba,this.O,this.D.xqa);this.C=a;this.C.subscribe("9",this.F)}};
$mh.prototype.eKa=function(a,b,c,d,e,f,h){b=b?["p",Tm(b)]:[];anh(this,b,"/docos/p/"+a,c,d,e,f,h)};function anh(a,b,c,d,e,f,h,k){var l=["reqid",a.ma++];b=b?FAa(b):void 0;c=fr(a.H.Xe(c),a.R.concat(l));0<b.length&&c.setContent(b);a.V&&c.qq();h?Tl(c,h):Tl(c,3);d&&Vl(c,function(n){d(n.Oe())});e&&Ul(c,e,f);k&&hr(c,k);null!=a.L&&(c.Ra=a.L);c.Re()}$mh.prototype.Ka=function(){this.C&&(this.C.unsubscribe("9",this.F),this.C.dispose());Zmh.prototype.Ka.call(this)};function bnh(a,b,c){this.seq=cnh++;this.type=a;this.payload=b||null;this.rseq=0;this.httpMethodHeader=c||null}var cnh=1;function dnh(a){Uo.call(this);this.C=a;this.C.Ef("recv",u(this.x$b,this),!0);this.C.Ef("recvEvt",u(this.w$b,this),!0);this.D={}}v(dnh,Zmh);m=dnh.prototype;m.x$b=function(a){var b=this.D[a.rseq];b&&(b(a.payload),delete this.D[a.rseq])};m.w$b=function(a){this.dispatchEvent(new Vgh(a.type,a.payload))};m.dKa=function(a){this.C.send("connectBrowserChannel",a.toString())};m.eKa=function(a,b,c,d,e,f,h){a=new bnh(a,b,h);c&&(this.D[a.seq]=c);this.C.send("send",a)};m.Ka=function(){dnh.Ya.Ka.call(this);delete this.C};function enh(a){A.call(this);this.F=a;this.D=this.C=null}t(enh,A);
function fnh(a){if(a.C)return a.C;var b=J4(a.F),c=b.wqa;if(void 0!==c)return c&&(a.C=new Xmh(c),a.qa(a.C)),a.C;if(b.aKa){var d=Phd();c=new nMa(new r9b,void 0,void 0,void 0,new aKa,void 0,void 0,aMa(XLa(d)));var e=b.xqa;e&&c.s7(e);var f=b.cKa;f&&wMa(c,f);b.YLa&&fKa(c.D,"anon","true");(f=b.tUa)&&fKa(c.D,"invite",f);f=null;if(b.Hba){f=new nNa;var h=b.Vg().getId();f.R=h;hKa(c.H,f);BMa(f,b.Iba,d,e)}b=new $mh(c,!0,["id",b.Iba],f,null!=b.h3?b.h3:6E4,b,d);b.qa(c);a.C=new Xmh(b);a.qa(a.C);a.qa(b);return a.C}b=
b.p0a;if(!b)throw Error("Peer missing.");c={};d=new Em(window.location.href);(e=Pm(d,"docos-tp"))&&(c.tp=parseInt(e,10));"/"==b.charAt(0)&&(b=d.resolve(new Em(b)).toString());d=Phd();b=(new Em(b)).Nb("ctoken",d).toString();c.pu=b;a.D=mp("div");a.D.style.display="none";document.body.appendChild(a.D);b=new OT(c);ite(b,a.D);b.connect();b=new Smh(b);c=eeh(a.F);b=new Ymh(b,d,c);c=new dnh(b);a.C=new Xmh(c);a.qa(a.C);a.qa(c);a.qa(b);return a.C}
enh.prototype.Ka=function(){delete this.C;this.D&&(document.body.removeChild(this.D),this.D=null);A.prototype.Ka.call(this)};function gnh(a,b){this.C=a;this.F=b}gnh.prototype[Cva]=!0;function f6(a,b,c){var d=Ra();b();b=Ra()-d;a.F.fp(c,b)}m=gnh.prototype;m.Bqa=function(a,b,c){a=u(this.C.Bqa,this.C,a,b,c);f6(this,a,"dvmhd")};m.highlightNext=function(a,b,c){a=u(this.C.highlightNext,this.C,a,b,c);f6(this,a,"dvmhn")};m.highlightPrevious=function(a,b,c){a=u(this.C.highlightPrevious,this.C,a,b,c);f6(this,a,"dvmhp")};m.VK=function(){var a=u(this.C.VK,this.C);f6(this,a,"dvmla")};
m.Mz=function(){var a=u(this.C.Mz,this.C);f6(this,a,"dvmfl")};m.FP=function(a){a=u(this.C.FP,this.C,a);f6(this,a,"dvmadv")};m.A0=function(a){a=u(this.C.A0,this.C,a);f6(this,a,"dvmudv")};m.cU=function(a){a=u(this.C.cU,this.C,a);f6(this,a,"dvmrdv")};m.xk=function(){return this.C.xk()};m.kCa=function(a){this.C.kCa(a)};m.YQ=function(){return this.C.YQ()};m.qr=function(){return this.C.qr()};m.fX=function(){return this.C.fX()};m.gX=function(){return this.C.gX()};m.oa=function(){return this.C.oa()};
m.bH=function(){return this.C.bH()};m.Tca=function(){return this.C.Tca()};m.Yka=function(a,b){return this.C.Yka(a,b)};m.mja=function(){this.C.mja()};m.kja=function(){this.C.kja()};m.jW=function(a,b){return this.C.jW(a,b)};m.tK=function(a,b){this.C.tK(a,b)};m.Qla=function(a){this.C.Qla(a)};m.Aqa=function(){return this.C.Aqa()};m.bL=function(a){this.C.bL(a)};m.Lba=function(a){return this.C.Lba(a)};m.j3=function(){return this.C.j3()};m.l3=function(a){this.C.l3(a)};m.dispose=function(){this.C.dispose()};
m.isDisposed=function(){return this.C.isDisposed()};m.listen=function(a,b,c,d){return this.C.listen(a,b,c,d)};m.Nc=function(a,b,c,d){return this.C.Nc(a,b,c,d)};m.zc=function(a,b,c,d){return this.C.zc(a,b,c,d)};m.QU=function(a){return this.C.QU(a)};m.dispatchEvent=function(a){return this.C.dispatchEvent(a)};m.UC=function(a){return this.C.UC(a)};m.vu=function(){return this.C.vu()};m.SQ=function(a,b,c){return this.C.SQ(a,b,c)};m.zL=function(a,b){return this.C.zL(a,b)};
m.$D=function(a,b,c,d){return this.C.$D(a,b,c,d)};m.hasListener=function(a,b){return this.C.hasListener(a,b)};m.DW=function(){return this.C.DW()||this.C};m.zqa=function(a){this.DW().zqa(a)};m.equals=function(a){return this===a};m.jCa=function(a){this.DW().jCa(a)};function hnh(a,b){gnh.call(this,a,b);this.D=a}t(hnh,gnh);m=hnh.prototype;m.Kba=function(a){a=u(this.D.Kba,this.D,a);f6(this,a,"davmddp")};m.i3=function(a){a=u(this.D.i3,this.D,a);f6(this,a,"davmudp")};m.UK=function(a){a=u(this.D.UK,this.D,a);f6(this,a,"davmfdp")};m.getDocoMaxHeight=function(a){return this.D.getDocoMaxHeight(a)};m.yqa=function(a,b){this.D.yqa(a,b)};function inh(a){J(this,a,0,-1,jnh,null)}v(inh,I);var jnh=[1];inh.prototype.ea=function(){var a=new E;var b=Zj(this,U4,1);0<b.length&&Hj(a,1,b,ngh);b=K(this,2);null!=b&&Cj(a,2,b);b=K(this,3);null!=b&&G(a,3,b);b=K(this,4);null!=b&&Cj(a,4,b);b=K(this,5);null!=b&&a.Ha(5,b);b=K(this,6);null!=b&&H(a,6,b);return Y(a)};function knh(a){J(this,a,"sr",-1,lnh,null)}v(knh,I);var lnh=[1];knh.prototype.ea=function(){var a=new E;var b=Zj(this,U4,1);0<b.length&&Hj(a,1,b,ngh);b=K(this,2);null!=b&&Cj(a,2,b);b=K(this,3);null!=b&&Cj(a,3,b);return Y(a)};knh.le="sr";function mnh(a,b,c){Uo.call(this);this.C=a;this.xa=b;this.V=c||null;this.Oa=new Vo(this);this.qa(this.Oa);this.H=a.get("netIo");this.O=!0;this.F="not-in-progress";this.J=!1;this.L=this.D=this.R=null;this.ma=new Lz(this);this.qa(this.ma);this.Oa.listen(this.H,"r",this.v$b).listen(this.H,"u",this.wac).listen(this.H,"e",this.ISb).listen(this.H,"p",this.JSb);this.Oa.listen(N4(a),["dd"],this.HSb).listen(N4(a),"bu",this.GSb)}t(mnh,Uo);
function nnh(a,b){switch(a.F){case "in-progress":return a.D;case "blocked":return onh(a,b),a.D;case "not-in-progress":return a.D||(a.D=new vq),a.F="in-progress",onh(a,b),a.D;default:throw Error("Invalid status: "+a.F);}}function onh(a,b){a.J?a.F="blocked":(a.F="in-progress",a.oWa(b))}function pnh(a,b,c){c=void 0===c?null:c;var d=a.D;a.D=null;a.F="not-in-progress";b?d.Sd(null):d.callback(c)}m=mnh.prototype;
m.oWa=function(a){for(var b=N4(this.C),c=akh(b),d=[],e=0;e<c.length;e++){d.push(gk(c[e].F));var f=c[e].getId();qd(b.J,f)}b=new inh;d=ck(b,1,d);this.L&&L(d,2,this.L);J4(this.C).wsa()&&(b=J4(this.C).wsa(),L(d,5,b));Ygh(this.H,"sync",d,u(this.t9b,this),u(this.s9b,this),!1,a?a:void 0)};m.s9b=function(){this.O=!1;pnh(this,!0)};m.ISb=function(){this.dispatchEvent("net-error")};m.JSb=function(){this.dispatchEvent("post-limit-error")};
m.t9b=function(a){a=new knh(a);var b=this.O;this.O=!1;var c=Ra();if(b){var d=g6(this.xa,"model-loaded");if(d){var e=(new F4("model-loaded")).build();d(e)}}d=N4(this.C);try{if(qnh(this,a,b),this.L=K(a,2),ckh(d))cq(u(this.oWa,this));else{var f=Ra()-c;pnh(this,!1,b?f:void 0);this.V&&this.V.fp("dscat",f)}}catch(h){throw cq(function(){throw h;}),h;}};
function qnh(a,b,c){var d=N4(a.C),e=Zjh(d),f=Zj(b,U4,1);b=0<f.length;var h=N4(a.C),k=[];f=ja(f);for(var l=f.next();!l.done;l=f.next()){l=gk(l.value);var n=T4(l),q=Ujh(h,n.getId(),K(n,11));n=!0;if(q)a:{var r=a,w=N4(r.C);n=T4(l);delete e[q.getId()];var x=q.getId();if(kd(w.J,x))n=!1;else{x=q.getId();if(x=kd(w.Ma,x)){if(q.Oq()){rnh(r,q);n=!1;break a}r=q.getId();qd(w.Ma,r)}L(l,9,!1);L(n,12,!1);void 0===K(n,13)&&L(n,13,0);q=je(q.D);w=ja(R4(n));for(r=w.next();!r.done;r=w.next())r=r.value,L(r,12,!1),void 0===
K(r,13)&&L(r,13,0),delete q[r.getId()||""],delete q[K(r,11)||""];w=[];r=ja(Object.keys(q));for(x=r.next();!x.done;x=r.next())w.push(snh(gk(q[x.value].C)));q=R4(n);ck(n,8,sd(q,w));n=!0}}n&&k.push(new tgh(l))}Qgh(h,k,"n");h=ja(akh(d));for(k=h.next();!k.done;k=h.next())k=k.value,k.Oq()&&void 0===k.C.C.getId()&&rnh(a,k);if(c){h=ja(Object.keys(e));for(k=h.next();!k.done;k=h.next())k=e[k.value],rgh(k)||void 0===k.C.C.getId()&&!k.Oq()||(b=!0,k=gk(k.F),T4(k),f=T4(k),ck(f,8,[]),l=Ra(),L(f,13,l),L(f,12,!1),
L(k,9,!1),r5(d,new tgh(k),"n"));if(J4(a.C).eH()&&(a=N4(a.C),e=a.L.Yj)){h=Zjh(a);for(var F in h){k=h[F];f=[];if(l=k)l=k.isResolved(),n=k.Uj()&&!!sgh(k),l=!(l||n);if(l){if(l=k.Ku())l=k.Ku().getTime()>e;if(l)f.push(F),f.push.apply(f,ka(Object.keys(je(k.D)))),bkh(a,F,f);else{l=l5(k);for(n=0;n<l.length;n++){q=l[n].getId();if(w=a5(k,q))w=a5(k,q).Ku().getTime()>e;w&&f.push(q)}0!=f.length&&bkh(a,F,f)}}}Yjh(a)}}b&&d.flush(c)}
function rnh(a,b){a=N4(a.C);var c=gk(b.F),d=T4(c);L(c,9,!1);L(d,12,!1);b=b.getId();qd(a.J,b);r5(a,new tgh(c),"n")}function snh(a){var b=Ra();L(a,13,b);L(a,12,!1);return a}m.v$b=function(){var a=12E4*Math.random();null!==this.R&&dq(this.R);this.R=cq(function(){nnh(this,J4(this.C).bga?1:void 0)},a,this)};
m.wac=function(a){if(a.ym){var b=a.ym;a=N4(this.C);var c=0;b=Zj(b,U4,1);b=ja(b);for(var d=b.next();!d.done;d=b.next()){d=gk(d.value);var e=T4(d);e=Ujh(a,e.getId(),K(e,11));e&&e.rS()||(r5(a,new tgh(d),"n"),c++)}0<c&&N4(this.C).flush()}};m.HSb=function(a){"n"!=a.getSource()&&Tjh(N4(this.C))&&nnh(this)};m.GSb=function(a){"n"!=a.source&&Tjh(N4(this.C))&&nnh(this)};m.Ka=function(){Uo.prototype.Ka.call(this);delete this.C;delete this.Oa;delete this.ma};function tnh(a,b,c){A.call(this);this.H=a;this.D=b;this.F=c;this.Oa=new Vo(this);this.qa(this.Oa);this.C=null;this.O=!1;this.J=null}t(tnh,A);function unh(a){if(!Vch(a.H,"netIo"))return!1;a.C=new mnh(a.H,a.F,a.D.R||void 0);a.qa(a.C);a.Oa.listen(a.C,"net-error",a.V);a.Oa.listen(a.C,"post-limit-error",a.R);return!0}tnh.prototype.V=function(){vnh(this.F,"fe")};tnh.prototype.R=function(){vnh(this.F,"p")};function wnh(a){a.O=!0;a.J=Ra();yq(nnh(a.C,a.D.rD?1:void 0).addCallback(a.L,a),a.ma,a)}
function xnh(a){if(Pfh(a.D)){var b=a.C.D;b?b.addCallback(function(){return ynh(a)}):ynh(a)}}tnh.prototype.L=function(a){var b=this.D.R;b&&b.HCa($jh(N4(this.H)).C.clone().sb());if(b=g6(this.F,"sync-success")){var c=(new F4("sync-success")).build();b(c)}(b=g6(this.F,"initial-anchored-render-done"))&&null!==a&&b(new Sdh("initial-anchored-render-done",a));(a=g6(this.F,"initial-sync-and-render-complete"))&&a(new Sdh("initial-sync-and-render-complete",Ra()-this.J));vnh(this.F,"s");vnh(this.F,"r")};
tnh.prototype.ma=function(){var a=g6(this.F,"sync-error");if(a){var b=(new F4("sync-error")).build();a(b)}vnh(this.F,"e")};function ynh(a){a.C.L=null;nnh(a.C,a.D.bga?1:void 0)};function znh(){}znh.prototype.C=function(a,b){return b?b.X1?["Action item created"]:["Comment created"]:[]};znh.prototype.D=ea(0);function Anh(){}Anh.prototype.C=function(){return["Reply added"]};Anh.prototype.D=ea(0);function Bnh(a){var b=a.Cab,c=a.gPb,d=a.r7b;a=S;var e='<div class="'+T("docos-notificationdialog-content")+'">',f='<div class="'+T("docos-notificationdialog-header")+'">';f=f+'Send notifications for:</div><div><input type="radio" name="docos-notificationdialog-notify" value="all" id="'+(T(b)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(b)+'" class="'+T("docos-notificationdialog-label")+'">');f=f+'All comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="important" id="'+
(T(c)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(c)+'" class="'+T("docos-notificationdialog-label")+'">');f=f+'Only mentions and replies to my comments</label></div><div><input type="radio" name="docos-notificationdialog-notify" value="none" id="'+(T(d)+'" class="'+T("docos-notificationdialog-control")+'"/><label for="'+T(d)+'" class="'+T("docos-notificationdialog-label")+'">');b=S(f+"Nothing</label></div>");b=e+b;c='<a class="'+T("docos-notificationdialog-help")+'" href="https://support.google.com/docs?p=comments_guide" target="_blank">';
c=S(c+"Help</a>");return a(b+c+"</div>")};function Cnh(a){UV.call(this);this.V=a;this.Ja=J4(a);this.C=[];this.ma=this.R=this.O=null;this.setTitle("Notification settings")}t(Cnh,UV);m=Cnh.prototype;
m.Ca=function(){UV.prototype.Ca.call(this);vx(Ox(this),"docos");var a=Pa(Ox(this));this.O="docos-notificationdialog-all"+a;this.R="docos-notificationdialog-important"+a;this.ma="docos-notificationdialog-none"+a;dy(this.wb(),Bnh,{Cab:this.O,gPb:this.R,r7b:this.ma});cy(this,"ok");a=this.Ja.cb;null!==a&&(gw(this.Iq(),"z-index",a),gw(Ox(this),"z-index",a+1))};
m.Ia=function(){UV.prototype.Ia.call(this);var a=this.oa();this.F=a.getElement(this.O);this.F.value="all";this.H=a.getElement(this.R);this.H.value="important";this.L=a.getElement(this.ma);this.L.value="none";this.C=[this.F,this.H,this.L];this.xa=Ux(this.D,"ok");No(this.F,"click",u(this.lEa,this));No(this.H,"click",u(this.lEa,this));No(this.L,"click",u(this.lEa,this))};
m.update=function(){this.xa.disabled=!0;Dnh(lhh(this.V)).then(function(a){for(var b=ja(this.C),c=b.next();!c.done;c=b.next())if(c=c.value,c.value==a){c.checked=!0;break}},void 0,this)};m.QBa=function(){for(var a=null,b=0;b<this.C.length;b++)if(this.C[b].checked){a=this.C[b].value;break}Enh(lhh(this.V),a)};m.lEa=function(){var a=this;Dnh(lhh(this.V)).then(function(b){for(var c=!0,d=ja(a.C),e=d.next();!e.done;e=d.next())if(e=e.value,e.value==b&&e.checked){c=!1;break}a.xa.disabled=!c},void 0,this)};
m.xd=function(){To(this.F);To(this.H);To(this.L)};m.Ka=function(){UV.prototype.Ka.call(this);delete this.xa;delete this.F;delete this.H;delete this.L};function Fnh(a,b,c){this.key=a;this.data=b;this.dirty=c;this.key=this.key;this.data=this.data;this.dirty=this.dirty}ta("docos.api.StorageUpdate",Fnh,void 0);function Gnh(a,b){if(a){b||a.unshift(void 0);Hnh(a[2],b);var c=a[5];c&&(b||c.unshift(void 0),Inh(c[2],b),Gnh(c[3],b),b&&c.shift());b&&a.shift()}}function Inh(a,b){a&&(b?a.shift():a.unshift(void 0))}
function Hnh(a,b){if(a){b||a.unshift(void 0);Inh(a[3],b);Inh(a[4],b);var c=a[5];c&&(b?c.shift():c.unshift(void 0));if(c=a[14]){b||c.unshift(void 0);var d=c[3];d&&(b?d.shift():d.unshift(void 0));(d=c[7])&&(b?d.shift():d.unshift(void 0));b&&c.shift()}if(a[8])for(c=0;c<a[8].length;c++)Hnh(a[8][c],b);(c=a[9])&&(b?c.shift():c.unshift(void 0));if(c=a[18])b||c.unshift(void 0),(d=c[1])&&(b?d.shift():d.unshift(void 0)),b&&c.shift();(c=a[19])&&(b?c.shift():c.unshift(void 0));b&&a.shift()}};function Jnh(a){A.call(this);this.D=a;this.C=J4(a).Ob;this.H=[];this.F=[];J4(a).vd||(this.Oa=new Vo(this),this.qa(this.Oa),this.Oa.listen(N4(a),["f","dd"],this.Sfb).listen(N4(a),"bu",this.Rfb))}v(Jnh,A);m=Jnh.prototype;m.Sfb=function(a){if("o"!=a.getSource()&&this.C)if("f"==a.type){if(this.H.length||this.F.length){a=td(this.H);var b=td(this.F);this.C.j6a(a,b,u(this.JNb,this,a),u(this.HNb,this,b));this.H=[];this.F=[]}}else Knh(this,a.type,a.C,a.L)};
m.Rfb=function(a){if("o"!=a.source&&this.C)for(var b=ja(a.C),c=b.next();!c.done;c=b.next())c=c.value,Knh(this,a.type,c.bk,c.C)};function Knh(a,b,c,d){if(c){var e;"bu"==b?e=N4(a.D).fd(c):e=N4(a.D).F[c];(b=e)&&b.Oq()&&void 0===b.C.C.getId()?a.F.push(c):b&&!rgh(b)&&(e=gk(b.F).Pf(),e=ke(e),Gnh(e,!1),b=new Fnh(c,e,b.rS()),a.H.push(b),d&&d!=c&&a.F.push(d))}}m.JNb=function(a){for(var b=0;b<a.length;b++);};
m.HNb=function(a,b,c){for(var d="",e=0;e<a.length;e++)d+="Put failure for docoId: "+a[e]+".\n";b&&(d+="Error message: "+b);Lnh(this,d,c)};m.rAb=function(a,b){if(0<b.length){for(var c=N4(this.D),d=0;d<b.length;d++){Ea(b[d]);var e=ke(b[d]);Gnh(e,!0);e=new U4(e);r5(c,new tgh(e),"o")}c.flush(!0)}a()};m.qAb=function(a,b,c){var d="#inSync failure";b&&(d+=", message: "+b);Lnh(this,d,c);a()};
function Lnh(a,b,c){if(a=eeh(a.D))c&&void 0!==c.message?(c.message=b+"  Original message: "+c.message,a.C(c)):a.C(Error(b))}m.Ka=function(){Jnh.Ya.Ka.call(this);delete this.D;delete this.Oa;delete this.C};function Mnh(a,b){var c=new csf(new Rrf([["AIzaSyBuUpn1wi2-0JpM3S-tq2csYx0z2_m_pqc","ANVavNLWozk6oXyP9qguyx4QAuef5j_qQw4Y3Rw",741,"MINIMAL_DOMAIN_GROUP","DOCOS_MENTIONS",null,null,null,null,!1,!0,null,null,250,null,"person.name,person.photo,person.email,person.metadata"],[]]));esf(c,b);b=c.D;a=null!=K(a.dh,50)?K(a.dh,50):4;L(b,5,Nnh(a));return uvf(c)}function Nnh(a){switch(a){case 4:return 1;case 2:return 2;case 1:return 3;case 7:return 4;default:return 1}};function Onh(a,b){this.F=a;this.D=b;this.H=J4(this.D);this.C=null};function Pnh(a){this.F=a}Pnh.prototype.C=function(a,b){if(!b)return[];a=b.D;return(b=this.F.fd(b.C))?L4(b)?a?["Marked as done"]:["Action item reopened"]:a?["Comment resolved"]:["Comment re-opened"]:[]};Pnh.prototype.D=ea(0);function Qnh(a,b){this.F=a;this.H=N4(this.F);this.J=b}Qnh.prototype.C=function(a,b){var c=this.H.fd(b);if(!c)return[];a=this.F.get("relativeDateFormatter");if(c.hx())return["Draft comment"];b=[];c=l5(c,!0);for(var d=c.length-1,e=0;e<c.length;e++){var f=c[e];if(f.Uj()){var h=this.J;var k=f.L4();null==k?h="":(h=h(k).C(),h=null==h?"":cBd(h,SAd.getInstance()))}else h=f.Yx();k=h;h="";0<e&&(h="Reply "+(e+(" of "+(d+" "))));f=k+(" by "+(H4(f.jx())+(" on "+a.format(pfh(f)))));b.push(h+f)}return b};
Qnh.prototype.D=ea(0);function Rnh(a){this.vfc=a;return this}t(Rnh,y4);Rnh.prototype.shouldOverrideHide=g("vfc");Rnh.prototype.shouldOverrideHide=Rnh.prototype.shouldOverrideHide;function Snh(a){this.C=a}v(Snh,y4);ta("docos.api.ToggleShowStreamPaneArgs",Snh,void 0);Snh.prototype.getDisplay=g("C");Snh.prototype.getDisplay=Snh.prototype.getDisplay;function Tnh(a){oA.call(this,a);this.xj("back-to-document",[85]);this.xj("next-doco",[74]);this.xj("prev-doco",[75]);this.xj("prev-anch",[75,1]);this.xj("next-anch",[74,1]);this.xj("resolve",[69]);this.xj("reopen",[69,1]);this.xj("reply",[82]);this.xj("speak-comment",st(["A","C"]));this.addEventListener("shortcut",this.Ea)}t(Tnh,oA);Tnh.prototype.Ea=function(a){this.dispatchEvent(a.identifier)};function Unh(a,b){var c=a.RK,d=a.f7b,e=a.Gbb,f=a.Fbb,h=a.Bo,k=a.z3,l='<div class="'+T("docos")+" "+T("docos-streampane-container")+'" role="dialog" aria-label="';l+=bx("Comment history box.");var n='"><div class="'+T("docos-streampane-content")+'">';d?(b='<div class="'+T("docos-streampane-header")+'"><div class="'+T("docos-new-comment-button")+'">',a=a={Bo:h},d="",a.Bo?(d+='<div class="'+T("docos-ns-caption")+'">'+S('<svg class="'+T("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H4V4h16v12zm-9-5H7V9h4V5h2v4h4v2h-4v4h-2v-4z" id="docos_add_comment_24"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(-2 -2)"><mask fill="#fff"><use xlink:href="#docos_add_comment_24"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-new-comment-icon-path" xlink:href="#docos_add_comment_24"/></g></g></svg>')+
'<div class="'+T("docos-ns-caption-text")+'">',d+="Comment</div></div>"):(d+='<div class="'+T("docs-material")+'">'+R(Wdh({Ri:"docos-icon-add-comment",dC:"docos-icon-add-comment-size",Ee:"docos-new-comment-icon",uS:!0})),d+="Comment</div>"),a=S(d),b=b+R(a)+"</div>",c?(c='<div class="'+T("docos-notification-settings")+'">',h=h={Bo:h},h=h.Bo,h=S('<div class="'+T("docos-ns-caption")+'">'+(h?S('<svg class="'+T("docos-ns-caption-icon")+'" width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path d="M12 11V7.16666667c0-2.55833334-.6083333-4.7-3-5.26666667l-.75-.56666667C8.25.64166667 7.69166667 0 7 0S5.75.64166667 5.75 1.33333333L5 1.9c-2.38333333.56666667-3 2.7-3 5.26666667V11H0v2h14v-2h-2zm-2 0H4V7.16666667C4 5.1 4.925 3 7 3s3 2.1 3 4.16666667V11zm-3 5c.91666667 0 2-1.0833333 2-2H5c0 .9166667 1.08333333 2 2 2z" id="docos_notifications_20_a"/></defs><g fill="none" fill-rule="evenodd"><g transform="translate(3 2)"><mask fill="#fff"><use xlink:href="#docos_notifications_20_a"/></mask><use fill="#000000" fill-rule="nonzero" class="docos-gm-notification-icon-path" xlink:href="#docos_notifications_20_a"/></g></g></svg>'):
R(Wdh({Ri:"docos-icon-bell",dC:"docos-icon-bell-size",Ee:"docos-ns-caption-icon"})))+'<div class="'+T("docos-ns-caption-text")+'"><div class="'+T("docos-ns-caption-text-value")+'"></div></div></div>'),h=c+R(h)+"</div>"):h="",k=b+h+(k?'<div class="'+T("docos-priority-checkbox")+'"></div>':"")+"</div>"):(h=a.qD,k=a.RK,c=a.eD,a=a.Dv,h='<div class="'+T("docos-streampane-entryarea")+" "+T("hide-on-readonly")+'">'+R(Xdh({size:48,Ee:"docos-streampane-avatar"}))+'<div class="'+T("docos-streampane-entryarea-content")+
'"><div class="'+T("docos-streampane-username")+" "+T("goog-inline-block")+'">'+R(h)+"</div>"+R(vhh({Ee:"docos-streampane-input-pane",Bgc:!0,eD:c,Dv:a},b)),k&&(h+='<div class="'+T("docos-streampane-notificationslink")+'">',h+="Notification settings</div>"),k=S(h+"</div></div>"));l+=n+k;e&&(l+='<div class="'+T("docos-streampane-bannertext")+'">'+R(e),f&&(l+='<a target="_blank" rel="noreferrer" href="'+T(cx(f))+'" class="'+T("docos-streampane-bannerlink")+'">',l+="Learn more</a>"),l+="</div>");l+='<div class="'+
T("docos-streampane-readonlytext")+" "+T("show-on-readonly")+" "+T("goog-inline-block")+'">';return S(l+"You do not have permission to add comments.</div></div></div>")}function Vnh(a){a=a.message;return S('<div class="'+T("docos-streampane-error")+'">'+R(a)+"</div>")};function Wnh(){return S('<div class="'+T("docos-spinner")+'" dir="ltr"><div class="'+T("docos-quantum-spinner")+" "+T("active")+'">'+Xnh({jr:"spinner-blue"})+Xnh({jr:"spinner-red"})+Xnh({jr:"spinner-yellow"})+Xnh({jr:"spinner-green"})+"</div></div>")}
function Xnh(a){a=a.jr;return S('<div class="'+T("spinner-layer")+" "+T(a)+'"><div class="'+T("spinner-circle-clipper")+" "+T("spinner-left")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div><div class="'+T("spinner-gap-patch")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div><div class="'+T("spinner-circle-clipper")+" "+T("spinner-right")+'"><div class="'+T("spinner-circle")+" "+T("spinner-fit")+'"></div></div></div>')};function Ynh(a,b){I4.call(this,a,b);this.D=null}t(Ynh,I4);Ynh.prototype.Ca=function(){var a=this.oa();this.D=fy(Wnh,{},void 0,a);this.pb(this.D)};Ynh.prototype.hf=function(){this.D.parentElement.removeChild(this.D)};Ynh.prototype.Ka=function(){delete this.D};function Znh(a,b){Vo.call(this);this.O=a;this.C=b;this.D=0;this.F=this.H=!1;this.J=P4(this.O);this.Kg=null;this.R=new oA(this.C.oa().Hb());this.R.xj("blur",27);this.V=new Lz(this);this.qa(this.V);this.V.yb(this.J.Ta("docos-new-doco"),ft,this.xSb).yb(this.J.Ta("docos-highlight-doco"),ft,this.wSb);this.listen(this.C,"bd",this.vSb).listen(this.C,"br",this.ySb)}t(Znh,Vo);
function $nh(a){0==a.D&&0<a.C.mc()&&(a.D=aoh(a,0));if(0!=a.D){for(var b=0,c=0;c<a.C.mc();c++)aoh(a,c)==a.D&&(b=c);boh(a);h6(a.C,!1);b=a.C.Ac(b).getId();b=new Ldh(b,a.C.getId());a.J.Bf("docos-before-highlight-doco").qb(b);a.J.Bf("docos-highlight-doco").qb(b)}}function boh(a){a.Kg||(a.Kg=new Fx(a.C.oa().Hb()),a.qa(a.Kg));a.listen(a.Kg,"focusin",a.G_a).listen(a.R,"shortcut",a.CQa)}m=Znh.prototype;
m.G_a=function(a){this.C.oa().contains(this.C.getElement(),a.target)||this.C.getElement().nextSibling==a.target||(this.H=this.F=!1,coh(this,!0),h6(this.C,!0),this.zc(this.Kg,"focusin",this.G_a).zc(this.R,"shortcut",this.CQa),a=A4(),this.J.Bf("docos-before-highlight-doco").qb(a),this.J.Bf("docos-highlight-doco").qb(a))};m.CQa=function(){h6(this.C,!1);coh(this,!1)};
m.wSb=function(a){var b=a.data;if(a=b.C)if(a=this.C.Fc(a)){if(this.D=p5(N4(this.O),b.C),b.D==this.C.getId()){boh(this);coh(this,!1);a instanceof olh&&(a.Jh(!0),tlh(a,!0));h6(this.C,!1);if(0!=this.D&&this.H&&!this.F&&a instanceof olh)a:if(flh(a),a.D)a.D.ready(void 0,void 0,!0),a.D.V.focus();else{b=l5(a.fd(),!1);for(var c=b.length-1;0<=c;c--)if(alh(a.H[b[c].getId()]))break a;alh(a.F)||a.focus()}else a.focus();this.H=this.F=!1}}else this.H=this.F=!1;else this.H=this.F=!1,h6(this.C,!0),coh(this,!0)};
m.xSb=function(a){a=a.data;var b=s5(N4(this.O),a.Xp);if(b){for(var c=0;c<this.C.mc();c++)if(b.getId()==this.C.Ac(c).getId()){this.D=a.Xp;break}this.F=!0;h6(this.C,!1,!0);coh(this,!1)}};m.vSb=function(){doh(this)};m.ySb=function(){N4(this.O).xa||doh(this)};function doh(a){if(1==a.C.mc())a.D=0,h6(a.C,!1);else{for(var b=0,c=0;c<a.C.mc();c++)if(aoh(a,c)==a.D){b=c;break}b==a.C.mc()-1?b--:b++;a.D=aoh(a,b);a.F=!0;h6(a.C,!1,!0);coh(a,!1)}}
function coh(a,b){for(var c=J9a(a.C),d=0;d<c.length;d++){var e=a.C.Fc(c[d]);e instanceof olh&&(e.Jh(b),tlh(e,b))}}function aoh(a,b){return p5(N4(a.O),a.C.Ac(b).getId())};function eoh(a,b,c,d){this.D=a;this.H=b;this.C=c||null;this.F=d||null};function foh(a,b,c,d){I4.call(this,a,d);this.Ja=c;this.context=a;this.D=b;this.D.kCa(this);this.O={};this.J=[];this.H=[];this.Ba=!1;this.ma=this.F=this.R=null;this.xa=new Lz(this);this.qa(this.xa);a=N4(this.context);this.getHandler().listen(a,"bu",this.Y7b).listen(a,"dd",this.A8b).listen(a,"f",this.Z8b).listen(a,"sd",this.E$b).listen(a,"ud",this.tac).listen(b,"rv",this.Icc).listen(this,"ra",this.p$b).listen(this,"sd",this.V$b).listen(this,"sr",this.W$b).listen(this,"sn",this.F$b).listen(this,"sp",
this.G$b).listen(this,"bd",this.Z7b).listen(this,"ar",this.L7b).listen(this,"ph",this.r9b);geh(this)}v(foh,I4);m=foh.prototype;
m.Ia=function(){foh.Ya.Ia.call(this);wz(this.getElement(),"docos");wx(this.getElement(),["docos","docos-stream-view"]);mx(this.getElement(),"list");Qfh(this.C)?vx(this.getElement(),"docos-stream-view-height"):(vx(this.getElement(),"docos-stream-view-legacy"),vx(this.getElement(),"docos-stream-view-height-legacy"));"legacy"!=this.C.F&&vx(this.getElement(),"docs-gm");wx(this.wb(),this.D.YQ());this.getHandler().listen(this,"rd",this.Yfb);var a=P4(this.context);this.xa.yb(a.Ta("docos-highlight-doco"),
ft,this.pja);J4(this.context).rb&&ux(this.getElement(),"docos-layout-vertical")&&(this.R=new Znh(this.context,this),this.F=this.ib.createElement("DIV"),vx(this.F,"docos-tab-sentinel"),this.getHandler().listen(this.getElement(),"focus",this.Ry).listen(this.F,"focus",this.I$b),goh(this).appendChild(this.F),this.ma=new nB);this.xGa()};m.fKa=ea(!0);m.$aa=function(){this.D.VK();hoh(this);this.D.bL(!0);this.dispatchEvent("ail")};m.Ry=function(){$nh(this.R)};m.I$b=function(){var a=this.R;a.H=!0;$nh(a)};
m.xGa=function(){var a=N4(this.context);if(Wd(a.C)){this.D.bL(!1);a=je(a.C);for(var b in a)ioh(this,b);this.D.tK();this.$aa()}};m.fB=function(a,b){for(var c=this.mc()-1;0<=c;--c){var d=this.Ac(c);a&&!a[d.getId()]||!b&&!d.isVisible()||d.fB()}};
m.pja=function(a){var b=a.data;a=b.C;var c=b.D;b=b.H;if(!this.context.V&&this.D.Yka(a,c)){if(this.ma&&a&&this.D.qr()!=a){var d=this.mc();d="Comment "+(Qw(this,this.Fc(a))+1+(" of "+(d+" ")));oB(this.ma,d)}this.dispatchEvent("us");this.D.Bqa(a,c,b);hoh(this);this.dispatchEvent("ud")}};m.Y7b=function(a){a=ja(a.C);for(var b=a.next();!b.done;b=a.next()){var c=b.value;b=c.bk;c=c.C;b&&(N4(this.context).fd(b),(c=this.Fc(b)||c&&this.Fc(c))?(c.getId()!=b&&c.Hc(b),this.J.push(b)):this.O[b]=!0)}};m.A8b=function(a){this.H.push(a.C)};
function hoh(a){a.Ba||a.D.Mz()}m.Z8b=function(a){this.D.bL(!a.F);this.Ba=!0;for(var b=0;b<this.H.length;++b)joh(this,this.H[b]);for(var c in this.O)ioh(this,c);ce(this.O)||this.D.tK();for(b=0;b<this.J.length;++b)koh(this,this.J[b]);this.O={};this.J.length=0;this.H.length=0;a.F&&this.D.VK();this.D.Mz();this.Ba=!1;this.D.bL(!0)};m.Yfb=function(a){this.Fc(a.bk)&&(this.D.A0(a.bk),hoh(this))};m.E$b=function(a){a.C&&this.Fc(a.C)&&this.D.Qla(a.C)};m.tac=function(a){a.C&&this.Fc(a.C)&&this.D.Qla(a.C)};
m.p$b=function(a){var b=N4(this.context).fd(a.bk);if(a=J4(this.context).H.reanchor)b=k5(b),b=Rdh("reanchor").addAnchorId(b).build(),a(b),this.context.V=!0};m.V$b=function(a){var b={text:a.C,wn:a.wn,Xp:a.Xp,ggb:a.wn,X1:a.X1};a.wn&&J4(this.context).Pc&&(b.quote=(0,J4(this.context).Pc)(a.wn));a.wn&&J4(this.context).Sa&&(b.wn=(0,J4(this.context).Sa)(a.wn));0==a.Lk&&(b.yf=105);P4(this.context).Bf("docos-new-doco").qb(b)};
m.W$b=function(a){var b=N4(this.context).fd(a.bk);if(!b)throw Error(a.bk+" not contained within appropriate stream.");var c=P4(this.context),d=0==a.Lk?105:null;b.isResolved()?c.Bf("docos-resolve-doco").qb(new heh(a.bk,!1,a.C,d)):c.Bf("docos-new-reply").qb(new eoh(a.bk,a.C,a.X1,d))};m.F$b=function(){this.D.highlightNext()};m.G$b=function(){this.D.highlightPrevious()};m.Z7b=function(){this.D.mja()};m.L7b=function(){this.D.kja()};
function ioh(a,b){var c=N4(a.context).fd(b);c&&a.Ja(c)&&!a.Fc(b)&&(a.dispatchEvent("us"),a.D.FP(c),a.dispatchEvent("ud"),a.R&&h6(a,!0))}function koh(a,b){a.dispatchEvent("us");var c=a.Fc(b);if(c){var d=N4(a.context).fd(b);d&&a.Ja(d)?(c.update(),a.D.A0(b)):joh(a,b)}a.dispatchEvent("ud")}function joh(a,b){b&&(a.dispatchEvent("us"),a.D.cU(b),a.dispatchEvent("ud"))}m.Icc=function(a){for(var b=a.$Ja.length,c=0;c<b;++c)joh(this,a.$Ja[c])};m.j8=function(){for(var a=this.mc(),b=0;b<a;++b)this.Ac(b).j8()};
function goh(a){return(a=a.getElement())?a.parentElement:null}function h6(a,b,c){if(!b&&!c||0!=a.mc())a.oa().Ti(a.getElement(),b),a.F&&(b=null!=c?c:b,a.oa().Ti(a.F,b))}m.Ka=function(){foh.Ya.Ka.call(this);delete this.xa};m.r9b=function(){var a=this.D.gX();null==a||a.isDisposed()||(a.update(),a.focus())};function loh(a){A.call(this);this.C=[];this.D=!1;this.F=new Gq;this.H=a?!1:!0}t(loh,A);loh.prototype.start=function(){this.H=!0;moh(this)};function moh(a){!a.H||a.D||0>=a.C.length||(a.D=!0,a.F.Sk(u(a.J,a)))}loh.prototype.J=function(){this.C.shift()();this.D=!1;moh(this)};loh.prototype.Ka=function(){this.F.dispose();A.prototype.Ka.call(this)};function noh(a,b,c,d){foh.call(this,a,b,c,d);this.Qa=new loh;this.L=[];this.Ma=new Ynh(a,d);this.Ea=!1;this.V=null}v(noh,foh);m=noh.prototype;m.fKa=g("Ea");m.$aa=function(){noh.Ya.$aa.call(this);this.Ma.hf();this.Ea=!0;this.V&&this.pja(this.V)};m.BGa=function(){for(var a=0;0<this.L.length&&50>a;){var b=this.L.shift();this.Fc(b)||(ioh(this,b),a++)}0==this.L.length?this.$aa():(a=this.Qa,b=u(this.BGa,this),a.C.push(b),moh(a))};
m.xGa=function(){var a=N4(this.context);if(Wd(a.C)){this.Ma.render(goh(this));this.D.bL(!1);a=je(a.C);for(var b in a)this.L.push(b);b=this.Qa;a=u(this.BGa,this);b.C.push(a);moh(b)}};m.pja=function(a){this.Ea?noh.Ya.pja.call(this,a):this.V=a};function ooh(a,b,c,d,e){W5.call(this,a,b,c,d,e);c=["edit","delete","reanchor","resolve"];J4(a).Lc&&(c=c.concat(["link"]));this.L=new Xfh(a,b,d,"docos-actionmenu",c);this.Ga(this.L);this.Ga(this.F);flh(this);this.Ja+=" docos-streamdocoview-input-pane";this.Ob="Discard reply";this.Ba=this.V=this.Ma=this.Va=this.Ra=this.Ea=null}t(ooh,W5);m=ooh.prototype;
m.Ca=function(){W5.prototype.Ca.call(this);var a=this.oa(),b=this.getElement();this.Ea=a.eb("docos-streamdocoview-inputcontainer",b);this.Ra=a.eb("docos-streamdocoview-reopen-control",b);this.Va=a.eb("docos-streamdocoview-resolve-control",b);this.L.Wa(a.eb("docos-actionmenu-outer",b));rx(this.L.F.La(),"More options");this.Ma=a.eb("docos-author",b);this.V=pV(a,"IMG","docos-streamdocoview-avatar",b);this.Ba=pV(a,"IMG","docos-streamreplyview-avatar",this.Ea);a=this.oa();b=this.getElement();var c=a.eb("docos-docoview-comment",
b);c&&(J4(this.getContext()).C.C(c,"Reply to this comment"),rx(c,"Reply to this comment"));if(c=a.eb("docos-docoview-resolve",b))J4(this.getContext()).C.C(c,"Mark as resolved and hide discussion"),rx(c,"Mark as resolved and hide discussion");if(a=a.eb("docos-docoview-reopen",b))J4(this.getContext()).C.C(a,"Mark as open and return discussion to the document view"),rx(a,"Mark as open and return discussion to the document view")};
m.Ia=function(){W5.prototype.Ia.call(this);poh(this);var a=this.getElement();this.D.Ba=a;K4(K4(K4(K4(this,this.L,"d",this.T3a),this.L,"e",this.K8b),this.L,"r",this.A$b),this.L,"ra",this.r$b);a=this.fd().jx();qoh(this,a);roh(this,a);a=J4(this.getContext()).Vg();keh(M4(this.getContext()),this.Ba,a.D,H4(a));(!this.C.V||a.C)&&(a=a.getName())&&this.Ba&&this.C.C.C(this.Ba,a)};m.Hc=function(a){W5.prototype.Hc.call(this,a);this.L&&Zfh(this.L,a)};m.Lk=ea(!1);
m.update=function(){W5.prototype.update.call(this);var a=this.fd().jx();qoh(this,a);roh(this,a);this.L.update();poh(this);this.Ea&&(a=!ce(this.H)||Q5(this.D)||this.ql(),P(this.Ea,a))};function qoh(a,b){var c=M4(a.getContext()),d=b.D;a.V&&ukh(b,a.fd().getOrigin())&&(d=ehh(c),a.V.classList.add("docos-avatar-unverified"),a.C.C.C(a.V,"Author from imported document"));keh(c,a.V,d,H4(b))}function roh(a,b){var c=b.getName();!c||a.C.V&&!b.C||(a.Ma&&a.C.C.C(a.Ma,c),a.V&&a.C.C.C(a.V,c))}
function poh(a){var b=a.fd();a.Ra&&P(a.Ra,b.isResolved());a.Va&&P(a.Va,!b.isResolved())}m.s_a=function(a){var b=this.getElement();a=a.target;ux(a,"docos-docoview-comment")&&b?this.D.ready():ux(a,"docos-docoview-resolve")&&b?soh(this):ux(a,"docos-docoview-reopen")&&b&&mlh(this)};m.K8b=function(){Ykh(this.F)};m.A$b=function(){this.fd().isResolved()?mlh(this):soh(this)};m.r$b=function(a){this.dispatchEvent(new zhh("ra",this.fd().getId()));a.stopPropagation()};
function soh(a){var b=P4(a.getContext());a.dispatchEvent("br");var c=new heh(a.getId(),!0,Q5(a.D)?a.D.getValue():null,105);b.Bf("docos-resolve-doco").qb(c);a.dispatchEvent("ar")}m.j8=function(){var a=this.F;a.Fb&&!a.H.ql()||Tkh(a)};m.xd=function(){W5.prototype.xd.call(this);var a=M4(this.getContext());O4(a,this.V);O4(a,this.Ba)};m.Ka=function(){W5.prototype.Ka.call(this);delete this.L;delete this.Ma;delete this.V;delete this.Ba;delete this.Ea;delete this.Ra;delete this.Va};function toh(a,b,c,d){this.C=a;this.H=b;this.gb=c;this.D=d}toh.prototype.F=function(a){a=N4(this.C).fd(a);var b=this.H.xk().getId();switch(a.getNewDocoType()){case "draft":return new Alh(this.C,a.getId(),b,k5(a),this.gb,this.D);default:return new ooh(this.C,a.getId(),b,this.gb,this.D)}};function uoh(a,b){Y5.call(this,a,b)}v(uoh,Y5);m=uoh.prototype;m.N4=function(){return"none"!=J4(this.getContext()).fb};m.Ppa=function(a){return(new toh(this.getContext(),this,this.oa(),this)).F(a.getId())};
m.jW=function(a,b){a=a.fd();b=b.fd();if(!a||!b)throw Error("Doco view missing doco.");var c=Z5(this).fb;Z5(this).Vg().getEmail();switch(c){case "creation":c=b.Ku().getTime()-a.Ku().getTime();break;case "priority":c=a.isResolved()||a.Uj()&&!!sgh(a);var d=b.isResolved()||b.Uj()&&!!sgh(a);(c=(c?1:0)-(d?1:0))||(a.isResolved()&&b.isResolved()?c=0:(d=L4(a),c=L4(b),d=Zdh(d,Z5(this))?1:0,c=(Zdh(c,Z5(this))?1:0)-d));c=c||voh(this,a,b)||woh(a,b);break;default:c=woh(a,b)}c||(c=a.getId()<b.getId()?-1:b.getId()<
a.getId()?1:0);return c};function woh(a,b){return b.hR().getTime()-a.hR().getTime()}function voh(a,b,c){a=Z5(a).Vg().getEmail();var d=new Set,e=new Set;l5(b,!0).forEach(function(f){d.add.apply(d,ka(Uih(Tih,f.Yx())))});l5(c,!0).forEach(function(f){e.add.apply(e,ka(Uih(Tih,f.Yx())))});b=d.has(a)?1:0;return(e.has(a)?1:0)-b}
m.FP=function(a){var b=this.xk(),c=this.Ppa(a),d=0;this.N4()&&(d=this.qda(c));b.Hf(c,d,!0);c.update();if(c=b=this.Tca())b.C!=a.getId()?c=!1:(c=a.nA()?k5(a):void 0,d=J4(this.getContext()).nj,d=null!=c&&d(c),c=null==c||a.isResolved()||!!sgh(a)||d);c&&(b=D4(Pdh(C4(B4(a.getId()),this.bH()),b.D)),this.ATa(b,a))};m.cU=function(a){this.xk().Fc(a)&&(a=this.xk().removeChild(a),Tf(a))};m.A0=function(a){if(this.N4()){var b=this.xk();if(a=b.Fc(a)){var c=Qw(b,a),d=this.qda(a);c!=d&&b.Hf(a,d)}}};
m.mja=function(){Jlh(this,!0,!0)};m.kja=function(){if(this.H&&this.qr()){var a=this.qr();S5(N4(this.getContext()),a);this.bH()&&P4(this.getContext()).Bf("docos-highlight-doco").qb(D4(Ndh(C4(B4(a),this.bH()))))}};m.VK=function(){Llh(this)};function xoh(a){a=a||{};var b=a.wdc,c=a.xdc,d=a.xcb,e=a.wcb;a=a.Neb;if(Zw(d)||Zw(c)){var f;Zw(a)&&Zw(c)?f='<a href="'+T(cx(c))+'" title="'+T(b)+'" target="_blank">'+R(a)+"</a>":a?f=R(a):f="";b='<div class="'+T("docos-build-info")+'">'+(d?'<span title="'+(e?"CL #"+T(e)+" built at...":"No CL #")+'">'+R(d)+"</span>":"")+" "+f+"</div>"}else b="";return S(b)};function yoh(a,b){Q.call(this,b);this.C=a}t(yoh,Q);yoh.prototype.Ca=function(){this.pb(fy(xoh,{wcb:K(this.C,4),xcb:this.C.Dl(),Neb:K(this.C,5),wdc:K(this.C,2),xdc:K(this.C,1)},void 0,this.oa()))};function zoh(a,b){I4.call(this,a,b);this.Rc=new jz(b);this.F=a;for(var c in cdh){a=cdh[c];a:{switch(a){case "all":var d="All";break a;case "important":d="Only yours";break a;case "none":d="None";break a}throw Error("Unexpected notification settings value.");}a=new mU(d,a,b);this.Rc.Ga(a,!0)}this.D=new pz("",this.Rc,yG.getInstance(),b);qz(this.D,new Dcb(null,9));this.D.pO=!0;this.Ga(this.D)}t(zoh,I4);m=zoh.prototype;
m.Ia=function(){I4.prototype.Ia.call(this);var a=this.oa(),b=a.eb("docos-ns-caption",this.getElement());a=a.eb("docos-ns-caption-text-value",b);this.D.setContent(b);this.D.render(this.getElement());this.oa().Be(a,"Notifications");b=J4(this.F).C;b.C(this.D.getElement(),"Change email notification settings for this document.");for(a=0;a<this.Rc.mc();a++){var c=this.Rc.Ac(a),d=c.getElement();a:{switch(c.Ua()){case "all":c="Get notifications for every comment.";break a;case "important":c="Only get notifications for comments that involve you.";
break a;case "none":c="No notifications.";break a}throw Error("Unexpected notification settings value.");}b.C(d,c)}K4(this,this.D,"action",this.oTb);K4(this,this.C,"r",this.oya);K4(this,this.getElement(),"keyup",this.wlb);K4(this,this.Rc,"show",this.nTb);K4(this,this.Rc,"hide",this.mTb);this.oya()};m.nTb=function(){0<this.Rc.mc()&&this.Rc.Qh(0)};m.mTb=function(a){a.stopPropagation()};m.wlb=function(a){32==a.keyCode&&a.stopPropagation();27==a.keyCode&&a.stopPropagation()};
m.oTb=function(a){var b=a.target.Ua(),c=lhh(this.F);b!=Dnh(c)&&Enh(c,b);this.oya();a.stopPropagation()};m.oya=function(){var a=this;!this.C.J&&this.C.RK()?Dnh(lhh(this.F)).then(function(b){for(var c=0;c<a.Rc.mc();++c){var d=a.Rc.Ac(c);d.Ib(d.Ua()==b)}b=!a.C.J&&a.C.RK();a.D.Pa(b)},void 0,this):this.D.Pa(!1)};function Aoh(a,b,c,d){I4.call(this,a,b);this.F=new uoh(a,b);this.qa(this.F);this.D=c?new noh(a,this.F,hfa(qgh),b):new foh(a,this.F,hfa(qgh),b);this.Ga(this.D);this.J=a;this.Ba=null;this.Ja=!!d;Nj(this.C.dh,30)||(this.H=new hjh(a,b),this.qa(this.H),this.Ga(this.H),this.H.xa="Add a comment");this.V=null;Nj(this.C.dh,30)&&this.C.RK()&&!this.C.ma&&(this.V=new zoh(a,b),this.Ga(this.V));this.L=null;this.C.z3()&&(this.L=new $T(b),this.Ga(this.L));this.R=null;Nj(this.C.dh,30)&&(this.R=new Uz("",b,"legacy"!=
this.C.F?4:void 0),this.Ga(this.R));this.Ea=new Lz(this);this.qa(this.Ea);this.xa=new yoh(N(this.C.dh,hmf,2)||new hmf,b);this.Ga(this.xa);this.O="";this.ma=null;geh(this)}v(Aoh,I4);m=Aoh.prototype;m.P0a=0;m.Nz=null;m.Jba=null;m.zW=null;m.LD=null;m.aH=null;
m.Ca=function(){var a="legacy"!=this.C.F,b=this.oa(),c=fy(Unh,{qD:this.C.Vg().getName(),RK:this.C.RK(),f7b:!!Nj(this.C.dh,30),eD:this.C.Ea,Gbb:this.C.pz,Fbb:this.C.Tt,Bo:a,z3:this.C.z3(),Dv:$4(this.C)},void 0,b);Nj(this.C.dh,30)&&vx(c,"docos-enable-docs-header");a&&vx(c,"docs-gm");this.pb(c);a=b.eb("docos-streampane-content",c);this.D.render(a);this.aH=Nj(this.C.dh,30)?this.D.wb():this.C.O;this.xa.render(c);this.Jba=b.eb("docos-streampane-username",c);this.zW=pV(b,"IMG","docos-streampane-avatar",
c)};
m.Ia=function(){Aoh.Ya.Ia.call(this);var a=this.oa(),b=this.getElement();this.H&&this.H.Wa(a.eb("docos-streampane-input-pane",b));if(this.V){var c=a.eb("docos-notification-settings",b);this.V.Wa(c)}c=J4(this.J).C;if(this.L){var d=a.Fa("docos-priority-checkbox",b);this.L.render(d);this.L.Ib(!0);this.L.setContent("For you");K4(this,this.L,"action",this.Xcb);c.C(this.L.La(),"Sort by discussions relevant to me")}this.R&&(a=a.eb("docos-new-comment-button",b),this.R.Wa(a),c.C(a,this.C.Ma?"Add comment not available":"Add a comment"),
K4(this,this.R,"action",this.Tfb),this.M5a(),this.getHandler().listen(this.C,"r",this.M5a));this.C.xa&&(b=this.C.xa,this.H&&(this.H.Ba=b));Dp(b,!0);this.LD=new Tnh(b);No(this.LD,"next-doco",this.O9b,!0,this);this.LD.addEventListener("prev-doco",this.g$b,!0,this);No(this.LD,"resolve",u(this.Q$a,this),!0);No(this.LD,"reopen",u(this.Xfb,this),!0);No(this.LD,"back-to-document",this.Abb,!0,this);No(this.LD,"speak-comment",this.Mgc,!0,this);b=P4(this.J);a=this.C.Ma?this.k9b:this.Wfb;this.Ea.yb(b.Ta("docos-highlight-doco"),
ft,a);this.H&&K4(this,this.H,"p",this.I7b);K4(K4(K4(K4(K4(K4(K4(K4(this,this.getElement(),"click",this.Ufb),this.D,"f",this.$8b),this.D,"b",this.b8b),this.D,"e",this.S8b),this.D,"us",this.U$b),this.D,"ud",this.T$b),this.D,"ail",this.S$b),this,["aftershow","afterhide"],this.Vfb);b=this.C.Vg();fhh(M4(this.J),this.zW,b.D,H4(b));this.Jba&&(a=b.getName())&&this.C.C.C(this.Jba,a);this.zW&&(a=b.getName())&&this.C.C.C(this.zW,a);this.Ja||(this.Ba=new xB(this.getElement(),this.oa()),this.qa(this.Ba),yB(this.Ba));
Boh(this)};m.Vfb=function(a){var b="aftershow"==a.type?"dialog-opened":"dialog-closed",c=this.C.H[b];if(c){a=a.target instanceof urf;var d=(new F4(b)).setNonAnchored(!0).setApiEventArgs(new Rnh(a)).build();c(d);a&&"dialog-closed"==b&&this.C.xa&&this.C.xa.focus()}};m.j8=function(){this.D.j8()};m.Ufb=function(a){ux(a.target,"docos-streampane-notificationslink")&&!this.C.J&&this.dispatchEvent("dnd")};
m.I7b=function(){var a=this.H.getValue();Ld(a)||(P4(this.J).Bf("docos-new-doco").qb({text:a,wn:null,Xp:0,quote:null,yf:105}),this.Nz=null)};m.$8b=function(a){if(a=a.target)this.Nz=a.getElement()};m.b8b=function(a){Coh(this,a)};m.S8b=function(a){Coh(this,a)};function Coh(a,b){(b=b.target)&&b.getElement()==a.Nz&&(a.Nz=null)}m.U$b=function(){null!=this.Nz&&(this.P0a=this.Nz.offsetTop)};m.T$b=function(){null!=this.Nz&&this.aH&&(this.aH.scrollTop+=this.Nz.offsetTop-this.P0a)};m.S$b=function(){this.dispatchEvent("initial-load-complete")};
m.Wfb=function(a){a=a.data;(a.D&&a.D!=this.D.getId()||a.L)&&Doh(this,a.C||null);if(a=a.C?this.D.Fc(a.C):null)this.Nz=a.getElement()};m.k9b=function(a){a=a.data;var b=a.C||null,c=this.C.H["toggle-show-stream-pane"];c&&(b=b?N4(this.J).fd(b):null)&&(b=(new F4("toggle-show-stream-pane")).addAnchorId(k5(b)).addDocoHandle(p5(N4(this.J),b.getId())).setNonAnchored(!(b.nA()&&!b.isResolved())).setUserInitiated(!0).setApiEventArgs(new Snh(!0)).build(),c(b));Doh(this,a.C||null)};
function Doh(a,b){(b=b?a.D.Fc(b):null)?(a.Nz=b.getElement(),a.aH&&(a.aH.scrollTop=b.getElement().offsetTop)):a.Nz=null}m.O9b=function(){this.F.highlightNext()};m.g$b=function(){this.F.highlightPrevious()};m.Q$a=function(){var a=this.F.gX(),b=this.F.qr();b=b?N4(this.J).fd(b):null;a&&b&&(a=a.F,b.Uj()?Skh(a):Qkh(a,!0))};m.Xfb=function(){var a=this.F.gX();a&&Qkh(a.F,!1)};m.Abb=function(){var a=P4(this.J),b=this.F.qr();a.Bf("docos-back-to-document").qb({bk:b})};m.Mgc=function(){var a=this.F.gX();a&&nlh(a)};
function Boh(a){if(""!=a.O&&!a.ma&&a.tb()){var b=fy(Vnh,{message:a.O});a.ma=new Q;a.ma.Wa(b);a.Hf(a.ma,0)}}m.M5a=function(){this.R.Pa(this.C.Qg)};m.Tfb=function(){this.dispatchEvent({type:"create-draft",yf:105})};m.Xcb=function(){var a=P4(this.J),b=this.L.isChecked();this.aH&&(this.aH.scrollTop=0);a.Bf("docos-update-sort").qb({Igc:b?"updated":"priority"})};m.xd=function(){Aoh.Ya.xd.call(this);O4(M4(this.J),this.zW)};
m.Ka=function(){Aoh.Ya.Ka.call(this);delete this.Jba;delete this.zW;delete this.Nz;delete this.aH;delete this.xa;delete this.H;delete this.F;delete this.D;delete this.Ea;this.LD&&(delete this.LD,this.LD=null)};function Eoh(a){J(this,a,"gs",-1,null,null)}v(Eoh,I);Eoh.prototype.ea=function(){var a=new E;var b=this.Ep();null!=b&&a.Aa(1,b,mmf);return Y(a)};Eoh.le="gs";Eoh.prototype.Ep=function(){return N(this,lmf,1)};function Foh(a){J(this,a,0,-1,null,null)}v(Foh,I);Foh.prototype.ea=function(){var a=new E;var b=this.Ep();null!=b&&a.Aa(1,b,mmf);return Y(a)};Foh.prototype.Ep=function(){return N(this,lmf,1)};function Goh(a){A.call(this);this.H=a;this.D=this.C=null;this.F=Zp();Vch(this.H,"netIo")&&this.F.resolve()}t(Goh,A);function Dnh(a){if(a.C)return Tp(Hoh(a.C));a.D||(a.D=a.F.C.then(function(){return new Sp(function(b,c){Ygh(a.H.get("netIo"),"uc",void 0,function(d){return b(new Eoh(d))},c,void 0,void 0,"GET")},a)},void 0,a));return a.D.then(function(b){a.C=b.Ep();a.D=null;return Hoh(a.C)},void 0,a)}
function Enh(a,b){var c="all"==b;b="none"==b;var d=(new lmf).Pa(!0);c=L(d,3,c);c=L(c,4,!b);b=L(c,5,!b);b=L(b,6,!0);a.C=b;b=new Foh;b=ak(b,1,a.C);Ygh(a.H.get("netIo"),"uc",b)}function Hoh(a){return Qj(a,2,!0)?Nj(a,3)?"all":Qj(a,4,!0)||Qj(a,5,!0)?"important":"none":"none"};function Ioh(a,b){var c=a.fd(),d=b.fd();a=a.getPosition();b=b.getPosition();if(a.y!=b.y)return a.y-b.y;if(a.x!=b.x)return a.x-b.x;if(null!=c&&null!=d){b=c.Ku();a=d.Ku();if(b&&a&&b.getTime()!=a.getTime())return b.getTime()-a.getTime();if(!b&&a)return 1;if(b&&!a)return-1;c=c.getId();d=d.getId();return c<d?-1:c>d?1:0}return null!=c?1:null!=d?-1:0}function Joh(a,b){this.C=a;this.od=b}Joh.prototype.fd=g("C");Joh.prototype.getPosition=g("od");function Koh(a,b,c,d){this.C=a;this.J=b;this.L=c;this.H=d;this.F=[];this.D=0}function Loh(a,b){return a.C().Ac(b).getId()}function Moh(a,b){for(var c=a.C().mc(),d=0;d<c;++d)a.H(Loh(a,d),Infinity);a.layout(b||[])}m=Koh.prototype;m.layout=function(a){do{var b=a;Noh(this,0,this.C().mc(),1,-Infinity,this.Zlb,this.$lb,b);b=a;Noh(this,this.C().mc()-1,-1,-1,Infinity,this.Cbb,this.Dbb,b);a.pop()}while(0<a.length)};function Ooh(a,b){0==a.D&&(a.D=1);a.F=sd(b,a.F);wd(a.F)}
function Poh(a){0!=a.D&&(2==a.D?Moh(a,a.F):a.layout(a.F),a.F=[],a.D=0)}function Noh(a,b,c,d,e,f,h,k){for(;b!=c;b+=d){var l=Loh(a,b);var n=b;n=a.C().Ac(n).getHeight();var q=a;var r=b;r=q.C().Ac(r).fd().getId();q=q.J(r);r=a.L(l);e=kd(k,l)?q:h(n,q,r,e);a.H(l,e);e=f(n,e)}}m.Zlb=function(a,b){return b+a+10};m.Cbb=function(a,b){return b-10};m.$lb=function(a,b,c,d){return Math.max(Math.min(c,b),d)};m.Dbb=function(a,b,c,d){return Math.min(Math.max(c,b),d-a)};function Qoh(a,b){var c=this;$5.call(this,a,b);this.F={};this.ma={};this.Ea=new Koh(u(this.xk,this),u(this.sWa,this),u(this.Zra,this),u(this.Bec,this));this.Va=J4(a).Qo;this.Ja=new RK;this.jb=!0;this.Fb=new Sq(this.Yic,500,this);this.Qa=this.Sa=null;this.Ma=mhh(a);this.ub=new Co;this.qa(this.ub);Do(this.ub,this.Ma.D,function(){c.Ra=!0;c.cb&&Roh(c,c.cb);Poh(c.Ea);c.rb&&c.Mz();c.Ra=!1});this.rb=!1;this.cb=null;this.Xa=this.Ra=!1}v(Qoh,$5);var Soh=null;m=Qoh.prototype;
m.YQ=function(){var a=Qoh.Ya.YQ.call(this);a.push("docos-layout-vertical");return a};m.N4=ea(!0);m.bL=da("jb");m.jW=function(a,b){a=a.fd();b=b.fd();if(!a||!b)throw Error("Doco view missing doco.");var c=p5(N4(this.getContext()),a.getId()),d=p5(N4(this.getContext()),b.getId());return Ioh(new Joh(a,this.C[c]||new Wm(Number.MAX_VALUE,Number.MAX_VALUE)),new Joh(b,this.C[d]||new Wm(Number.MAX_VALUE,Number.MAX_VALUE)))};m.A0=function(a){this.tK(a,!1)};m.dAa=function(a){Qoh.Ya.dAa.call(this,a);this.Mz()};
m.H1a=function(){for(var a=this.xk(),b=a.mc(),c=0;c<b;c++){var d=a.Ac(c);d.getId()!=this.qr()&&d.getId()!=this.fX()&&d.Laa()&&d.collapse()}};m.VK=function(){Wlh(this);Llh(this);for(var a=this.xk(),b=a.mc(),c=0;c<b;++c){var d=a.Ac(c);d.Laa()&&!d.ql()&&d.oBa()}a=[];(b=this.qr())&&a.push(b);this.Ma.C||this.Ra?(b=this.Ea,b.D=2,Ooh(b,a||[])):Moh(this.Ea,a);Toh(this)};m.l3=function(a){this.Sa=a.clone();this.Qa&&this.Qa.contains(a)?this.Fb.start():(a=this.Fb,a.stop(),a.nta())};
m.Yic=function(){if(this.O){this.Qa=this.Sa.clone();var a=this.xk();this.Qa.expand(500,0,500,0);var b=a.mc(),c="";0<b&&(c=a.Ac(b-1).getId());for(var d=0;d<b;d++){var e=a.Ac(d),f=this.ma[e.getId()];f=Uoh(e,this.Qa,f.y,c);e.setVisible(f)}}};
m.Mz=function(){Qoh.Ya.Mz.call(this);if(this.Ma.C)this.rb=!0;else{Poh(this.Ea);var a=this.xk(),b;for(b in this.F){var c=a.Fc(b);if(c){var d=b==this.qr()||b==this.fX()?-10:this.Va,e=!c.nya();b!=this.qr()&&b!=this.fX()&&this.ob&&(e=e&&this.ob.Va);this.Xia(d,this.F[b],c,e)}else delete this.F[b],delete this.ma[b]}Toh(this);this.rb=!1}};function Uoh(a,b,c,d,e){if(a.getId()==d)return!0;d=e||0;return a.ql()||Math.max(b.top-d,c)<=Math.min(b.bottom+d,c+a.getHeight())}
function Toh(a){var b=Z5(a).H.bounds;b&&(a=a.j3(),!Soh&&!a||Cd(Soh,a)||(Soh=a,a=(new F4("bounds")).setUserInitiated(!0).build(),b(a)))}m.Zra=function(a){if(a&&!(a in this.F))if(Z5(this).Va){var b=this.sWa(a);null!==b&&(this.F[a]=b)}else if(b=this.xk().Fc(a))this.F[a]=b.getElement().offsetTop;return a in this.F?this.F[a]:null};m.Bec=function(a,b){this.F[a]=b};m.tK=function(a){Wlh(this);if(Z5(this).Va)Voh(this);else{var b=[];this.qr()&&b.push(this.qr());a&&b.push(a);Woh(this,b)}};
function Voh(a){Z5(a).Va&&(a.F={});var b=a.qr();Woh(a,b?[b]:[])}function Woh(a,b){a.Ma.C||a.Ra?Ooh(a.Ea,b):a.Ea.layout(b)}m.UK=function(a){var b=Yd(a),c=Wd(this.C),d=b.length!=c;this.Xa=b.length>c;b=ja(b);for(c=b.next();!c.done;c=b.next()){c=c.value;var e=this.C[c];if(!e||a[c].y!==e.y){d=this.Xa=!0;break}}d&&(this.Ma.C?this.cb=a:Roh(this,a))};
function Roh(a,b){a.C=b;Xoh(a);Wlh(a);a.Xa&&(Llh(a),a.Xa=!1);Voh(a);b=a.Ja.ef();for(var c=0;c<b.length;c++){var d=a.R[b[c]];d&&a.FP(d)}a.tK();a.Mz();a.cb=null}function Xoh(a){var b=Object.keys(a.C);b.sort(u(a.zbc,a));a.Ja.clear();for(var c=N4(a.getContext()),d=0;d<b.length;d++){var e=b[d],f=s5(c,parseInt(e,10));f&&c.ma(f)&&a.Ja.set(e,a.Ja.ke())}}
m.zbc=function(a,b){var c=parseInt(a,10),d=parseInt(b,10);b=this.C[c];a=this.C[d];c=s5(N4(this.getContext()),c);d=s5(N4(this.getContext()),d);return Ioh(new Joh(c,b),new Joh(d,a))};m.cU=function(a){Qoh.Ya.cU.call(this,a);Xoh(this)};m.qda=function(a){a=p5(N4(this.getContext()),a.getId()).toString();var b=this.Ja.get(a);null==b&&(Xoh(this),b=this.Ja.get(a));return b};
m.Xia=function(a,b,c,d){var e=c.getElement();if(e){var f=!0;if(this.Sa){var h=this.xk();f=h.mc();h=h.Ac(f-1).getId();f=Uoh(c,this.Sa,b,h,500)}f&&c.setVisible(!0);h=c.getId();var k=!1,l=!1;if(d&&this.ma[h]&&(k=1<Math.abs(a-this.ma[h].x),l=1<Math.abs(b-this.ma[h].y),!k&&!l))return;l=this.jb&&l&&this.xk().mc()<Yoh(this);k=this.jb&&k;if((d=d&&(l||k)&&c.isVisible()&&f)||this.J.C[h]){f=500;d||(f=(1-this.J.C[h].progress)*this.J.getDuration(h));Vdh(this.J,h);var n=new Ych(e,[a,b],f,DM);Udh(this.J,h,n,f,function(){return Tf(n)})}else jw(e,
a,b),f||c.setVisible(!1);c.Dc=-10==a;this.ma[h]=new Wm(a,b);this.F[h]=b}};function Zoh(a,b){return(a=a.C[b])?a.y:null}m.sWa=function(a){a=p5(N4(this.getContext()),a);return Zoh(this,a)};m.nsa=function(a,b){a=Zoh(this,a);return null===a?null:new Wm(b?-10:this.Va,a)};
m.j3=function(){var a=this.xk();if(!a||!a.tb())return null;var b=a.mc();if(!b)return null;var c=a.Ac(0);b=a.Ac(b-1);a=b.getElement();c=this.Zra(c.getId());b=this.Zra(b.getId());return null!=c&&null!=b?[c,210+this.Va,b+a.offsetHeight,this.Va]:null};function Yoh(a){a=Z5(a);return(a=null!=K(a.dh,47)?K(a.dh,47):null)?a:100};function $oh(a){this.Sr=a;return this}t($oh,y4);$oh.prototype.getSource=g("Sr");ta("docos.api.WriteFeedbackArgs",$oh,void 0);$oh.prototype.getSource=$oh.prototype.getSource;if(!aph)var aph=ea("");if(!bph)var bph=ea("");function i6(a,b){var c=this;A.call(this);this.Pc=Ra();this.J={};this.F=new khh;var d=i6.__default_config;d&&le(this.J,d);a&&le(this.J,a);this.D=new Ofh(this.J,b);this.F.Ef("config",this.D);this.ma={};Nj(this.D.dh,17)&&(this.Za=new Xgh,this.F.Ef("errorReporter",this.Za),this.lya=this.Za.F.C(this.lya));this.xa=null;this.V={};this.Ja=null;this.Va=!1;this.Xa=!0;this.R=new tnh(this.F,this.D,this);cph(this,"s",function(){c.C.Sa=!0;if(0<Wd(c.C.C)){dph(c);var e=c.D.Am;e&&e(43082,3E4)}});cph(this,"fe",u(this.FSb,
this));cph(this,"p",u(this.CSb,this));this.Fb=new Onh(this,this.F);Lch();this.lya()}v(i6,A);ta("Docos",i6,void 0);ta("docos.api.connect",function(a){return new i6(a)},void 0);m=i6.prototype;m.o5a=!1;m.WT=null;m.Za=null;m.X7=null;m.uv=null;m.xn=null;m.Pt=null;m.n_a=!1;m.yDa=null;m.Gu=null;m.OS=null;
m.lya=function(){if(this.Za)for(var a in i6.prototype)La(this[a])&&(this[a]=this.Za.F.C(this[a]));this.cb=new dhh(this.D);this.F.Ef("imageManager",this.cb);a=new Goh(this.F);this.F.Ef("subscriptionManager",a);this.Ba=new ymh(this.F);this.F.Ef("impressionRecorder",this.Ba);this.fb=Ymd(Yo());this.qa(this.fb);this.Yc=new Zgh(this.fb);this.F.Ef("relativeDateFormatter",this.Yc);this.C=new Pjh(this.D);this.F.Ef("stream",this.C);this.Qa=new enh(this.F);this.qa(this.Qa);this.Oa=new Vo(this);this.qa(this.Oa);
this.Ea=null;this.O=new Fgh(this.F);this.F.Ef("controller",this.O);this.H=new Mmh(this.F,this.O);if(Nj(this.D.dh,19)){this.Ea=new Jnh(this.F);this.qa(this.Ea);a=this.Ea;var b=u(this.uEb,this),c=u(this.lva,this);a.C?a.C.nWa(u(a.rAb,a,b),u(a.qAb,a,c)):c()}else this.lva();this.OS=eph(this);this.F.Ef("contactStore",this.OS);this.Ra=this.D.Vg().getEmail()?new hmh(this.OS,this.D.Vg(),this.Ba,this.D.Nm):null;a=P4(this.F);this.L=this.Db=null;ap("docs-aria-speakable")&&(this.Db=Dvf(void 0,!0),this.L=new Crf(this.Db,
a),this.L.bind("docos-new-doco",new znh),this.L.bind("docos-new-reply",new Anh),this.L.bind("docos-delete-doco",new wmh(this.C)),this.L.bind("docos-resolve-doco",new Pnh(this.C)),this.L.bind("docos-speak-doco",new Qnh(this.F,this.J.quoterenderfn)),this.L.bind("docos-edit-doco",new Amh));this.Sa=new Lz(this);this.qa(this.Sa);this.Sa.yb(a.Ta("docos-cancel-insert-discussion"),ft,this.g8b).yb(a.Ta("docos-delete-doco"),ft,this.ASb).yb(a.Ta("docos-reject-doco-with-feedback"),ft,this.w8b).yb(a.Ta("docos-convert-doco"),
ft,this.s8b).yb(a.Ta("docos-before-highlight-doco"),ft,this.Vza).yb(a.Ta("docos-highlight-doco"),ft,this.kya).yb(a.Ta("docos-new-doco"),ft,this.BSb).yb(a.Ta("docos-resolve-doco"),ft,this.ESb).yb(a.Ta("docos-back-to-document"),ft,this.W7b).yb(a.Ta("docos-new-reply"),ft,this.N9b).yb(a.Ta("docos-write-feedback"),ft,this.Jac).yb(a.Ta("docos-disable-smart-todo-feature"),ft,this.B8b).yb(a.Ta("docos-vote-doco"),ft,this.Fac).yb(a.Ta("docos-vote-reply"),ft,this.Gac).yb(a.Ta("docos-update-sort"),ft,this.vac).yb(a.Ta("mouse-hover-doco-view"),
ft,this.J9b);this.Oa.listen(this.C,"dd",this.G9b).listen(this.C,"af",this.K7b).listen(this.C,"bu",this.F9b).listen(this.C,"p",this.W9b).listen(this.D,"r",this.n1)};function eph(a){var b=Opd("client").then(function(){var c=wa("gapi.config.update");a.D.vqa&&c("googleapis.config/sessionIndex",a.D.vqa);c("googleapis.config/auth/useFirstPartyAuth",!0);c("googleapis.config/auth/useFirstPartyAuthV2",!0);return wa("gapi.client")});return new umh(a.D,Mnh(a.D,b),a.Pc)}
function dph(a){a.OS&&!a.OS.C&&Gfh(a.D.D)&&Ufh(a.D)&&wih(a.OS)}function fph(a){if(!a.Pt){gph(a);var b=a.F,c=Yo(a.D.O);var d=a.D;d=gy()?d.Fb&&!z(y(),"docs-ehspc"):d.Fb;a.Pt=new Aoh(b,c,d,a.D.Ne);a.Oa.listen(a.Pt,"dnd",a.Uvb);a.Oa.listen(a.Pt,"initial-load-complete",a.WKb);a.Oa.listen(a.Pt,"create-draft",a.Vd)}return a.Pt}m.Uvb=function(){this.jb()};m.WKb=function(){var a=g6(this,"initial-pane-render-done");if(a&&this.yDa){var b=Ra()-this.yDa;a(new Sdh("initial-pane-render-done",b))}};
m.find=function(a){var b=this.C.O;this.C.O=a;var c=this.C,d=this.D,e={},f=c.O;c=je(c.C);if(f&&0!=f.length)for(var h in c){var k=c[h];if(!k.isResolved()&&k.nA()&&!rgh(k)){var l=gkh(k,f,d);k=je(k.D);for(var n in k)l+=gkh(k[n],f,d);0<l&&(e[h]=l)}}a!=b&&(a=this.V,le(a,e),this.uv.fB(a));this.V=e;e={};for(var q in this.V)e[p5(this.C,q)]=this.V[q];return e};i6.prototype.find=i6.prototype.find;i6.prototype.jd=function(){this.C.O&&(this.C.O=null,this.uv.fB(this.V,!0),this.V={})};i6.prototype.clearFind=i6.prototype.jd;
i6.prototype.ir=function(){var a=this.D;var b=fkh(this.C,a);b?(b=b.getKey(),a=(a=ikh(b,a))?qp(a).textContent:null):a=null;return a};i6.prototype.getSelectedMatchA11yContext=i6.prototype.ir;i6.prototype.highlightNext=function(a,b,c){this.xn&&this.xn.highlightNext(!!a,b,c)};i6.prototype.highlightNext=i6.prototype.highlightNext;i6.prototype.highlightPrevious=function(a,b,c){this.xn&&this.xn.highlightPrevious(!!a,b,c)};i6.prototype.highlightPrevious=i6.prototype.highlightPrevious;
i6.prototype.select=function(a,b){var c=s5(this.C,a);a=c?c.getId():"";b=c?new eY(a,b):null;c=this.C.Ba;if(!(!b&&!c||b&&c&&b.getKey()==c.getKey()&&b.getValue()==c.getValue())){var d=this.C;b&&(b.getKey(),b.getValue());d.Ba=b;b=c?this.uv.Fc(c.getKey()):null;c=this.uv.Fc(a);b&&b!=c&&b.fB();if(c){c.Laa()&&(b=ekh(N4(this.F),this.D),c.expand(b?b.getKey():void 0));c.fB();b=dkh(this.C,this.uv);d=P4(this.F);var e=Odh(B4(a));e.C=b?b.start:0;e=D4(e);d.Bf("docos-before-highlight-doco").qb(e);S5(N4(this.F),a);
d.Bf("docos-highlight-doco").qb(e);if(b&&Dhh(c)&&(a=c.wb())){c=zw(a).height;d=a.scrollTop;e=b.getLength()<=c;var f=0>b.start,h=b.end>c;a.scrollTop=d+(e&&f||!e&&!f?b.start:e&&h||!e&&!h?b.end-c:0)}}}};i6.prototype.select=i6.prototype.select;i6.prototype.UQb=function(){var a=this.C.Ba;if(a){this.C.Ba=null;(a=this.uv.Fc(a.getKey()))&&a.fB();a=P4(this.F);var b=Odh(B4(""));b.C=0;b=D4(b);a.Bf("docos-before-highlight-doco").qb(b);S5(N4(this.F),null);a.Bf("docos-highlight-doco").qb(b)}};
i6.prototype.unselect=i6.prototype.UQb;i6.prototype.D7b=function(){var a=this.C,b=new Ejh(a,"c"),c;for(c in a.C)b.C.push(new Cjh(c,void 0,void 0,void 0,void 0));a.dispatchEvent(Fjh(b));a.flush(!0)};i6.prototype.updateAll=i6.prototype.D7b;i6.prototype.xV=function(){return!!Nj(this.D.dh,19)&&!!this.D.Ob&&!this.D.vd};i6.prototype.isSavingToOfflineStorage=i6.prototype.xV;i6.prototype.gK=function(){return 0<rjh.ke()};i6.prototype.hasUnpostedDocos=i6.prototype.gK;
i6.prototype.jK=function(){for(var a=Yd(this.C.V),b=0,c;c=a[b];b++){var d=this.C;if((c=Xjh(d,c))&&(c.Uj()?Sgh(d,c):d.ma(c)))return!0}return!1};i6.prototype.hasVisibleAnchoredDocos=i6.prototype.jK;i6.prototype.uoa=function(a){var b=this.C,c=b.xa;b.xa=a;if(c!=b.xa&&this.uv&&(a=this.uv,b=N4(a.context),Wd(b.C))){for(c=a.mc()-1;0<=c;--c){var d=a.Ac(c).getId();koh(a,d)}b=je(b.C);for(d in b)ioh(a,d);a.D.VK();hoh(a);a.D.tK()}};
i6.prototype.n1=function(){hph(this);0<Wd(this.C.C)&&dph(this);if(this.Pt)if("none"!=this.D.fb){var a=this.Pt.D;a.D.VK();hoh(a)}else this.Pt.j8()};i6.prototype.setResolvedAnchoredDocosVisible=i6.prototype.uoa;i6.prototype.yV=function(a,b,c){return iph(this,a,b?b:void 0,c)};i6.prototype.newDoco=i6.prototype.yV;
i6.prototype.UU=function(a,b,c){if(null==a||Ld(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var d=b.getPosition()?b.getPosition():void 0,e=b.getText()?b.getText():void 0,f=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;jph(this,a,d,b.getNewDocoType(),e,f,b.getWasSmartTodo()).addCallback(c);break;case "smart-todo":d=b.getText();e=b.getAssigneeEmail();f=this.H;b=b.qmb();d6(f,u(f.JPb,f,a,d,e,b)).addCallback(c);
break;case "discussion":d=b.getText();e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;f=this.H;b=b.getWasSmartTodo();d6(f,u(f.GPb,f,a,d,e,b)).addCallback(c);break;default:throw Error("Unknown NewDocoArgs type.");}};i6.prototype.interceptingNewDoco=i6.prototype.UU;function iph(a,b,c,d,e,f,h){kph(a,b,c);b=Hgh(a.O,b,d||"draft",e,f,h);lph(a,b,c);return b}function jph(a,b,c,d,e,f,h){kph(a,b,c);return Nmh(a.H,b,d||"draft",e,f,h).addCallback(function(k){lph(a,k,c);return k})}
function kph(a,b,c){if(!b)throw Error("Doco anchor data cannot be empty or null.");a.ob();c&&(a.xa=c)}function lph(a,b,c){if(!(0>=b))if(gy()&&"absolute"!=a.D.ub&&z(y(),"docs-ehspc"))c=fph(a),a=s5(a.C,b),c.F&&null!=a&&c.F.FP(a);else if(c){var d={};d[b]=c;j6(a).i3(d)}}
i6.prototype.zV=function(a,b){if(null==a||Ld(a))throw Error("Doco anchor data cannot be empty or null.");switch(b.getNewDocoType()){case "instant-doco":case "draft":case "client-integrated-draft":var c=b.getPosition()?b.getPosition():void 0,d=b.getText()?b.getText():void 0,e=b.getAssigneeEmail()?b.getAssigneeEmail():void 0;return iph(this,a,c,b.getNewDocoType(),d,e,b.getWasSmartTodo());case "smart-todo":return c=b.getText(),d=b.getAssigneeEmail(),Jgh(this.O,a,c,d,b.qmb());case "discussion":return c=
b.getText(),d=b.getAssigneeEmail()?b.getAssigneeEmail():void 0,Kgh(this.O,a,c,d,b.getWasSmartTodo());default:throw Error("Unknown NewDocoArgs type.");}};i6.prototype.newDoco2=i6.prototype.zV;i6.prototype.I0=function(a,b,c){var d=this;if(!a||!b)throw Error("Anchor data and suggestion id cannot be empty or null.");Qmh(this.H,void 0,a,void 0,void 0,b,void 0).addCallback(function(e){0<e&&d.rb(e);return e}).addCallback(c)};i6.prototype.interceptingNewSuggestion=i6.prototype.I0;
i6.prototype.VM=function(a,b,c){var d=this;Rmh(this.H,a,!0,b).addCallback(function(e){mph(d,a);return e}).addCallback(c)};i6.prototype.interceptingAcceptSuggestion=i6.prototype.VM;i6.prototype.eV=function(a,b,c){var d=this;Rmh(this.H,a,!1,b).addCallback(function(e){mph(d,a);return e}).addCallback(c)};i6.prototype.interceptingRejectSuggestion=i6.prototype.eV;i6.prototype.YM=function(a,b){var c=this.H;d6(c,u(c.rGa,c,a,!0)).addCallback(b)};i6.prototype.interceptingAcceptSuggestions=i6.prototype.YM;
function mph(a,b){(b=s5(a.C,b))&&a.xn&&a.xn.cU(b.getId())}i6.prototype.gV=function(a,b){var c=this.H;d6(c,u(c.rGa,c,a,!1)).addCallback(b)};i6.prototype.interceptingRejectSuggestions=i6.prototype.gV;i6.prototype.hO=function(a,b){var c=this.H;d6(c,u(c.Zeb,c,a)).addCallback(b)};i6.prototype.interceptingDeleteReply=i6.prototype.hO;i6.prototype.eN=function(a,b){var c=this.H;d6(c,u(c.Yeb,c,a)).addCallback(b)};i6.prototype.interceptingDeleteReplies=i6.prototype.eN;
i6.prototype.jj=function(a){return(a=s5(this.C,a))?k5(a):null};i6.prototype.getAnchorData=i6.prototype.jj;i6.prototype.Us=function(a){return(a=s5(this.C,a))?a.OI():null};i6.prototype.getSuggestionId=i6.prototype.Us;i6.prototype.wl=function(){return this.D.Vg().getId()};i6.prototype.getCurrentAuthor=i6.prototype.wl;i6.prototype.Ij=function(a){return(a=s5(this.C,a))?a.jx().getId():null};i6.prototype.getAuthor=i6.prototype.Ij;i6.prototype.Yj=function(a){return(a=s5(this.C,a))?a.jx().getName():null};
i6.prototype.getAuthorName=i6.prototype.Yj;i6.prototype.un=function(a){"string"===typeof a&&(a=this.Ma(a));return nph(this).D.Lba(a)};i6.prototype.getDocoPosition=i6.prototype.un;i6.prototype.getDocoMaxHeight=function(a){return j6(this).getDocoMaxHeight(a)};i6.prototype.getDocoMaxHeight=i6.prototype.getDocoMaxHeight;i6.prototype.ona=function(a,b){j6(this).yqa(a,b)};i6.prototype.setDocoMaxHeight=i6.prototype.ona;i6.prototype.Qg=function(a){a=oph(this,a);j6(this).UK(a)};i6.prototype.flushAnchors=i6.prototype.Qg;
i6.prototype.Zg=function(a){j6(this).UK(a)};i6.prototype.flushDocoPositions=i6.prototype.Zg;i6.prototype.jcc=function(a){a=oph(this,a);j6(this).i3(a)};i6.prototype.updateAnchors=i6.prototype.jcc;i6.prototype.oic=function(a){j6(this).i3(a)};i6.prototype.updateDocoPositions=i6.prototype.oic;i6.prototype.Pd=function(a){j6(this).Kba(ed(a,this.Ma,this))};i6.prototype.deleteAnchors=i6.prototype.Pd;i6.prototype.Ud=function(a){j6(this).Kba(a)};i6.prototype.deleteDocoPositions=i6.prototype.Ud;
i6.prototype.ijc=function(a){this.xn?this.xn.l3(a):this.Ja=a};i6.prototype.updateViewport=i6.prototype.ijc;i6.prototype.Ne=da("Va");i6.prototype.enableAnchoredDocoAnimations=i6.prototype.Ne;i6.prototype.Nn=function(){var a=this.D.L;return(a=a?this.C.fd(a):void 0)?k5(a):""};i6.prototype.getLinkedAnchor=i6.prototype.Nn;i6.prototype.uo=function(){var a=this.D.L;return null===a?0:p5(this.C,a)};i6.prototype.getLinkedDoco=i6.prototype.uo;i6.prototype.qV=function(){var a=this.D.L;return null===a?!1:!!this.C.F[a]};
i6.prototype.isLinkedDocoDeleted=i6.prototype.qV;function oph(a,b){var c={};Sd(b,function(d,e){(e=this.Ma(e))&&(c[e]=d)},a);return c}i6.prototype.mna=function(a){this.C.Qa=a};i6.prototype.setActiveSuggestions=i6.prototype.mna;i6.prototype.Mn=function(){var a=this.C.R;return a&&a.Uj()?a.getId():null};i6.prototype.getHighlightedSuggestionDocoId=i6.prototype.Mn;i6.prototype.Ma=function(a){return(a=Xjh(this.C,a))?p5(this.C,a.getId()):0};
i6.prototype.kna=function(){if(!this.D.O)throw Error("Pane div not specificed in config.");this.yDa=Ra();fph(this).tb()&&(Tf(this.Pt),this.Pt=null);d_e(this.D.O,!1);fph(this).render(this.D.O)};i6.prototype.renderPaneSurface=i6.prototype.kna;i6.prototype.vV=function(){return fph(this).D.fKa()};i6.prototype.isPaneSurfaceRendered=i6.prototype.vV;function j6(a){a.xn||(a.xn=pph(a),a.Ja&&(a.xn.l3(a.Ja),a.Ja=null));return a.xn}
function nph(a){if(!a.uv){gph(a);var b=j6(a);a.uv=new foh(a.F,b,u(a.C.ma,a.C),b.oa())}return a.uv}function gph(a){if(!a.o5a){a.o5a=!0;var b=a.D.O,c=a.D.Ba;b&&(a.D.Dc||Dw(Eqe(""),b),a.D.C.install(b));!c||b&&$o(b)==$o(c)||(a.D.Dc||Dw(Eqe(""),c),a.D.C.install(c))}}i6.prototype.ina=function(){if(!this.D.Ba)throw Error("Anchor surface div not specified in config.");nph(this).tb()&&(Tf(this.uv),this.uv=null,pph(this));d_e(this.D.Ba,!1);nph(this).render(this.D.Ba)};i6.prototype.renderAnchorSurface=i6.prototype.ina;
function pph(a){var b=a.D.ub,c=Qoh;"absolute"==b&&(c=Ylh);if(a.xn&&(a.xn instanceof c||a.xn.DW()instanceof c))return a.xn;var d=Yo(a.D.Ba);c=new c(a.F,d);d=a.D.R;!d||b&&"vertical"!=b||(c=new hnh(c,d));a.xn&&(a.xn.zqa(c),Tf(a.xn));a.xn=c;a.xn.jCa(a);a.qa(a.xn);return a.xn}
i6.prototype.jna=function(){if(!this.D.Xa)throw Error("Instant docos div not specified in config.");this.Gu&&this.Gu.tb()&&(Tf(this.Gu),this.Gu=null);this.Gu||this.J["enable-gsuite-embedding"]||(this.Gu=new Kmh(this.F,Yo(this.D.Xa)),this.Oa.listen(this.Gu,"create-draft",this.Ob),this.Gu.render(this.D.Xa))};i6.prototype.renderInstantDocosButton=i6.prototype.jna;i6.prototype.Xoa=function(a,b,c){this.Gu&&Lmh(this.Gu,a,b,c)};i6.prototype.showInstantDocosButtonAt=i6.prototype.Xoa;
i6.prototype.ob=function(a){this.Gu&&this.Gu.hf(a)};i6.prototype.hideInstantDocosButton=i6.prototype.ob;i6.prototype.Oh=function(){return this.xn?this.xn.j3():null};i6.prototype.getAnchorSurfaceBounds=i6.prototype.Oh;i6.prototype.setOption=function(a,b){this.J[a]!==b&&(this.J[a]=b,this.D.g3(this.J))};i6.prototype.setOption=i6.prototype.setOption;i6.prototype.Tt=function(){if(this.Pt){var a=this.Pt;a.C.xa&&a.C.xa.focus()}};i6.prototype.grabFocus=i6.prototype.Tt;
i6.prototype.xna=function(a,b,c){this.J.listeners||(this.J.listeners={});this.J.listeners[a]=c?u(b,c):b;this.D.g3(this.J)};i6.prototype.setListener=i6.prototype.xna;function qph(a,b){return b&&a.C.ma(b)?b.getId():null}i6.prototype.Nm=function(a){return(a=s5(this.C,a))?a.Ku()?a.Ku().getTime():null:null};i6.prototype.getDocoCreationTime=i6.prototype.Nm;
i6.prototype.NK=function(a,b){var c=P4(this.F);a=Xjh(this.C,a);a=qph(this,a);var d=Odh(B4(a||""));b&&(b=this.D.Ma?this.Pt.D.getId():nph(this).getId(),C4(d,b));c.Bf("docos-before-highlight-doco").qb(D4(d));S5(N4(this.F),a);c.Bf("docos-highlight-doco").qb(D4(d))};i6.prototype.highlightAnchor=i6.prototype.NK;
i6.prototype.rb=function(a,b){var c=P4(this.F);a=s5(this.C,a);a=qph(this,a);var d=Odh(B4(a||""));b&&(b=this.D.Ma?this.Pt.D.getId():nph(this).getId(),d=C4(d,b));c.Bf("docos-before-highlight-doco").qb(D4(d));S5(N4(this.F),a);c.Bf("docos-highlight-doco").qb(D4(d))};i6.prototype.highlightDoco=i6.prototype.rb;i6.prototype.Sjc=function(a){var b=P4(this.F);a=s5(this.C,a);a=qph(this,a);if(null!=a){var c=this.C.fd(a);c&&q5(this.Ba,d5(c5(b5(43045),c)));b.Bf("docos-speak-doco").qb(a)}};
i6.prototype.verbalizeDoco=i6.prototype.Sjc;i6.prototype.rD=function(a){return!!Xjh(this.C,a)};i6.prototype.hasDocoForAnchorId=i6.prototype.rD;i6.prototype.pz=function(a){return!!s5(this.C,a)};i6.prototype.hasDoco=i6.prototype.pz;i6.prototype.Qo=function(a){return(a=Xjh(this.C,a))?a.Uj()?!Sgh(this.C,a):a.isResolved():!1};i6.prototype.getResolvedForAnchorId=i6.prototype.Qo;i6.prototype.lV=function(a){return(a=s5(this.C,a))?a.isResolved():!1};i6.prototype.isDocoResolved=i6.prototype.lV;
i6.prototype.Xl=function(){var a=$jh(this.C),b={3:{},1:{},2:{}};b.draft=K(a.C,2);b["smart-todo"]=K(a.C,14);b.total=K(a.C,1);var c=b[3];c.open=K(a.C,11);c.resolved=K(a.C,8);c.total=K(a.C,5);c=b[1];c.open=K(a.C,9);c.resolved=K(a.C,6);c.total=K(a.C,3);c=b[2];c.accepted=K(a.C,12);c.open=K(a.C,10);c.rejected=K(a.C,13);c.resolved=K(a.C,7);c.total=K(a.C,4);return b};i6.prototype.getDocoCounts=i6.prototype.Xl;i6.prototype.Am=function(){return $jh(this.C).C.clone().sb()};i6.prototype.getDocoCounts2=i6.prototype.Am;
i6.prototype.bj=function(){return j6(this).Aqa().C.clone().sb()};i6.prototype.getAnchoredDocoCounts=i6.prototype.bj;i6.prototype.nj=function(){return Yd(this.C.V)};i6.prototype.getAnchors=i6.prototype.nj;i6.prototype.getDocoHandles=function(){return this.C.getDocoHandles()};i6.prototype.getDocoHandles=i6.prototype.getDocoHandles;i6.prototype.jb=function(){this.D.RK()&&(this.X7||(this.X7=new Cnh(this.F),this.qa(this.X7)),this.X7.setVisible(!0))};i6.prototype.displayNotificationControlDialog=i6.prototype.jb;
i6.prototype.Dc=function(a){return a.x};i6.prototype.Lc=function(a){return a.y};function hph(a){if(a.n_a&&!Vch(a.F,"netIo")){var b=fnh(a.Qa);b&&(a.F.Ef("netIo",b),a.Za&&(a.Za.H=b),b=a.R,Pfh(b.D)?b.D.Pd?vnh(b.F,"r"):unh(b)&&wnh(b):b.L(null),Vch(a.F,"subscriptionManager")&&lhh(a.F).F.resolve())}}i6.prototype.Fd=function(a){this.R.H.get("netIo").C.dKa(a)};i6.prototype.connectBrowserChannel=i6.prototype.Fd;m=i6.prototype;
m.FSb=function(){var a=g6(this,"net-error");a&&a((new F4("net-error")).build());this.D.Yc&&(this.setOption("accessLevel","readonly"),a=fph(this),""==a.O&&(a.O="Commenting disabled due to a network error. Please reload the page.",Boh(a)))};
m.CSb=function(){var a=g6(this,"post-limit-error");a&&a((new F4("post-limit-error")).build());this.D.Yc&&(this.setOption("accessLevel","readonly"),a=fph(this),""==a.O&&(a.O="Document reached the comment limit. Make a copy of this document without resolved comments to continue commenting",Boh(a)))};m.uEb=function(){vnh(this,"r");this.lva()};m.lva=function(){this.n_a=!0;hph(this)};m.DSb=function(a){cph(this,"r",a)};i6.prototype.onReady=i6.prototype.DSb;i6.prototype.s1=function(a){cph(this,"s",a)};
i6.prototype.onInitialSyncSuccess=i6.prototype.s1;i6.prototype.q1=function(a){cph(this,"e",a)};i6.prototype.onInitialSyncError=i6.prototype.q1;i6.prototype.Vd=function(a){var b=this.D.H["create-draft"];a=a.yf?a.yf:void 0;if(b)a=(new F4("create-draft")).setApiEventArgs(new c6(!1,void 0,void 0,a)).build(),b(a);else throw Error("Can not create a discussion because the editor did not provide a handler.");};
i6.prototype.Ob=function(){var a=this.D.H["create-draft"];if(a){var b=(new F4("create-draft")).setApiEventArgs(new c6(!0,new Wm(0,this.Gu.D.H),this.Gu.D.O)).build();a(b)}};function cph(a,b,c){if(b in a.ma){var d=a.ma[b];null===d?c():a.ma[b]=ue(d,c)}else a.ma[b]=c}function vnh(a,b){var c=a.ma[b];null!=c&&c();a.ma[b]=null}i6.prototype.klb=function(){this.ub()};i6.prototype.tickle=i6.prototype.klb;
i6.prototype.ub=function(){a:{var a=this.R;if(Pfh(a.D)){if(!a.O){if(!a.C&&!unh(a))break a;wnh(a)}nnh(a.C,a.D.bga?1:void 0)}}};i6.prototype.sync=i6.prototype.ub;i6.prototype.bh=function(){xnh(this.R)};i6.prototype.fullSync=i6.prototype.bh;i6.prototype.vd=function(){var a=this.R;Pfh(a.D)&&(a.C.J=!0)};i6.prototype.blockFutureSync=i6.prototype.vd;i6.prototype.kOb=function(){var a=this.R;Pfh(a.D)&&(a.C.J=!1)};i6.prototype.unblockFutureSync=i6.prototype.kOb;
i6.prototype.pV=function(){var a=this.R;return Pfh(a.D)?a.C.J:!1};i6.prototype.isFutureSyncBlocked=i6.prototype.pV;i6.prototype.rq=function(){var a=this.D;return null!=a.h3?a.h3:6E4};i6.prototype.getRetryBackoffThreshold=i6.prototype.rq;i6.prototype.kV=function(){return this.D.Hba};i6.prototype.isBrowserChannelEnabled=i6.prototype.kV;i6.prototype.oV=function(){return!!Nj(this.D.dh,30)};i6.prototype.isDocsStreamHeaderEnabled=i6.prototype.oV;i6.prototype.sV=function(){return Qfh(this.D)};
i6.prototype.isNewDocosStreamPaneUiEnabled=i6.prototype.sV;i6.prototype.isBadgingEnabled=function(){return this.D.eH()};i6.prototype.isBadgingEnabled=i6.prototype.isBadgingEnabled;i6.prototype.sD=function(){return Tjh(this.C)};i6.prototype.hasPendingContent=i6.prototype.sD;m=i6.prototype;
m.g8b=function(a){var b=this,c=a.data;a=g5(f5(new e5,43011),c.bk);var d=null!=c.wn;d&&h5(a,c.wn);o5(Ggh(this.F),i5(a));Pmh(this.H,c.bk).addCallback(function(e){if(e){e=(e=b.C.R)&&e.getId()!==c.bk;e||(b.Vza(new gt(d?new Ldh("",void 0,void 0,void 0,c.wn):A4())),b.kya(new gt(d?new Ldh("",void 0,void 0,void 0,c.wn):A4())));var f=g6(b,"deleted");if(f&&c.wn&&c.Xp){var h=(new F4("deleted")).addAnchorId(c.wn).addDocoHandle(c.Xp).setUserInitiated(!0).build();f(h);b.WT=null}e&&(b.WT=b.C.R)}})};
m.ASb=function(a){a=a.data;rph(this,a.Xp,a.bk,a.NT,void 0,a.yf)};m.w8b=function(a){a=a.data;rph(this,a.Xp,a.bk,a.NT,a.olb)};function rph(a,b,c,d,e,f){f=void 0===f?null:f;var h=g6(a,"before-doco-deleted");if(h&&b){var k=k5(s5(a.C,b));d=e?new Cmh(d,e):new vmh(d);b=(new smh("before-doco-deleted")).addAnchorId(k).addDocoHandle(b).setUserInitiated(!0).setApiEventArgs(d).build();h(b);if(b.C)return}sph(a,c,!0,e,f)}
m.s8b=function(a){var b=a.data;if((a=g6(this,"converted"))&&b){var c=k5(s5(this.C,b.Xp)),d=new b6(c,b.VZa,b.NT);b=(new smh("converted")).addAnchorId(c).addDocoHandle(b.Xp).setUserInitiated(!0).setApiEventArgs(d).build();a(b)}};m.zSb=function(a){(a=s5(this.C,a))&&sph(this,a.getId(),!1)};i6.prototype.deleteDoco=i6.prototype.zSb;function sph(a,b,c,d,e){e=void 0===e?null:e;var f=a.C.fd(b),h=p5(a.C,b);f=k5(f);var k=a.H;d6(k,u(k.Veb,k,b,d,void 0===e?null:e)).addCallback(u(a.Vjc,a,f,h,c))}
i6.prototype.Vjc=function(a,b,c,d){if(d){d=g6(this,"before-selected");var e=g6(this,"selected"),f=g6(this,"deleted");if(a&&b){if(d){var h=(new F4("before-selected")).setUserInitiated(c).build();d(h)}e&&(h=(new F4("selected")).setUserInitiated(c).build(),e(h));f&&(h=(new F4("deleted")).addAnchorId(a).addDocoHandle(b).setUserInitiated(c).build(),f(h));this.WT=null}}};i6.prototype.JQb=function(a){return Mgh(this.O,a)};i6.prototype.undoDeleteDoco=i6.prototype.JQb;
i6.prototype.kma=function(a){this.Xa=a;P(nph(this).getElement(),a)};i6.prototype.setDocosGutterVisibility=i6.prototype.kma;i6.prototype.nV=g("Xa");i6.prototype.isDocosGutterVisible=i6.prototype.nV;i6.prototype.Lf=function(){var a=this.Fb;a.C=a.H.D.C;a.F.setOption("accessLevel","readonly")};i6.prototype.enterReanchorMode=i6.prototype.Lf;i6.prototype.lna=function(){var a=this.Fb;a.D.V=!1;null!=a.C&&(a.F.setOption("accessLevel",a.C),a.C=null)};i6.prototype.resetReanchorMode=i6.prototype.lna;
i6.prototype.jV=function(a,b){var c=this.H;d6(c,u(c.wic,c,a)).addCallback(b)};i6.prototype.interceptingUndoDeleteDoco=i6.prototype.jV;i6.prototype.iV=function(a,b){var c=this.H;b=new peh(b);d6(c,u(c.Wec,c,a,b))};i6.prototype.interceptingSetSuggestionQuote=i6.prototype.iV;i6.prototype.St=function(a){a=s5(this.C,a);if(!a)return null;if(!a.Uj())throw Error("Attempting to get model diff summary from a non-suggestion.");return a.L4()};i6.prototype.getSuggestionQuote=i6.prototype.St;
i6.prototype.jg=function(a,b){return this.Ra?imh(this.Ra,a,void 0===b?!1:b):new gmh(Tp())};i6.prototype.findAssignee=i6.prototype.jg;i6.prototype.hK=function(){return 0<this.C.H.size};i6.prototype.hasUnseenDocos=i6.prototype.hK;i6.prototype.aqa=function(){mhh(this.F).C=!0};i6.prototype.startBatchEvent=i6.prototype.aqa;i6.prototype.cf=function(){var a=mhh(this.F);a.C&&(a.C=!1,a.D.dispatchEvent(null))};i6.prototype.endBatchEvent=i6.prototype.cf;m=i6.prototype;
m.ESb=function(a){a=a.data;var b=this.H,c=a.F;d6(b,u(b.hdc,b,a.C,a.D,a.H,void 0===c?null:c)).addCallback(u(this.Cbc,this,a))};
m.Cbc=function(a,b){if(b){b=g6(this,"before-selected");var c=g6(this,"selected");if(c){var d=this.C.fd(a.C),e=p5(this.C,a.C);d&&d.nA()&&e&&(a.D?(b&&(a=(new F4("before-selected")).setUserInitiated(!0).build(),b(a)),a=(new F4("selected")).setUserInitiated(!0).build(),c(a),this.WT=null):(b&&(a=(new F4("before-selected")).addAnchorId(k5(d)).addDocoHandle(e).setUserInitiated(!0).build(),b(a)),a=(new F4("selected")).addAnchorId(k5(d)).addDocoHandle(e).setUserInitiated(!0).build(),c(a),this.WT=d))}}};
m.Fac=function(a){a=a.data;var b=this.H;d6(b,u(b.pjc,b,a.C,a.D))};m.Gac=function(a){a=a.data;var b=this.H;d6(b,u(b.qjc,b,a.C,a.D,a.F))};m.vac=function(a){this.setOption("sortpaneby",a.data.Igc);(a=this.D.Qa)&&a(43086)};m.W7b=function(a){var b=this.D.jg;b&&(a=this.C.fd(a.data.bk))&&b(k5(a),!0)};
function tph(a,b,c){var d=g6(a,c);if(d){var e=a.C.fd(b.C)||null,f=b.F;if(e!=a.WT||"number"===typeof f){var h=new F4(c),k=p5(a.C,b.C);e&&e.nA()&&k&&h.addAnchorId(k5(e)).addDocoHandle(k);k=new y4;var l=b.O;null!=l?k=new qmh(l):"number"===typeof f?k=new xdh(f):void 0!==b.KT&&(k=new Dmh(b.KT));f=!!e&&!a.C.ma(e);h.setNonAnchored(f).setUserInitiated(b.J).setApiEventArgs(k);d(h.build())}"selected"==c&&(a.WT=e)}}m.Vza=function(a){tph(this,a.data,"before-selected")};
m.kya=function(a){var b=a.data;tph(this,b,"selected");if(a=this.C.fd(b.C))b="number"===typeof b.F?4:b.D==nph(this).getId()?1:b.D==fph(this).D.getId()?2:3,a=c5(b5(43044),a),a.H=b,2==b&&(a.C=105),q5(this.Ba,d5(a))};m.N9b=function(a){a=a.data;var b=a.C,c=a.F,d=this.H;c=c?c:void 0;d6(d,u(d.jab,d,a.D,a.H,null,b?b:void 0,void 0===c?null:c))};m.Jac=function(a){var b=a.data;if(a=g6(this,"write-feedback"))b=(new F4("write-feedback")).setUserInitiated(!0).setApiEventArgs(new $oh(b.source)).build(),a(b)};
m.B8b=function(){var a=g6(this,"disable-smart-todo-feature");if(a){var b=(new F4("disable-smart-todo-feature")).setUserInitiated(!0).build();a(b)}};m.BSb=function(a){var b=this,c=a.data;Qmh(this.H,c.ggb,c.wn,c.text,c.quote,c.qla,c.X1,c.yf).addCallback(function(d){if(0<d){var e=c.wn,f=c.Xp,h=g6(b,"posted");h&&e&&f&&(e=(new F4("posted")).addAnchorId(e).addDocoHandle(f).setUserInitiated(!0).build(),h(e));b.Vza(new gt(A4()));b.kya(new gt(A4()))}return d})};
m.J9b=function(a){var b=g6(this,"hover");if(b){a=a.data;var c=Rdh("hover").setNonAnchored(!a.WPb).setUserInitiated(!0);if(a.bQb){var d=this.C.fd(a.bk);c.addAnchorId(d?k5(d):"");c.addDocoHandle(p5(this.C,a.bk))}b(c.build())}};m.G9b=function(a){if("dd"==a.type){var b=g6(this,"deleted");if(b&&a.C&&a.D&&(a.Zr||this.D.Ja)&&a.O&16){var c=(new F4("deleted")).addDocoHandle(a.D);a.Zr&&c.addAnchorId(a.Zr);a=c.build();b(a)}}};
m.F9b=function(a){if("bu"==a.type){var b=Rdh("created");this.xa&&(b.setApiEventArgs(new xmh(this.xa,a.C[0].wn)),this.xa=null);var c=Rdh("resolved"),d=Rdh("unresolved");b=Bmh(b,a.C,8);c=Bmh(c,a.C,2);d=Bmh(d,a.C,4);uph(this,"created",b);uph(this,"resolved",c);uph(this,"unresolved",d)}};m.W9b=function(a){if("p"==a.type&&(a=g6(this,"pending"))){var b=(new F4("pending")).setUserInitiated(!0).build();a(b)}};
m.K7b=function(){var a=g6(this,"view-updated");if(a){var b=(new F4("view-updated")).setUserInitiated(!0).build();a(b)}};function uph(a,b,c){a=g6(a,b);!c.isEmpty()&&a&&a(c.build())}function g6(a,b){return a.isDisposed()?null:a.D.H[b]||null}
m.Ka=function(){delete this.xn;delete this.D;delete this.OS;delete this.O;delete this.Za;delete this.Oa;delete this.cb;delete this.Qa;delete this.X7;delete this.Ea;delete this.C;delete this.Sa;Tf(this.Gu);delete this.Gu;Tf(this.uv);delete this.uv;Tf(this.Pt);delete this.Pt;i6.Ya.Ka.call(this);Tf(this.F);delete this.F};ta("Docos",i6,void 0);ta("Docos.Point",Wm,void 0);ta("Docos.Point.getX",i6.prototype.Dc,void 0);ta("Docos.Point.getY",i6.prototype.Lc,void 0);
ta("Docos.AbstractAlteredDocoArgs",vlh,void 0);ta("Docos.NewDraftArgs",Blh,void 0);ta("Docos.LayoutType.ABSOLUTE","absolute",void 0);ta("Docos.LayoutType.VERTICAL","vertical",void 0);ta("Docos.UiVersion.LEGACY","legacy",void 0);ta("Docos.UiVersion.MATERIAL","material",void 0);ta("Docos.UiVersion.MATERIAL_LIGHT_BACKGROUND","material_light_background",void 0);ta("Docos.OptionName.ACCESS_LEVEL","accessLevel",void 0);ta("Docos.OptionName.ACL_CHECK_FN","acl-check-fn",void 0);
ta("Docos.OptionName.ACL_FIX_FN","acl-fix-fn",void 0);ta("Docos.OptionName.ANCHOR_DIV","anchordiv",void 0);ta("Docos.OptionName.ANCHOR_IS_ORPHANED_FN","anchor-is-orphaned-fn",void 0);ta("Docos.OptionName.ANCHOR_MUTATE_FN","anchor-mutate-fn",void 0);ta("Docos.OptionName.ANCHOR_SHADOW","anchor-shadow",void 0);ta("Docos.OptionName.AUTO_COMPLETE_FACTORIES","auto-complete-factories",void 0);ta("Docos.OptionName.BROWSER_APP_CLIPBOARD","browser-app-clipboard",void 0);
ta("Docos.OptionName.DRIVE_ID","drive-id",void 0);ta("Docos.OptionName.DOCO_LINK_BASE_URL","doco-link-base-url",void 0);ta("Docos.OptionName.DEFER_FIRST_SYNC","defer-first-sync",void 0);ta("Docos.OptionName.DELETE_DIALOG_SHOW","delete-dialog-show",void 0);ta("Docos.OptionName.DIALOG_CLOSED","dialog-closed",void 0);ta("Docos.OptionName.DIALOG_OPENED","dialog-opened",void 0);ta("Docos.OptionName.DISABLE_FOCUS","disable-focus",void 0);
ta("Docos.OptionName.DISABLE_STREAM_PANE_FOCUS_WRAPPING","disable-spfw",void 0);ta("Docos.OptionName.DOC_SCROLLER","docscroller",void 0);ta("Docos.OptionName.ENABLE_COMMENT_BUTTON","enable-comment-button",void 0);ta("Docos.OptionName.ENABLE_GSUITE_EMBEDDING","enable-gsuite-embedding",void 0);ta("Docos.OptionName.ENABLE_INSTANT_MENTIONS","enable-instant-mentions",void 0);ta("Docos.OptionName.ENABLE_LAZY_LOADING","enable-lazy-loading",void 0);
ta("Docos.OptionName.ENABLE_PRESENCE_MODAL","enable-presence-modal",void 0);ta("Docos.OptionName.ENABLE_NEW_DELETE_UI","enable-new-delete-ui",void 0);ta("Docos.OptionName.ENABLE_ALL_DOCOS_IN_ANCHORED_STREAM","enable-all-docos-in-anchored-stream",void 0);ta("Docos.OptionName.ENABLE_ROVING_TABINDEX","enable-roving-tabindex",void 0);ta("Docos.OptionName.ENABLE_TRACK_MOUSE_POSITIONS_IN_DOCO_VIEW","enable-track-mouse-positions-in-doco-view",void 0);
ta("Docos.OptionName.ENABLE_DOCOS_PEOPLE_HOVERCARD","enable-docos-people-hovercard",void 0);ta("Docos.OptionName.FATAL_READONLY","fatal-readonly",void 0);ta("Docos.OptionName.HIDE_NOTIFICATION_SETTINGS","hide-notification",void 0);ta("Docos.OptionName.HIDE_PROMO_FN","hidepromofn",void 0);ta("Docos.OptionName.IGNORE_POSITIONAL_HISTORY","iph",void 0);ta("Docos.OptionName.IMPRESSION_RECORDER_FN","impression-recorder-fn",void 0);ta("Docos.OptionName.INACTIVE_DOCO_INDENT","inactive-doco-indent",void 0);
ta("Docos.OptionName.INSTANT_DOCOS_DIV","instant-docos-div",void 0);ta("Docos.OptionName.INTERCEPT_DOCO_EDIT_FN","intercept-docos-edit-fn",void 0);ta("Docos.OptionName.IS_AN_ILLEGAL_WRITE_FUNCTION","is-an-illegal-write-fn",void 0);ta("Docos.OptionName.IO","i",void 0);ta("Docos.OptionName.IS_UNTRUSTED_IFRAME","untrusted-iframe",void 0);ta("Docos.OptionName.KEY_DATA","kd",void 0);ta("Docos.OptionName.LATENCY_REPORTER","latency-reporter",void 0);
ta("Docos.OptionName.MEMORY_MONITOR_FN","memory-monitor-fn",void 0);ta("Docos.OptionName.LAYOUT","layout",void 0);ta("Docos.OptionName.LAYOUT_RTL","layoutrtl",void 0);ta("Docos.OptionName.LINK_OPENER","link-opener",void 0);ta("Docos.OptionName.LISTENERS","listeners",void 0);ta("Docos.OptionName.LOAD_ACL_FIXER_FN","load-acl-fixer-fn",void 0);ta("Docos.OptionName.LOCAL","l",void 0);ta("Docos.OptionName.LOG_LATENCY_EVENT_FN","log-latency-event-fn",void 0);
ta("Docos.OptionName.MAX_DOCO_HEIGHT","maxheight",void 0);ta("Docos.OptionName.MODAL_DIALOG_Z_INDEX","modal-dialog-z-index",void 0);ta("Docos.OptionName.OFFLINE","offline",void 0);ta("Docos.OptionName.OVERFLOW_MENU_ITEMS","overflow-menu-items",void 0);ta("Docos.OptionName.OVERFLOW_MENU_SHOW_LINK","overflow-menu-show-link",void 0);ta("Docos.OptionName.PANE_DIV","panediv",void 0);ta("Docos.OptionName.PANE_KB_DIV","panekbdiv",void 0);ta("Docos.OptionName.PRESENCE_MODAL_SHOW","presence-modal-show",void 0);
ta("Docos.OptionName.SHOW_ERRORS","showerrors",void 0);ta("Docos.OptionName.TOOLTIP_MANAGER","tooltip-manager",void 0);ta("Docos.OptionName.QUOTE_FN","quotefn",void 0);ta("Docos.OptionName.QUOTE_RENDER_FN","quoterenderfn",void 0);ta("Docos.OptionName.READONLY","readonly",void 0);ta("Docos.OptionName.RESOLVE","resolve",void 0);ta("Docos.OptionName.SCROLL_CONTAINER","container",void 0);ta("Docos.OptionName.SCROLL_CONTAINER_DIV","containerdiv",void 0);
ta("Docos.OptionName.SET_TOTAL_DOCOS_COUNTS_FN","set-total-docos-counts-fn",void 0);ta("Docos.OptionName.SHOW_PROMO_FN","showpromofn",void 0);ta("Docos.OptionName.SORT_PANE","sortpane",void 0);ta("Docos.OptionName.SORT_PANE_BY","sortpaneby",void 0);ta("Docos.OptionName.STORAGE","storage",void 0);ta("Docos.OptionName.STORAGE_IS_READ_ONLY","storage-ro",void 0);ta("Docos.OptionName.STREAM_BUTTON","stream-button",void 0);
ta("Docos.OptionName.STREAM_PANE_BANNER_LEARN_MORE_URL","stream-pane-banner-learn-more-url",void 0);ta("Docos.OptionName.STREAM_PANE_BANNER_MESSAGE","stream-pane-banner-message",void 0);ta("Docos.OptionName.SYNC_ONCE","so",void 0);ta("Docos.OptionName.UI_VERSION","ui-version",void 0);ta("Docos.OptionName.USER_COLOR_FROM_NAME_PROVIDER_FN","user-color-provider-from-name-fn",void 0);ta("Docos.OptionName.USER_COLOR_PROVIDER_FN","user-color-provider-fn",void 0);
ta("Docos.OptionName.STATIC_INPUT_PANE_MESSAGE","static-input-pane-message",void 0);ta("Docos.EventType.BEFORE_DOCO_DELETED","before-doco-deleted",void 0);ta("Docos.EventType.BEFORE_SELECTED","before-selected",void 0);ta("Docos.EventType.BEFORE_SUGGESTION_ACCEPTED","before-suggestion-accepted",void 0);ta("Docos.EventType.BEFORE_SUGGESTION_REJECTED","before-suggestion-rejected",void 0);ta("Docos.EventType.BOUNDS_UPDATED","bounds",void 0);ta("Docos.EventType.CONVERTED","converted",void 0);
ta("Docos.EventType.CREATE_DRAFT","create-draft",void 0);ta("Docos.EventType.CREATED","created",void 0);ta("Docos.EventType.DELETED","deleted",void 0);ta("Docos.EventType.DISABLE_SMART_TODO_FEATURE","disable-smart-todo-feature",void 0);ta("Docos.EventType.DOCO_RENDERED","doco-rendered",void 0);ta("Docos.EventType.HIGHLIGHT_INITIAL_DOCO","highlight-initial-doco",void 0);ta("Docos.EventType.HOVER","hover",void 0);ta("Docos.EventType.INITIAL_ANCHORED_RENDER_DONE","initial-anchored-render-done",void 0);
ta("Docos.EventType.INITIAL_PANE_RENDER_DONE","initial-pane-render-done",void 0);ta("Docos.EventType.INITIAL_SYNC_ERROR","sync-error",void 0);ta("Docos.EventType.INITIAL_SYNC_SUCCESS","sync-success",void 0);ta("Docos.EventType.INITIAL_SYNC_AND_RENDER_COMPLETE","initial-sync-and-render-complete",void 0);ta("Docos.EventType.LINKED_DOCO_HIGHLIGHTED","linked-doco-highlighted",void 0);ta("Docos.EventType.MODEL_LOADED","model-loaded",void 0);ta("Docos.EventType.NETWORK_ERROR","net-error",void 0);
ta("Docos.EventType.PENDING","pending",void 0);ta("Docos.EventType.POSTED","posted",void 0);ta("Docos.EventType.POST_LIMIT_EXCEEDED_ERROR","post-limit-error",void 0);ta("Docos.EventType.REANCHOR","reanchor",void 0);ta("Docos.EventType.RESOLVED","resolved",void 0);ta("Docos.EventType.SELECTED","selected",void 0);ta("Docos.EventType.TOGGLE_SHOW_STREAM_PANE","toggle-show-stream-pane",void 0);ta("Docos.EventType.UNSEEN_DOCOS_UPDATED","unseen-docos-updated",void 0);
ta("Docos.EventType.UNRESOLVED","unresolved",void 0);ta("Docos.EventType.VIEW_FLUSHED","view-updated",void 0);ta("Docos.EventType.WRITE_FEEDBACK","write-feedback",void 0);ta("Docos.AccessLevel.READONLY","readonly",void 0);ta("Docos.AccessLevel.SUGGEST","suggest",void 0);ta("Docos.AccessLevel.FULL","full",void 0);ta("Docos.NewDocoType",Ivd,void 0);ta("Docos.NewDocoType.CLIENT_INTEGRATED_DRAFT","client-integrated-draft",void 0);ta("Docos.NewDocoType.DISCUSSION","discussion",void 0);
ta("Docos.NewDocoType.DRAFT","draft",void 0);ta("Docos.NewDocoType.INSTANT_DOCO","instant-doco",void 0);ta("Docos.NewDocoType.SMART_TODO","smart-todo",void 0);ta("Docos.NewDocoType.SUGGESTION","suggestion",void 0);ta("Docos.prototype.dispose",i6.prototype.dispose,void 0);ta("Docos.CountField.ACCEPTED","accepted",void 0);ta("Docos.CountField.DRAFT","draft",void 0);ta("Docos.CountField.OPEN","open",void 0);ta("Docos.CountField.REJECTED","rejected",void 0);ta("Docos.CountField.RESOLVED","resolved",void 0);
ta("Docos.CountField.TOTAL","total",void 0);ta("Docos.FeedbackSource.SMART_TODO","smart-todo",void 0);window.closure_verification&&(window.closure_verification.dcs_main_js={});function vph(a){a=void 0===a?[]:a;this.D=YDd();this.C={};a=ja(a);for(var b=a.next();!b.done;b=a.next())this.add(b.value)}m=vph.prototype;m.add=function(a){this.C[this.D.sb(a)]=a};m.has=function(a){return Zd(this.C,this.D.sb(a))};m.isEmpty=function(){return ce(this.C)};m.clear=function(){de(this.C)};m.Jc=function(a){for(var b in a.C)fe(this.C,b)};m.Bv=function(a){var b=new vph,c=Td(this.C,function(e,f){return!Zd(a.C,f)}),d;for(d in c)b.C[d]=c[d];return b};
m.bx=function(a){var b=new vph,c=Td(this.C,function(e,f){return Zd(a.C,f)}),d;for(d in c)b.C[d]=c[d];return b};m.forEach=function(a){Sd(this.C,a)};function wph(a,b,c,d,e,f){ptc.call(this,a,b,c,d,e,2,0,f)}t(wph,ptc);wph.prototype.J=function(a){return rtc(this,a,"range-border cell-border waffle-docos-target-cell-border")};function xph(a,b,c,d,e,f,h){h=void 0===h?Yo():h;Uo.call(this);this.L=null;this.Ra="none";this.xa=500;this.ma=!1;this.F=a;this.Xa=b;this.H=c;this.Ma=d;this.O=e;this.C=f;this.V=b.Ma;this.D=b.C;this.R=YDd();this.gb=h;this.J=new vph;this.Va=!0;this.Ba=new om;this.Sa=new om;this.Qa=new om;this.Ja=new Vo(this);this.qa(this.Ja);this.Ea=z(y(),"docs-egms");yph(this);this.Ja.listen(this.D,"na",this.R0b).listen(this.C,"xe",this.Asb).listen(this.C,"ye",this.Csb).listen(this.C,"we",this.ysb).listen(this.C,"Ae",
this.$vb).listen(this.C,"Be",this.O0b).listen(this.C,"ze",this.Yvb).listen(this.C,"Je",this.Q0b).listen(this.C,"Ee",this.yyb).listen(this.C,"He",this.P0b).listen(this.C,"De",this.Bwb).listen(this.C,"Ie",this.bIb).listen(this.C,"ve",this.Xvb).listen(this.C,"Ge",this.awb).listen(this.C,"Ce",this.cwb).listen(this.C,"Fe",this.UFb);zph(this)}t(xph,Uo);m=xph.prototype;m.cwb=function(){Aph(this,!0)};m.Xvb=function(a){var b=a.C;b&&Bph(this,[b],!0);Cph(this,a.C)};
m.awb=function(a){var b=a.C;b&&Dph(this,[b]);Cph(this,a.C)};function Cph(a,b){var c=sdh(a.D,b);c?(b=GK(a.V,c),a=a.Ma,c=c.Jb(),b=Mch(b).length,Qch(JZe(a,c),b),fQ(a)):Eph(a)}m.UFb=function(){Aph(this,!0);this.C.C&&Fph(this)};m.Csb=function(){Aph(this,!0)};m.ysb=function(a){a.C?(a=a.C,this.ma=!0,Rch(this.F,this.R.sb(a)),this.ma=!1):Aph(this,!0)};m.Q0b=function(){Ddh(this)};
function Ddh(a){var b=a.C.D,c=a.J.isEmpty();a.C.C?Fph(a):b?(Gph(a,[b]),c&&!a.J.isEmpty()&&(a.ma=!0,Rch(a.F,a.R.sb(b)),a.ma=!1)):c||Aph(a,!0)}m.yyb=function(){Aph(this,!1)};m.P0b=function(){Aph(this,!0)};function Aph(a,b){a.J.clear();var c=a.F;c.C.flushDocoPositions(Sch(c,{}));b&&Rch(a.F,"");P(a.O,!1);Tf(a.L);Hph(a);Iph(a);a.C.C||Jph(a);a.Ma.e0(a.C.C);zph(a)}m.isEmpty=function(){return this.J.isEmpty()&&this.Sa.isEmpty()&&this.Ba.isEmpty()&&this.Qa.isEmpty()};
function zph(a){var b=sJ(a.H);b&&(a.xa=Ktc(b.D)/2,a.F.setOption(Docos.OptionName.MAX_DOCO_HEIGHT,a.xa))}function Iph(a){Uf(a.Sa.Ed());a.Sa.clear()}function Hph(a){Uf(a.Ba.Ed());a.Ba.clear()}function Jph(a){$c(a.Qa.Ed(),function(b){xx(b,"waffle-docos-target-cell-header")});a.Qa.clear()}m.Asb=function(a){this.C.D||this.C.C||(a=a.D,a.length?Gph(this,a,!0):Kph(this,!1))};function Gph(a,b,c){c=void 0===c?!1:c;v4(a.F)&&a.Va||Dph(a,Xd(a.J.Bv(new vph(b)).C));Bph(a,b,c)}
function Fph(a){var b=hI(a.D);b&&(b=GK(a.V,b),Gph(a,Mch(b),!0),Lph(a),Mph(a))}m.Yvb=function(a){this.Va=!1;Nph(this,a.C,a.cell);this.Va=!0};function Nph(a,b,c){Gph(a,[b],!0);Hph(a);Iph(a);Jph(a);Oph(a,c)}m.O0b=function(a){Pph(this,a.C,a.cell)};
function Pph(a,b,c,d){d=void 0===d?!1:d;var e=sdh(a.D,b);if(e){var f=e.Jb();if(Qph(a,b)){var h=Rph(a,c);l5b(XH(a.D,f).C,function(){return e.Dr(h)}).addCallback(function(){var k=this;if(!Sph(this,c)||h.equals(e.F)||this.ma){yI(nI(e,c))&&QRc(sJ(this.H)).setVisible(!1);Tph(this,c);Nph(this,b,c);this.Ma.e0(this.C.C);if(d){var l=new Sq(function(){k.F.C.grabFocus()});this.qa(l);l.start()}this.dispatchEvent("Yi")}else YH(e,h),Pph(this,b,c,d)},a)}else a.D.xC(f,function(){a.F.C.grabFocus();Pph(a,b,c,!0)})}else a.dispatchEvent("Yi")}
function Tph(a,b){var c=hI(a.D),d=sJ(a.H);if(!a.ma&&c&&d){var e=d.D;d=d.F;var f=DN(e,"waffle",!1,!1),h=a.Ea?282:240;if(!e.Mb()){var k=fp("docs-docos-activitybox");k&&Cw(k)&&(h+=f.right-Aw(k).left)}k=Uph(a,b);b=k.x-f.right+h;a=k.y-f.bottom+a.xa;if(!(0>=b&&0>=a)){d=Kn(d.C);for(d=tn(d.y,d.x,d.y,d.x);oAc(e,d).height<a;)d=dCa(d,1);for(;oAc(e,d).width<b;)d=eCa(d,1);e=d.height;a=d.width;TI(c,i1b(c,b1b(c,MI(c),a,e)))}}}function Sph(a,b){a=hI(a.D);return q4b(a.fk("r"),b.y)&&q4b(a.fk("c"),b.x)}
function Rph(a,b){return OH(hI(a.D),b.y,b.x)||un(b)}
m.$vb=function(a){if(!B1b(this.D)&&!this.C.C&&(Hph(this),Qph(this,a.C)&&(Kph(this,!0),this.C.D!=a.C))){var b=this.R.sb(a.C),c=this.F;c.C.isDocoResolved(UQ(c.D,b))?(b=a.cell,a=sJ(this.H),(c=hI(this.D))&&a&&b&&(b=OH(c,b.y,b.x)||un(b),b=DZe(a,b,"waffle-docos-target-cell-resolved-rect"),JO(a.V,"discussions",b,!0),b.setVisible(!0),this.Ba.add(b))):(c=a.cell,a=sJ(this.H),(b=hI(this.D))&&a&&c&&(c=OH(b,c.y,c.x)||un(c),b=new wph(b,a.R,a.D,a.F,new stc(c),this.gb),JO(a.V,"discussions",b,!0),this.Ba.add(b),b.setVisible(!0)))}};
function Vph(a,b){b&&(vx(b,"waffle-docos-target-cell-header"),a.Qa.add(b))}function Oph(a,b){var c=sJ(a.H),d=hI(a.D);d&&c&&b&&(d=OH(d,b.y,b.x)||un(b),d=DZe(c,d,"waffle-docos-target-cell-rect"),JO(c.V,"discussions",d,!0),a.Sa.add(d),d.setVisible(!0),d.getElement()&&a.Ja.listen(d.getElement(),["click","contextmenu","dblclick","mousedown","mouseup"],function(e){e.Ek=b;c.dispatchEvent(e)}))}
function Lph(a){Iph(a);var b={};a.J.forEach(function(c){c=hS(Wph(c));var d=c.x+"-"+c.y;b[d]||(Oph(a,c),b[d]=!0)})}function Mph(a){Jph(a);var b=hI(a.D),c=sJ(a.H);if(b&&c){var d=c.R;c=c.F;b=GK(a.V,b);var e=Szc(c,"r"),f=mN(c,"r"),h=Szc(c,"c"),k=mN(c,"c");$c(Mch(b),function(l){l=hS(l);l.x>=h&&l.x<=k&&Vph(a,d.ib.getElement(hN(d,"ch-",null,d.mb.oH(l.x))));l.y>=e&&l.y<=f&&Vph(a,d.ib.getElement(hN(d,"rh-",d.mb.C4(l.y),null)))})}}m.bIb=function(){Eph(this)};
function Eph(a){$c(Yd(a.V.C),function(b){var c=rdh(a.D,b);if(c){var d=GK(a.V,c);c=a.Ma;d=Mch(d).length;Qch(JZe(c,b),d);fQ(c)}})}m.Bwb=function(a){if(a.C){var b=this.R.sb(a.C);Tch(this.F,b,Uph(this,a.cell))}};
function Bph(a,b,c){c=void 0===c?!1:c;for(var d={},e={},f=[],h=0;h<b.length;h++){var k=b[h],l=a.R.sb(k);var n=a;if(sJ(n.H)&&Qph(n,k)){var q=hS(k);Xph(n,Rph(n,q))?(q=n.C.D,q=!!q&&n.R.sb(q)==n.R.sb(k),n=n.C.C||q||kd(n.C.F.Ed(),k)):n=!1}else n=!1;n?(n=hS(k),n=Rph(a,n),q=YVe(n),e[q]=e[q]||0,d[l]=Uph(a,Kn(n),e[q]),e[q]++,a.J.add(k)):f.push(k)}a.J.isEmpty()||Kph(a,!0);ce(d)||(b=a.F,b.C.updateDocoPositions(Sch(b,d)));v4(a.F)||Dph(a,f);c&&Yph(a)}
function Dph(a,b){var c=a.J.bx(new vph(b));if(!c.isEmpty()){a.J.Jc(c);b=a.F;c=Yd(c.C);for(var d=[],e=0;e<c.length;e++)d.push(UQ(b.D,c[e]));b.C.deleteDocoPositions(d)}a.J.isEmpty()&&Kph(a,!1)}
function Uph(a,b,c){c=void 0===c?0:c;var d=sJ(a.H),e=hI(a.D),f=d.D,h=f.Mb(),k=Rph(a,b),l=yM(f,k);c*=15;k=h?l.left-c:l.right+c;var n=l.top+c,q=a.C.C,r=Xm(a.C.H,b),w=yI(nI(e,b));q||r||!w?(b=n+(a.Ea?150:125),0<b-Ktc(f)&&(e=NH(e,"r")-1,CN(f,b,"r","waffle")>=e&&(n-=50))):(q=QRc(d),r=q.L,TRc(d,Kn(JI(e,un(b))),q,q.Ra),e=q.H.height?q.Qa:0,b=q.J.height,d=Math.min(Vtc.height,e+b),b&&(d=d+42+Wtc.top,d+=Wtc.bottom),e&&(d=d+12+Wtc.top,d+=Wtc.bottom),e=d,gtc(q,r),n+=e);a=a.Ea?282:240;c=h?l.right+c+a:l.left-c-a;
a=h?0>k-a:k+a>Jtc(f);l=h?c>Jtc(f):0>c;a&&!l&&(k=c);return new Wm(h?vM(f,k,"c"):k,n)}function Qph(a,b){b=sdh(a.D,b);a=hI(a.D);return!!b&&b==a}function Xph(a,b){if(!b)return!1;var c=sJ(a.H).F,d=!1,e=Kn(b);$Ba(b,function(f,h){var k;if(k=f==e.y)k=null!=Rzc(c,new Wm(h,f));return k?d=!0:!1});return d}m.R0b=function(){yph(this)};
function yph(a){var b=sJ(a.H);b&&(a.gb.appendChild(b.Yj,a.O),a.F.setOption(Docos.OptionName.LAYOUT_RTL,b.D.Mb()),P(a.O,!1),a.F.setOption(Docos.OptionName.ANCHOR_DIV,a.O),a.F.C.renderAnchorSurface())}
function Kph(a,b){var c=w_e(a.O);c="string"===typeof c?1:c;Cw(a.O)||(c=0);var d=b&&1>c?"in":!b&&0<c?"out":"none";"none"==d?(Tf(a.L),P(a.O,b)):a.L&&$x(a.L)&&a.Ra==d||(Tf(a.L),P(a.O,!0),a.L=new gB(a.O,c,"in"==d?1:0,250),a.Ra=d,"out"==d&&Oo(a.L,"finish",function(){Aph(a,!0);var e=sJ(a.H);e&&EO(e)}),a.L.play())}
function Yph(a){a.J.forEach(function(b){var c=a.R.sb(b),d=a.F.getDocoMaxHeight(c);b=Wph(b);b=hS(b);b=Uph(a,b);var e=sJ(a.H),f=e.D,h=e.Ud;h=h.tR(h.zX()-1);var k=hI(a.D).V.y;e=mN(e.F,"r");f=CM(f,new mn(k,e),"r");f+=h;h=wN(sJ(a.H).D,"c");b=Yl(f-(b.y-h),a.Ea?150:125,a.xa);d!=b&&(b<a.xa||d)&&(d=a.F,d.C.setDocoMaxHeight(UQ(d.D,c),b))})}function Wph(a){if("workbook-range"==a.getType())return a;throw Error("Invalid doco with type: "+a.getType());}
m.Ka=function(){delete this.H;delete this.O;delete this.R;delete this.F;this.J.clear();delete this.C;delete this.V;delete this.gb;delete this.Ra;delete this.Ja;delete this.D;delete this.Xa;Tf(this.L);delete this.L;Iph(this);Hph(this);Jph(this);Uo.prototype.Ka.call(this)};function zrh(){eJ.apply(this,arguments)}t(zrh,eJ);m=zrh.prototype;m.e7b=function(a,b,c,d,e,f){return new gdh(a,b,c,d,e,void 0,f,jD)};m.Rmb=function(){return Bdh};m.Smb=function(){return mdh};m.Tmb=function(){return xph};m.Q1b=function(){return Dvf()};iJ("docos",zrh);
